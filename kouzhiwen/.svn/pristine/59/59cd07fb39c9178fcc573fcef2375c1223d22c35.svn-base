[ 2019-01-22T16:02:46+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030263s][吞吐率：33.04req/s] [内存消耗：3,946.17kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000489s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000283s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:49+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.030414s][吞吐率：32.88req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000199s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:49+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030058s][吞吐率：33.27req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000288s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000319s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:50+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032318s][吞吐率：30.94req/s] [内存消耗：3,907.48kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:50+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032281s][吞吐率：30.98req/s] [内存消耗：3,907.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:52+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038067s][吞吐率：26.27req/s] [内存消耗：4,063.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000239s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199910110232497' , 17 , 6 , 20 , 146 , 0.01 , '国务院国资委改革局原副局长' , 1 , 1 , 1548144172 , 1548144172) [ RunTime:0.004281s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:02:55+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030997s][吞吐率：32.26req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000294s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:56+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.031221s][吞吐率：32.03req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000206s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:56+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030516s][吞吐率：32.77req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000340s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000335s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:58+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032158s][吞吐率：31.10req/s] [内存消耗：3,907.48kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000498s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:58+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.030918s][吞吐率：32.34req/s] [内存消耗：3,907.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000483s ]

---------------------------------------------------------------
[ 2019-01-22T16:02:59+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038392s][吞吐率：26.05req/s] [内存消耗：4,063.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000546s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195154575282409' , 17 , 6 , 20 , 146 , 0.01 , '国务院国资委改革局原副局长' , 1 , 1 , 1548144179 , 1548144179) [ RunTime:0.004692s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:03:02+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031416s][吞吐率：31.83req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000293s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:05+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031412s][吞吐率：31.84req/s] [内存消耗：3,907.48kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:05+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.030959s][吞吐率：32.30req/s] [内存消耗：3,907.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000409s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000492s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:06+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031437s][吞吐率：31.81req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000287s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:37+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030990s][吞吐率：32.27req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000280s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:38+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.029490s][吞吐率：33.91req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000286s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:40+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/pecialist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/teacher/pecialist?classify_id=29&page=1 [运行时间：0.041870s][吞吐率：23.88req/s] [内存消耗：4,237.13kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000408s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000498s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000299s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 111  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000243s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 112  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000252s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000272s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 113  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000239s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000247s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 114  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000249s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000252s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 115  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000249s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000289s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 116  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000241s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000228s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 214  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000245s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000247s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 215  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000245s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000238s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 216  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000247s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000231s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 217  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000243s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_details?id=112
[ log ] api.kzwchina.com/discover/teacher/teacher_details?id=112 [运行时间：0.034564s][吞吐率：28.93req/s] [内存消耗：3,949.20kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '112',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 112 LIMIT 1 [ RunTime:0.000392s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` <> 0 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` = 1 LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` = 2 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` = 3 LIMIT 1 [ RunTime:0.000219s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` = 4 LIMIT 1 [ RunTime:0.000223s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 112  AND `answer` <> ''  AND `evaluate` = 5 LIMIT 1 [ RunTime:0.000222s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=111&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=111&page=1 [运行时间：0.040001s][吞吐率：25.00req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '111',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 111 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 111 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000276s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=112&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=112&page=1 [运行时间：0.056166s][吞吐率：17.80req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '112',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000329s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 112 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 112 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T16:03:42+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=112&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=112&page=1 [运行时间：0.030413s][吞吐率：32.88req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c06pq3ksrcsug05a9njbj8nhb0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '112',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000761s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 112 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 112 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000284s ]

---------------------------------------------------------------
[ 2019-01-22T16:05:05+08:00 ] 172.31.69.247 111.196.103.122 GET /info/teacher/edit/id/113.html
[ log ] admin.kzwchina.com/info/teacher/edit/id/113.html [运行时间：0.037040s][吞吐率：27.00req/s] [内存消耗：4,230.14kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/info/teacher/index.html?page=24',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'id' => '113',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->edit[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/info/view/teacher/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000538s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000367s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000671s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 113 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_type` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher_type` WHERE  `enterprise_id` = 0 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `enterprise_id` = 0 [ RunTime:0.000261s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:43+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113237s][吞吐率：8.83req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002939s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:44+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051641s][吞吐率：19.36req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=2v6n3kn61kir7b9uaj5ldfdl92',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000611s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000650s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000239s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:44+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.065747s][吞吐率：15.21req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=2v6n3kn61kir7b9uaj5ldfdl92',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000356s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000249s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:45+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.122881s][吞吐率：8.14req/s] [内存消耗：5,123.94kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=2v6n3kn61kir7b9uaj5ldfdl92',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002961s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:45+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.138588s][吞吐率：7.22req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=2v6n3kn61kir7b9uaj5ldfdl92',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000277s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:52+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114444s][吞吐率：8.74req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002953s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:52+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.052186s][吞吐率：19.16req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000668s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000603s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000243s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:52+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.067019s][吞吐率：14.92req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000777s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000474s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000257s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.045132s][吞吐率：22.16req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000500s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001089s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000641s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 16:06'  AND `p`.`end_time` >= '2019-01-22 16:06' [ RunTime:0.000555s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.059729s][吞吐率：16.74req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000340s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000432s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.079582s][吞吐率：12.57req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000349s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000258s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.044247s][吞吐率：22.60req/s] [内存消耗：3,937.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000494s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001084s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000380s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000399s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.060694s][吞吐率：16.48req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000190s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.066258s][吞吐率：15.09req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000385s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030572s][吞吐率：32.71req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000329s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000571s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000301s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:54+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.040438s][吞吐率：24.73req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000326s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:55+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.057203s][吞吐率：17.48req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000365s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000333s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:56+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034159s][吞吐率：29.27req/s] [内存消耗：3,957.05kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000640s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144416 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144416 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144416 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000437s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144416 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000545s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:06:57+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/study_details?id=105
[ log ] api.kzwchina.com/common/study/study_details?id=105 [运行时间：0.035896s][吞吐率：27.86req/s] [内存消耗：4,124.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000408s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000613s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000365s ]

---------------------------------------------------------------
[ 2019-01-22T16:06:59+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035302s][吞吐率：28.33req/s] [内存消耗：4,037.44kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '105',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000395s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000266s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 378 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:01+08:00 ] 172.31.69.247 111.196.103.122 POST /root/upload/aliyunoss.html
[ log ] admin.kzwchina.com/root/upload/aliyunoss.html [运行时间：69.896385s][吞吐率：0.01req/s] [内存消耗：2,836.31kb] [文件加载：52]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'upload',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'origin' => 'http://admin.kzwchina.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://admin.kzwchina.com/info/teacher/edit/id/113.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryesspdGlAA2OfB1ZP',
  'content-length' => '47493092',
)
[ info ] [ PARAM ] array (
  'id' => 'WU_FILE_0',
  'name' => '赵 越.mp3',
  'type' => 'audio/mp3',
  'lastModifiedDate' => 'Tue Jan 22 2019 15:18:17 GMT+0800 (中国标准时间)',
  'size' => '47492352',
)
[ info ] [ RUN ] app\admin\root\controller\Upload->AliyunOss[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Upload.php ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T16:07:03+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035389s][吞吐率：28.26req/s] [内存消耗：4,037.44kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '105',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000540s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000925s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000262s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 378 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:07+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030334s][吞吐率：32.97req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000279s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:08+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033208s][吞吐率：30.11req/s] [内存消耗：3,937.37kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000552s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:09+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=167
[ log ] api.kzwchina.com/discover/course/course_details?id=167 [运行时间：0.033612s][吞吐率：29.75req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000236s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:10+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031002s][吞吐率：32.26req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000407s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000420s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:12+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035518s][吞吐率：28.15req/s] [内存消耗：4,044.84kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '167',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000504s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 326 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:16+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030079s][吞吐率：33.25req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000292s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:19+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032682s][吞吐率：30.60req/s] [内存消耗：3,907.48kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000498s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:19+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031375s][吞吐率：31.87req/s] [内存消耗：3,907.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000496s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:20+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034806s][吞吐率：28.73req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000256s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:21+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035253s][吞吐率：28.37req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000530s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000235s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:22+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034470s][吞吐率：29.01req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000239s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:23+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034984s][吞吐率：28.58req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000872s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000243s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:24+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034177s][吞吐率：29.26req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000245s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:24+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034703s][吞吐率：28.82req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000400s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000474s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000229s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:25+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034729s][吞吐率：28.79req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000228s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:26+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035415s][吞吐率：28.24req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000526s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000636s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000255s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:26+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034896s][吞吐率：28.66req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000226s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:27+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034745s][吞吐率：28.78req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000220s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:28+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034705s][吞吐率：28.81req/s] [内存消耗：4,060.09kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000239s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:07:28+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.029342s][吞吐率：34.08req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:30+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.029375s][吞吐率：34.04req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000898s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000211s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:30+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030009s][吞吐率：33.32req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000297s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000316s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:58+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112561s][吞吐率：8.88req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002925s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:59+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.052110s][吞吐率：19.19req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001062s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000670s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T16:07:59+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.043346s][吞吐率：23.07req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000234s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:04+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.042530s][吞吐率：23.51req/s] [内存消耗：3,976.70kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000492s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001064s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 144 ORDER BY u.weight ASC [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000451s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:04+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.041397s][吞吐率：24.16req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000313s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000241s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:04+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.029084s][吞吐率：34.38req/s] [内存消耗：3,915.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000195s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:04+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.031280s][吞吐率：31.97req/s] [内存消耗：3,865.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '13',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000296s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000315s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:06+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032248s][吞吐率：31.01req/s] [内存消耗：3,907.44kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000484s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:06+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031484s][吞吐率：31.76req/s] [内存消耗：3,908.13kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.9',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000468s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:08+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035407s][吞吐率：28.24req/s] [内存消耗：4,059.15kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '28',
)
[ info ] [ PARAM ] array (
  'id' => '20',
  'type' => '6',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000496s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000248s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:08:11+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035205s][吞吐率：28.41req/s] [内存消耗：4,059.15kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '28',
)
[ info ] [ PARAM ] array (
  'id' => '20',
  'type' => '6',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000941s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000246s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 242 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:08:13+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042873s][吞吐率：23.32req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001081s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000331s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:13+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.123983s][吞吐率：8.07req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000355s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002874s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:14+08:00 ] 172.31.69.247 111.196.103.122 POST /info/teacher/edit/id/113.html
[ log ] admin.kzwchina.com/info/teacher/edit/id/113.html [运行时间：0.157184s][吞吐率：6.36req/s] [内存消耗：4,359.68kb] [文件加载：73]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/info/teacher/edit/id/113.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '2387',
)
[ info ] [ PARAM ] array (
  'username' => '赵越',
  'password' => '',
  'classify_id' => '29',
  'is_xszd' => '0',
  'teacher_type' => '31',
  'is_zdwy' => '0',
  'name' => '赵 越',
  'nickname' => '赵 越',
  'title' => '现任长江商学院市场营销学访问教授',
  'email' => '',
  'photo' => '/uploads/20190111/dbe3ff397440b9ff15d9a4e13d29b682.jpg',
  'phone' => '',
  'sex' => '1',
  'synopsis' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194849519831253.mp3',
  'synopsis_img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190111/20195451485724853.jpg',
  'unit_title' => '',
  'company_name' => '',
  'brief' => '现任长江商学院市场营销学访问教授，香港科技大学工商管理学院教授；赵越教授曾经在美国、加拿大、香港、澳门和中国大陆为多家营利及非营利机构担任顾问、商业顾问和高层管理培训负责人。他曾合作过的公司包括美国AGY医疗公司、美国Quorum公司、美国iAsiaWorks公司、Radica系统公司（顾问委员会）、香港惠普公司、CSL、SAS、HSBC、DBS、中国华为、中国移动、中国联通、IBM（中国）等。赵越教授曾获得香港科技大学商学院院长颁授教学优异奖。',
  'price' => '0.00',
  'assistant_email' => '',
  'assistant_phone' => '',
  'assistant_tel' => '',
  'id' => '113',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->edit[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000344s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `username` = '赵越'  AND `id` NOT IN (113)  AND `status` > 0 LIMIT 1 [ RunTime:0.001041s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 113 LIMIT 1 [ RunTime:0.000378s ]
[ sql ] [ SQL ] UPDATE `tpn_teacher`  SET `username`='赵越',`classify_id`=29,`is_xszd`=0,`teacher_type`=31,`is_zdwy`=0,`name`='赵 越',`nickname`='赵 越',`title`='现任长江商学院市场营销学访问教授',`email`='',`photo`='/uploads/20190111/dbe3ff397440b9ff15d9a4e13d29b682.jpg',`phone`='',`sex`=1,`synopsis`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194849519831253.mp3',`synopsis_img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190111/20195451485724853.jpg',`unit_title`='',`company_name`='',`brief`='现任长江商学院市场营销学访问教授，香港科技大学工商管理学院教授；赵越教授曾经在美国、加拿大、香港、澳门和中国大陆为多家营利及非营利机构担任顾问、商业顾问和高层管理培训负责人。他曾合作过的公司包括美国AGY医疗公司、美国Quorum公司、美国iAsiaWorks公司、Radica系统公司（顾问委员会）、香港惠普公司、CSL、SAS、HSBC、DBS、中国华为、中国移动、中国联通、IBM（中国）等。赵越教授曾获得香港科技大学商学院院长颁授教学优异奖。',`price`=0,`assistant_email`='',`assistant_phone`='',`assistant_tel`='',`id`=113,`updated_at`=1548144494  WHERE  `id` = 113 [ RunTime:0.005974s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000575s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改教师赵越' , 1548144494) [ RunTime:0.003676s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:15+08:00 ] 172.31.69.247 111.196.103.122 GET /info/teacher/index.html?page=24
[ log ] admin.kzwchina.com/info/teacher/index.html?page=24 [运行时间：0.039988s][吞吐率：25.01req/s] [内存消耗：4,315.38kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/info/teacher/index.html?page=24',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'page' => '24',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->index[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/info/view/teacher/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000360s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` > 0  AND `identity` = '1,3' LIMIT 1 [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `status` > 0  AND `identity` = '1,3' ORDER BY created_at desc LIMIT 230,10 [ RunTime:0.001224s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000252s ]
[ error ] [8]未定义数组索引: type[/www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php:43]

---------------------------------------------------------------
[ 2019-01-22T16:08:15+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.031009s][吞吐率：32.25req/s] [内存消耗：3,891.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '29',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000396s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000395s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:15+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.032234s][吞吐率：31.02req/s] [内存消耗：3,935.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000329s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:17+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.033769s][吞吐率：29.61req/s] [内存消耗：3,955.88kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000895s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144497 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144497 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144497 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144497 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000536s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:08:19+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/study_details?id=105
[ log ] api.kzwchina.com/common/study/study_details?id=105 [运行时间：0.034868s][吞吐率：28.68req/s] [内存消耗：4,123.41kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000631s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000361s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:20+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/pecialist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/teacher/pecialist?classify_id=29&page=1 [运行时间：0.042925s][吞吐率：23.30req/s] [内存消耗：4,237.13kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000885s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000469s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 111  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000252s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000289s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 112  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000242s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000261s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 113  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000261s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000263s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 114  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000233s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000249s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 115  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000243s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000299s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 116  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000251s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000263s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 214  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000238s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000247s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 215  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000261s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000240s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 216  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000231s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 217  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000237s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:21+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034999s][吞吐率：28.57req/s] [内存消耗：4,036.60kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000652s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000360s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000277s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 378 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:08:21+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_details?id=113
[ log ] api.kzwchina.com/discover/teacher/teacher_details?id=113 [运行时间：0.035623s][吞吐率：28.07req/s] [内存消耗：3,948.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '113',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000728s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 113 LIMIT 1 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` <> 0 LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` = 1 LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` = 2 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` = 3 LIMIT 1 [ RunTime:0.000214s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` = 4 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 113  AND `answer` <> ''  AND `evaluate` = 5 LIMIT 1 [ RunTime:0.000211s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:22+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=113&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=113&page=1 [运行时间：0.039289s][吞吐率：25.45req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '113',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000569s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 113 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 113 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000334s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:22+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=113&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=113&page=1 [运行时间：0.039256s][吞吐率：25.47req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '113',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000377s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 113 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 113 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000271s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:23+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035282s][吞吐率：28.34req/s] [内存消耗：4,036.60kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000407s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000644s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000269s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 378 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:08:28+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032497s][吞吐率：30.77req/s] [内存消耗：3,935.67kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000544s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:29+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.033758s][吞吐率：29.62req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000231s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:29+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030905s][吞吐率：32.36req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000440s ]

---------------------------------------------------------------
[ 2019-01-22T16:08:34+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.036498s][吞吐率：27.40req/s] [内存消耗：4,043.95kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 326 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:08:38+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.035485s][吞吐率：28.18req/s] [内存消耗：4,043.95kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000452s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]
[ error ] [2]Missing argument 6 for app\api\common\controller\Order::AddOrder(), called in /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php on line 326 and defined[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:405]

---------------------------------------------------------------
[ 2019-01-22T16:09:13+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/pecialist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/teacher/pecialist?classify_id=29&page=1 [运行时间：0.043160s][吞吐率：23.17req/s] [内存消耗：4,237.13kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000480s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000495s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 111  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000263s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 112  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000249s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000275s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 113  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000253s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000256s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 114  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000257s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000261s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 115  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000242s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000241s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 116  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000239s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000252s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 214  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000245s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000253s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 215  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000241s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000237s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 216  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000252s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 217  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000233s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:14+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031094s][吞吐率：32.16req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000284s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:15+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.121045s][吞吐率：8.26req/s] [内存消耗：5,123.94kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002962s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:15+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.136779s][吞吐率：7.31req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000311s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:18+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031187s][吞吐率：32.06req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000283s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:18+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031081s][吞吐率：32.17req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=ircd0hvtdps939f80rpec7ftq4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000288s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:41+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032492s][吞吐率：30.78req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000415s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:50+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.038966s][吞吐率：25.66req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000559s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000736s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000310s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:50+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.037583s][吞吐率：26.61req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000373s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000438s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:53+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039549s][吞吐率：25.29req/s] [内存消耗：4,042.90kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194953975337882' , 0 , 2 , 167 , 144 , 0.01 , '国务院国资委改革局原副局长' , 1 , 2 , 1548144593 , 1548144593) [ RunTime:0.005300s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:09:53+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113018s][吞吐率：8.85req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000492s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002896s ]

---------------------------------------------------------------
[ 2019-01-22T16:09:59+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032234s][吞吐率：31.02req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000449s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:06+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034804s][吞吐率：28.73req/s] [内存消耗：3,955.88kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000915s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144606 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144606 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144606 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144606 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000549s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:10:09+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038731s][吞吐率：25.82req/s] [内存消耗：4,106.27kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000502s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194955505695893' , 13 , 1 , 105 , 144 , 0.01 , '总平台管理员' , 1 , 2 , 1548144609 , 1548144609) [ RunTime:0.003951s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:10:09+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.116311s][吞吐率：8.60req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002948s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:15+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.029839s][吞吐率：33.51req/s] [内存消耗：3,905.68kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20194955505695893',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20194955505695893' LIMIT 1 [ RunTime:0.000502s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:17+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.031280s][吞吐率：31.97req/s] [内存消耗：3,905.68kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20194955505695893',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20194955505695893' LIMIT 1 [ RunTime:0.000510s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:19+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.029673s][吞吐率：33.70req/s] [内存消耗：3,905.68kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20194955505695893',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20194955505695893' LIMIT 1 [ RunTime:0.000536s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:20+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.031119s][吞吐率：32.13req/s] [内存消耗：3,905.68kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20194955505695893',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000504s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20194955505695893' LIMIT 1 [ RunTime:0.000523s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:22+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034351s][吞吐率：29.11req/s] [内存消耗：3,955.88kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144622 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144622 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144622 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548144622 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000557s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:10:24+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/study_details?id=105
[ log ] api.kzwchina.com/common/study/study_details?id=105 [运行时间：0.035554s][吞吐率：28.13req/s] [内存消耗：4,123.41kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000408s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000350s ]

---------------------------------------------------------------
[ 2019-01-22T16:10:28+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038974s][吞吐率：25.66req/s] [内存消耗：4,106.27kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195210197580622' , 13 , 1 , 105 , 144 , 0.01 , '总平台管理员' , 1 , 2 , 1548144628 , 1548144628) [ RunTime:0.004416s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:10:29+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.116346s][吞吐率：8.60req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002977s ]

---------------------------------------------------------------
[ 2019-01-22T16:20:45+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/banner
[ log ] api.kzwchina.com/discover/introduce/banner [运行时间：0.041976s][吞吐率：23.82req/s] [内存消耗：3,891.16kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->banner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000448s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 3  AND `enterprise_id` = 0 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000398s ]

---------------------------------------------------------------
[ 2019-01-22T16:20:45+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.043260s][吞吐率：23.12req/s] [内存消耗：3,882.23kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000336s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000295s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` IN (2,3,4)  AND `status` = 1 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` IN (2,3,4)  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000349s ]

---------------------------------------------------------------
[ 2019-01-22T16:20:50+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/datalist?enterprise_id=13&page=1
[ log ] api.kzwchina.com/common/study/datalist?enterprise_id=13&page=1 [运行时间：0.035236s][吞吐率：28.38req/s] [内存消耗：4,111.13kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000646s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = '13'  AND `a`.`end` > 1548145250 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = '13'  AND `a`.`end` > 1548145250 ORDER BY id<>43,a.start desc LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = '13'  AND `a`.`end` > 1548145250 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = '13'  AND `a`.`end` > 1548145250 ORDER BY id<>43,a.start desc LIMIT 0,10 [ RunTime:0.000714s ]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:30]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:30]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:20:55+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/course/course_type?enterprise_id=13&type=1
[ log ] api.kzwchina.com/discover/course/course_type?enterprise_id=13&type=1 [运行时间：0.030625s][吞吐率：32.65req/s] [内存消耗：3,911.86kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseType[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course_type` [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course_type` WHERE  `enterprise_id` = 13  AND `type` = 1 [ RunTime:0.000267s ]

---------------------------------------------------------------
[ 2019-01-22T16:20:55+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032905s][吞吐率：30.39req/s] [内存消耗：3,999.60kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '40',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '0',
  'page' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000379s ]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]

---------------------------------------------------------------
[ 2019-01-22T16:20:59+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032801s][吞吐率：30.49req/s] [内存消耗：3,935.67kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000452s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000575s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:01+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.045268s][吞吐率：22.09req/s] [内存消耗：3,936.45kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000553s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001043s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000378s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:01+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.046722s][吞吐率：21.40req/s] [内存消耗：4,047.92kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '30',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000536s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001043s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000406s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:02+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032718s][吞吐率：30.56req/s] [内存消耗：3,934.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '30' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '30' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000342s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:04+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032387s][吞吐率：30.88req/s] [内存消耗：3,934.99kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '54',
)
[ info ] [ PARAM ] array (
  'type' => '3',
  'classify_id' => '30',
  'type_id' => '0',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000496s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`a`.`teacher_id` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '3'  AND `a`.`classify_id` = '30'  AND `a`.`scene` = 1 ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy,`t`.`name` FROM `tpn_course` `a` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`a`.`teacher_id` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '3'  AND `a`.`classify_id` = '30'  AND `a`.`scene` = 1 ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000436s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:05+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.033710s][吞吐率：29.66req/s] [内存消耗：3,954.10kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000630s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '30'  AND `a`.`end` > 1548145265 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '30'  AND `a`.`end` > 1548145265 ORDER BY id<>0,a.start desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '30'  AND `a`.`end` > 1548145265 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '30'  AND `a`.`end` > 1548145265 ORDER BY id<>0,a.start desc LIMIT 0,10 [ RunTime:0.000394s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:21:08+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/teacher/pecialist
[ log ] api.kzwchina.com/discover/teacher/pecialist [运行时间：0.042734s][吞吐率：23.40req/s] [内存消耗：4,235.83kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000497s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000325s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 117  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000255s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000282s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 118  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000239s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000297s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 119  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000239s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000252s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 253  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000246s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000244s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 254  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000253s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000239s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 255  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000234s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000273s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 256  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000237s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000239s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 257  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000237s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000247s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 258  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000247s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000235s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 259  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000247s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:13+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032142s][吞吐率：31.11req/s] [内存消耗：3,934.99kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '54',
)
[ info ] [ PARAM ] array (
  'type' => '3',
  'classify_id' => '29',
  'type_id' => '0',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`a`.`teacher_id` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '3'  AND `a`.`classify_id` = '29'  AND `a`.`scene` = 1 ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy,`t`.`name` FROM `tpn_course` `a` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`a`.`teacher_id` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '3'  AND `a`.`classify_id` = '29'  AND `a`.`scene` = 1 ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000439s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:14+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/look_class_course
[ log ] api.kzwchina.com/discover/course/look_class_course [运行时间：0.031820s][吞吐率：31.43req/s] [内存消耗：3,931.95kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '51',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'classify_id' => '29',
  'course_type' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->lookClassCourse[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_record` `a` LEFT JOIN `tpn_course` `c` ON `c`.`id`=`a`.`type_id` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `a`.`uid` = 144  AND `a`.`type` = 6  AND `c`.`scene` = 2  AND `c`.`classify_id` = '29'  AND `c`.`type` = 3  AND `c`.`enterprise_id` = '0' ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000372s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`look_num`,`c`.`reading`,`t`.`name` FROM `tpn_user_record` `a` LEFT JOIN `tpn_course` `c` ON `c`.`id`=`a`.`type_id` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `a`.`uid` = 144  AND `a`.`type` = 6  AND `c`.`scene` = 2  AND `c`.`classify_id` = '29'  AND `c`.`type` = 3  AND `c`.`enterprise_id` = '0' ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000363s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:18+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032736s][吞吐率：30.55req/s] [内存消耗：3,935.67kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000564s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:19+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.031840s][吞吐率：31.41req/s] [内存消耗：3,934.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '2',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000369s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:20+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.033920s][吞吐率：29.48req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000231s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:21+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030681s][吞吐率：32.59req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000567s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000428s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:24+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039556s][吞吐率：25.28req/s] [内存消耗：4,042.90kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195298531091447' , 0 , 2 , 167 , 144 , 0.01 , '国务院国资委改革局原副局长' , 1 , 2 , 1548145284 , 1548145284) [ RunTime:0.004999s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:21:25+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.117399s][吞吐率：8.52req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002950s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:29+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.031923s][吞吐率：31.33req/s] [内存消耗：3,905.70kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20195298531091447',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20195298531091447' LIMIT 1 [ RunTime:0.000546s ]

---------------------------------------------------------------
[ 2019-01-22T16:21:32+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032438s][吞吐率：30.83req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000439s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:11+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031692s][吞吐率：31.55req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000385s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:13+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.033039s][吞吐率：30.27req/s] [内存消耗：4,039.86kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000499s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:40:23+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034502s][吞吐率：28.98req/s] [内存消耗：4,039.86kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '167',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000345s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000484s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:40:27+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032371s][吞吐率：30.89req/s] [内存消耗：3,935.67kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000669s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000558s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:28+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.045825s][吞吐率：21.82req/s] [内存消耗：4,145.98kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000668s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_record` WHERE  `uid` = 144  AND `type` = 6  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `look_num`=look_num+1  WHERE  `id` = 167 [ RunTime:0.003056s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_record` (`uid` , `type` , `type_id` , `created_at`) VALUES (144 , 6 , 167 , 1548146428) [ RunTime:0.002069s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `reading`=reading+1  WHERE  `id` = 167 [ RunTime:0.001938s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:28+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.035384s][吞吐率：28.26req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000376s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000468s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000445s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:38+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.044729s][吞吐率：22.36req/s] [内存消耗：3,935.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000396s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:38+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.047742s][吞吐率：20.95req/s] [内存消耗：3,891.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '29',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.001113s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000378s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:41+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.033653s][吞吐率：29.72req/s] [内存消耗：3,955.88kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000628s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146441 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146441 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146441 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000425s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146441 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000551s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:40:43+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039477s][吞吐率：25.33req/s] [内存消耗：4,106.27kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199856555248247' , 13 , 1 , 105 , 144 , 0.01 , '总平台管理员' , 1 , 1 , 1548146443 , 1548146443) [ RunTime:0.004788s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T16:40:43+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.111120s][吞吐率：9.00req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000394s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000595s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002938s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:45+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order_pay
[ log ] api.kzwchina.com/common/order/order_pay [运行时间：0.042715s][吞吐率：23.41req/s] [内存消耗：4,250.70kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'order_number' => '20199856555248247',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->OrderPay[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000470s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `order_number` = '20199856555248247' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] UPDATE `tpn_order`  SET `pay_type`=1,`updated_at`=1548146445  WHERE  `order_number` = '20199856555248247' [ RunTime:0.000625s ]

---------------------------------------------------------------
[ 2019-01-22T16:40:55+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034039s][吞吐率：29.38req/s] [内存消耗：3,955.88kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146455 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146455 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146455 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548146455 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000561s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T16:43:15+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042885s][吞吐率：23.32req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001048s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000334s ]

---------------------------------------------------------------
[ 2019-01-22T16:43:15+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.055158s][吞吐率：18.13req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000353s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000640s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000595s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000594s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000486s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000258s ]

---------------------------------------------------------------
[ 2019-01-22T16:43:18+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042946s][吞吐率：23.29req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000335s ]

---------------------------------------------------------------
[ 2019-01-22T16:43:18+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.055275s][吞吐率：18.09req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000333s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000246s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:35+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/add.html
[ log ] admin.kzwchina.com/course/course/add.html [运行时间：0.075693s][吞吐率：13.21req/s] [内存消耗：6,696.16kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->add[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/add.html [ array (
  0 => 'checkVal',
  1 => 'enterprise_id',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000745s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000372s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `identity` LIKE '%3%'  AND `status` = 1 [ RunTime:0.002151s ]
[ error ] [8]未定义数组索引: teacher_id[/www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php:132]

---------------------------------------------------------------
[ 2019-01-22T17:00:37+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/edit/id/167.html
[ log ] admin.kzwchina.com/course/course/edit/id/167.html [运行时间：0.077164s][吞吐率：12.96req/s] [内存消耗：5,916.59kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->edit[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'enterprise_id',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000369s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000624s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000382s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `identity` LIKE '%3%'  AND `status` = 1 [ RunTime:0.002103s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000439s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:37+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/type_list.html?type=1
[ log ] admin.kzwchina.com/course/course/type_list.html?type=1 [运行时间：0.030042s][吞吐率：33.29req/s] [内存消耗：3,891.79kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/course/edit/id/167.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->typeList[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000358s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000356s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course_type` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course_type` WHERE  `enterprise_id` = 0  AND `type` = 1 [ RunTime:0.000272s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:43+08:00 ] 172.31.69.247 111.196.103.122 POST /course/course/edit/id/167.html
[ log ] admin.kzwchina.com/course/course/edit/id/167.html [运行时间：0.037181s][吞吐率：26.90req/s] [内存消耗：4,036.30kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/course/edit/id/167.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '434',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'teacher_id' => '111',
  'title' => '国务院国资委改革局原副局长',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194852565070908.jpg',
  'start' => '',
  'url2' => '',
  'url' => 'https://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20181212/cyb.mp4',
  'describe' => 'qewwqe',
  'price' => '0.0',
  'weight' => '1',
  'is_recommend' => '0',
  'words' => '',
  'words_name' => '',
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->edit[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000358s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000306s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000626s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `type`=1,`classify_id`=29,`teacher_id`=111,`title`='国务院国资委改革局原副局长',`photo`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194852565070908.jpg',`start`=0,`url`='https://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20181212/cyb.mp4',`describe`='qewwqe',`price`=0,`weight`=1,`is_recommend`=0,`words`='',`words_name`='',`id`=167,`updated_at`=1548147643  WHERE  `id` = 167 [ RunTime:0.002727s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000268s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000461s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改视频国务院国资委改革局原副局长' , 1548147643) [ RunTime:0.002019s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:44+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index.html
[ log ] admin.kzwchina.com/course/course/index.html [运行时间：0.036239s][吞吐率：27.59req/s] [内存消耗：4,228.66kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000391s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000352s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000339s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000623s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000259s ]
[ error ] [8]未定义数组索引: type[/www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php:37]

---------------------------------------------------------------
[ 2019-01-22T17:00:46+08:00 ] 172.31.69.247 111.196.103.122 GET /course/study/index.html
[ log ] admin.kzwchina.com/course/study/index.html [运行时间：0.035423s][吞吐率：28.23req/s] [内存消耗：4,160.24kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000346s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000328s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT `c`.*,t.name as teachername FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 ORDER BY c.created_at desc LIMIT 0,10 [ RunTime:0.000431s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:47+08:00 ] 172.31.69.247 111.196.103.122 GET /course/study/edit/id/105.html
[ log ] admin.kzwchina.com/course/study/edit/id/105.html [运行时间：0.037158s][吞吐率：26.91req/s] [内存消耗：4,164.55kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/study/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->edit[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000365s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000339s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000799s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `enterprise_id` = 0  AND `identity` LIKE '%2%' [ RunTime:0.001233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000610s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:55+08:00 ] 172.31.69.247 111.196.103.122 POST /course/study/edit/id/105.html
[ log ] admin.kzwchina.com/course/study/edit/id/105.html [运行时间：0.441185s][吞吐率：2.27req/s] [内存消耗：5,117.42kb] [文件加载：74]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/study/edit/id/105.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '273',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'name' => '总',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195555499812279.jpg',
  'number' => '50',
  'start' => '2018-12-16',
  'end' => '2019-01-23',
  'price' => '0.0',
  'teacher_id' => '350',
  'describe' => '<p>额外企鹅</p>',
  'type' => '1',
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->edit[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000370s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000348s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] UPDATE `tpn_class`  SET `classify_id`=29,`name`='总',`photo`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195555499812279.jpg',`number`=50,`start`=1544889600,`end`=1548172800,`price`=0,`teacher_id`=350,`describe`='<p>额外企鹅</p>',`type`=1,`id`=105,`updated_at`=1548147655,`img_url`='/uploads/qrcode/20190122/105.png'  WHERE  `id` = 105 [ RunTime:0.003272s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000677s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改班级总' , 1548147655) [ RunTime:0.002174s ]

---------------------------------------------------------------
[ 2019-01-22T17:00:56+08:00 ] 172.31.69.247 111.196.103.122 GET /course/study/index.html
[ log ] admin.kzwchina.com/course/study/index.html [运行时间：0.035450s][吞吐率：28.21req/s] [内存消耗：4,160.54kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/study/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000350s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000309s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SELECT `c`.*,t.name as teachername FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 ORDER BY c.created_at desc LIMIT 0,10 [ RunTime:0.000406s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:08+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.045091s][吞吐率：22.18req/s] [内存消耗：3,937.75kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '24',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'type_id' => '22',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '22' ORDER BY id desc LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '22' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000464s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:08+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/details
[ log ] api.kzwchina.com/discover/article/details [运行时间：0.052142s][吞吐率：19.18req/s] [内存消耗：4,114.27kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '5',
)
[ info ] [ PARAM ] array (
  'id' => '22',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000468s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001134s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 22  AND `status` = 1 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 144  AND `type_id` = 22 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 22 [ RunTime:0.004903s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:09+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/details?id=22
[ log ] api.kzwchina.com/discover/article/details?id=22 [运行时间：0.036621s][吞吐率：27.31req/s] [内存消耗：4,010.73kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043930 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.8',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '22',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000521s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 22  AND `status` = 1 LIMIT 1 [ RunTime:0.000413s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 22 LIMIT 1 [ RunTime:0.000268s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 22 [ RunTime:0.004945s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:10+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034357s][吞吐率：29.11req/s] [内存消耗：3,955.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000630s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147670 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147670 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147670 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147670 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000552s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:01:13+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/study_details?id=105
[ log ] api.kzwchina.com/common/study/study_details?id=105 [运行时间：0.035331s][吞吐率：28.30req/s] [内存消耗：4,123.42kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000355s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:19+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.143666s][吞吐率：6.96req/s] [内存消耗：4,312.77kb] [文件加载：74]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '30',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] INSERT INTO `tpn_class_user` (`class_id` , `uid` , `status` , `created_at` , `updated_at`) VALUES (105 , 144 , 1 , 1548147679 , 1548147679) [ RunTime:0.007249s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:01:19+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.042029s][吞吐率：23.79req/s] [内存消耗：4,397.41kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000467s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000240s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:29+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.041622s][吞吐率：24.03req/s] [内存消耗：4,397.41kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000371s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000238s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:31+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.031969s][吞吐率：31.28req/s] [内存消耗：4,031.66kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000830s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000303s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:33+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.036339s][吞吐率：27.52req/s] [内存消耗：4,168.21kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000503s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:34+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.033254s][吞吐率：30.07req/s] [内存消耗：4,063.35kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043930 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.8',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000780s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = null  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000531s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:36+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.043854s][吞吐率：22.80req/s] [内存消耗：4,028.31kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '47',
  'type' => '3',
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194899975500712' , 13 , 3 , 47 , 144 , 0.01 , '国务院国资委改革局原副局长' , 1 , 1 , 1548147696 , 1548147696) [ RunTime:0.006684s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194899995002326' , 13 , 3 , 47 , 144 , 0.01 , '国务院国资委改革局原副局长' , 1 , 1 , 1548147696 , 1548147696) [ RunTime:0.003557s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:01:37+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112064s][吞吐率：8.92req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000419s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002939s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:59+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032593s][吞吐率：30.68req/s] [内存消耗：3,907.44kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000508s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]

---------------------------------------------------------------
[ 2019-01-22T17:01:59+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031879s][吞吐率：31.37req/s] [内存消耗：3,908.13kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.9',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000464s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:09+08:00 ] 172.31.69.247 111.196.103.122 GET /root/advertisements/index.html
[ log ] admin.kzwchina.com/root/advertisements/index.html [运行时间：0.032170s][吞吐率：31.08req/s] [内存消耗：4,044.62kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000484s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000351s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_advertisements` LIMIT 1 [ RunTime:0.000202s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` LIMIT 0,10 [ RunTime:0.000211s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:11+08:00 ] 172.31.69.247 111.196.103.122 GET /root/advertisements/edit/id/20.html
[ log ] admin.kzwchina.com/root/advertisements/edit/id/20.html [运行时间：0.029661s][吞吐率：33.71req/s] [内存消耗：3,925.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000349s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000305s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:16+08:00 ] 172.31.69.247 111.196.103.122 POST /root/advertisements/edit/id/20.html
[ log ] admin.kzwchina.com/root/advertisements/edit/id/20.html [运行时间：0.039227s][吞吐率：25.49req/s] [内存消耗：3,968.62kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/edit/id/20.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '272',
)
[ info ] [ PARAM ] array (
  'title' => '国务院国资委改革局原副局长',
  'content' => '<p>123456789</p>',
  'img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191025649159619.jpg',
  'price' => '0.0',
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000738s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000375s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000522s ]
[ sql ] [ SQL ] UPDATE `tpn_advertisements`  SET `title`='国务院国资委改革局原副局长',`content`='<p>123456789</p>',`img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191025649159619.jpg',`price`=0,`id`=20,`updated_at`=1548147736  WHERE  `id` = 20 [ RunTime:0.004387s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000272s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000578s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改广告国务院国资委改革局原副局长' , 1548147736) [ RunTime:0.003684s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:16+08:00 ] 172.31.69.247 111.196.103.122 GET /root/advertisements/index.html
[ log ] admin.kzwchina.com/root/advertisements/index.html [运行时间：0.032071s][吞吐率：31.18req/s] [内存消耗：4,044.80kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000368s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000308s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_advertisements` LIMIT 1 [ RunTime:0.000219s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` LIMIT 0,10 [ RunTime:0.000217s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:19+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.030836s][吞吐率：32.43req/s] [内存消耗：3,915.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000203s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:19+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.031507s][吞吐率：31.74req/s] [内存消耗：3,865.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '13',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000409s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000302s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000325s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:20+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032521s][吞吐率：30.75req/s] [内存消耗：3,907.44kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000486s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:20+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031938s][吞吐率：31.31req/s] [内存消耗：3,908.13kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.9',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000492s ]

---------------------------------------------------------------
[ 2019-01-22T17:02:26+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.042444s][吞吐率：23.56req/s] [内存消耗：4,107.82kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '28',
)
[ info ] [ PARAM ] array (
  'id' => '20',
  'type' => '6',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000951s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000225s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195054995343110' , 0 , 6 , 20 , 144 , 0 , '国务院国资委改革局原副局长' , 4 , 2 , 1548147746 , 1548147746) [ RunTime:0.004277s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000519s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_notice` (`uid` , `title` , `content` , `reading` , `created_at`) VALUES (144 , '国务院国资委改革局原副局长报名通知' , '您报名【国务院国资委改革局原副局长】，期待您下次参与' , 0 , 1548147746) [ RunTime:0.003622s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:02:57+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index.html
[ log ] admin.kzwchina.com/course/course/index.html [运行时间：0.035632s][吞吐率：28.06req/s] [内存消耗：4,228.45kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000340s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000415s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000256s ]
[ error ] [8]未定义数组索引: type[/www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php:37]

---------------------------------------------------------------
[ 2019-01-22T17:03:00+08:00 ] 172.31.69.247 111.196.103.122 GET /course/classcourse/index.html
[ log ] admin.kzwchina.com/course/classcourse/index.html [运行时间：0.083914s][吞吐率：11.92req/s] [内存消耗：4,267.78kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'classcourse',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Classcourse->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Classcourse.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/classcourse/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000730s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000353s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000320s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `identity` = '1,3' [ RunTime:0.002282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000800s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `enterprise_id` = 0 [ RunTime:0.000427s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_course` `c` LEFT JOIN `tpn_class` `s` ON `s`.`id`=`c`.`class_id` WHERE  `s`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000398s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`type`,`c`.`teacher_id`,`c`.`photo`,`c`.`url`,`c`.`reading`,`c`.`start`,`c`.`status`,`c`.`updated_at`,`s`.`name` FROM `tpn_class_course` `c` LEFT JOIN `tpn_class` `s` ON `s`.`id`=`c`.`class_id` WHERE  `s`.`enterprise_id` = 0 ORDER BY c.id desc LIMIT 0,10 [ RunTime:0.000581s ]

---------------------------------------------------------------
[ 2019-01-22T17:03:03+08:00 ] 172.31.69.247 111.196.103.122 GET /course/study/editn/id/47.html
[ log ] teacher.kzwchina.com/course/study/editn/id/47.html [运行时间：0.035645s][吞吐率：28.05req/s] [内存消耗：4,293.37kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://teacher.kzwchina.com/course/study/class_notice/id/350.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->editn[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/teacher/course/view/study/editn.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000331s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000329s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000257s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000618s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `teacher_id` = 350 [ RunTime:0.000364s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T17:03:09+08:00 ] 172.31.69.247 111.196.103.122 POST /course/study/editn/id/47.html
[ log ] teacher.kzwchina.com/course/study/editn/id/47.html [运行时间：0.035300s][吞吐率：28.33req/s] [内存消耗：4,264.84kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://teacher.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://teacher.kzwchina.com/course/study/editn/id/47.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '302',
)
[ info ] [ PARAM ] array (
  'class_id' => '105',
  'id' => '47',
  'title' => '国务院国资委改革局原副局长',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191005354132565.jpg',
  'describe' => 'wqewqe',
  'price' => '0.0',
  'content' => '<p>qewwqeqw</p>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->editn[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000323s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000299s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000574s ]
[ sql ] [ SQL ] UPDATE `tpn_class_notice`  SET `class_id`=105,`id`=47,`title`='国务院国资委改革局原副局长',`photo`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191005354132565.jpg',`describe`='wqewqe',`price`=0,`content`='<p>qewwqeqw</p>',`created_at`=1548147789  WHERE  `id` = 47 [ RunTime:0.002706s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T17:03:10+08:00 ] 172.31.69.247 111.196.103.122 GET /course/study/class_notice/id/350.html
[ log ] teacher.kzwchina.com/course/study/class_notice/id/350.html [运行时间：0.034650s][吞吐率：28.86req/s] [内存消耗：4,365.95kb] [文件加载：68]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://teacher.kzwchina.com/course/study/class_notice/id/350.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
)
[ info ] [ PARAM ] array (
  'id' => '350',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->classNotice[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/teacher/course/view/study/class_notice.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000293s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000313s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_notice` `n` LEFT JOIN `tpn_class` `c` ON `c`.`id`=`n`.`class_id` WHERE  `n`.`teacher_id` = 350 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SELECT `n`.*,c.name as class_name FROM `tpn_class_notice` `n` LEFT JOIN `tpn_class` `c` ON `c`.`id`=`n`.`class_id` WHERE  `n`.`teacher_id` = 350 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000317s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T17:03:48+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034256s][吞吐率：29.19req/s] [内存消耗：3,955.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000621s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147828 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147828 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147828 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548147828 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000555s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:03:50+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.041082s][吞吐率：24.34req/s] [内存消耗：4,397.41kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000477s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000223s ]

---------------------------------------------------------------
[ 2019-01-22T17:03:51+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.030978s][吞吐率：32.28req/s] [内存消耗：4,031.66kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000284s ]

---------------------------------------------------------------
[ 2019-01-22T17:03:52+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.033027s][吞吐率：30.28req/s] [内存消耗：4,046.11kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000379s ]

---------------------------------------------------------------
[ 2019-01-22T17:03:52+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.031044s][吞吐率：32.21req/s] [内存消耗：3,942.29kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/6.2 TBS/043930 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.8',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000523s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000397s ]

---------------------------------------------------------------
[ 2019-01-22T17:07:16+08:00 ] 172.31.69.247 111.196.103.122 GET /info/teacher/edit/id/115.html
[ log ] admin.kzwchina.com/info/teacher/edit/id/115.html [运行时间：0.037934s][吞吐率：26.36req/s] [内存消耗：4,230.41kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/info/teacher/index.html?page=24',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'id' => '115',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->edit[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/info/view/teacher/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000376s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000358s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 115 LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000242s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_type` [ RunTime:0.000468s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher_type` WHERE  `enterprise_id` = 0 [ RunTime:0.000212s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `enterprise_id` = 0 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T17:07:20+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.032287s][吞吐率：30.97req/s] [内存消耗：4,031.66kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000302s ]

---------------------------------------------------------------
[ 2019-01-22T17:08:40+08:00 ] 172.31.69.247 111.196.103.122 POST /root/upload/aliyunoss.html
[ log ] admin.kzwchina.com/root/upload/aliyunoss.html [运行时间：68.445334s][吞吐率：0.01req/s] [内存消耗：2,836.31kb] [文件加载：52]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'upload',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'origin' => 'http://admin.kzwchina.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://admin.kzwchina.com/info/teacher/edit/id/115.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryP5AO3I5YME05vRuJ',
  'content-length' => '46512168',
)
[ info ] [ PARAM ] array (
  'id' => 'WU_FILE_0',
  'name' => '金错刀.mp3',
  'type' => 'audio/mp3',
  'lastModifiedDate' => 'Tue Jan 22 2019 16:26:39 GMT+0800 (中国标准时间)',
  'size' => '46511424',
)
[ info ] [ RUN ] app\admin\root\controller\Upload->AliyunOss[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Upload.php ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:08:46+08:00 ] 172.31.69.247 111.196.103.122 POST /info/teacher/edit/id/115.html
[ log ] admin.kzwchina.com/info/teacher/edit/id/115.html [运行时间：0.155341s][吞吐率：6.44req/s] [内存消耗：4,361.13kb] [文件加载：73]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/info/teacher/edit/id/115.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '2824',
)
[ info ] [ PARAM ] array (
  'username' => '金错刀',
  'password' => '',
  'classify_id' => '29',
  'is_xszd' => '0',
  'teacher_type' => '31',
  'is_zdwy' => '0',
  'name' => '金错刀',
  'nickname' => '金错刀',
  'title' => '“微创新”提出者，微创新研究中心创始人、首席研究员',
  'email' => '',
  'photo' => '/uploads/20190111/ef4e78148e9171c4f6b9b48df47eaa05.jpg',
  'phone' => '',
  'sex' => '1',
  'synopsis' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195255564897934.mp3',
  'synopsis_img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190111/20195510152599085.jpg',
  'unit_title' => '',
  'company_name' => '',
  'brief' => '“微创新”提出者，微创新研究中心创始人、首席研究员。科技商业观察家，“微创新“实践者。曾任百度爱乐活副总裁、总编辑，《中国企业家》研究总监、网站主编。以对创业创新、商业2.0、品牌的深度研究著称。曾著有《微革命》、《马云管理日志》、《乔布斯管理日志》等书。金老师具有丰富的实战经历，具有开放的市场经验和大量的实战事例；面对面的深入交谈了解您的培训需求；金老师在培训中有大量的案例讨论，幽默、专业、感性、激励、实战融为一体的情境式互动教学方式使学员印象深刻。',
  'price' => '0.00',
  'assistant_email' => '',
  'assistant_phone' => '',
  'assistant_tel' => '',
  'id' => '115',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->edit[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000362s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000301s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `username` = '金错刀'  AND `id` NOT IN (115)  AND `status` > 0 LIMIT 1 [ RunTime:0.001100s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 115 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] UPDATE `tpn_teacher`  SET `username`='金错刀',`classify_id`=29,`is_xszd`=0,`teacher_type`=31,`is_zdwy`=0,`name`='金错刀',`nickname`='金错刀',`title`='“微创新”提出者，微创新研究中心创始人、首席研究员',`email`='',`photo`='/uploads/20190111/ef4e78148e9171c4f6b9b48df47eaa05.jpg',`phone`='',`sex`=1,`synopsis`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195255564897934.mp3',`synopsis_img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190111/20195510152599085.jpg',`unit_title`='',`company_name`='',`brief`='“微创新”提出者，微创新研究中心创始人、首席研究员。科技商业观察家，“微创新“实践者。曾任百度爱乐活副总裁、总编辑，《中国企业家》研究总监、网站主编。以对创业创新、商业2.0、品牌的深度研究著称。曾著有《微革命》、《马云管理日志》、《乔布斯管理日志》等书。金老师具有丰富的实战经历，具有开放的市场经验和大量的实战事例；面对面的深入交谈了解您的培训需求；金老师在培训中有大量的案例讨论，幽默、专业、感性、激励、实战融为一体的情境式互动教学方式使学员印象深刻。',`price`=0,`assistant_email`='',`assistant_phone`='',`assistant_tel`='',`id`=115,`updated_at`=1548148126  WHERE  `id` = 115 [ RunTime:0.005159s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000402s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000597s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改教师金错刀' , 1548148126) [ RunTime:0.003572s ]

---------------------------------------------------------------
[ 2019-01-22T17:08:47+08:00 ] 172.31.69.247 111.196.103.122 GET /info/teacher/index.html?page=24
[ log ] admin.kzwchina.com/info/teacher/index.html?page=24 [运行时间：0.040025s][吞吐率：24.98req/s] [内存消耗：4,315.44kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'info',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/info/teacher/index.html?page=24',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'page' => '24',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\info\controller\Teacher->index[ /www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/info/view/teacher/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000377s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000321s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` > 0  AND `identity` = '1,3' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `status` > 0  AND `identity` = '1,3' ORDER BY created_at desc LIMIT 230,10 [ RunTime:0.001212s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000277s ]
[ error ] [8]未定义数组索引: type[/www/wwwroot/kouzhiwen/application/admin/info/controller/Teacher.php:43]

---------------------------------------------------------------
[ 2019-01-22T17:19:28+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.119748s][吞吐率：8.35req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002957s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:29+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.052354s][吞吐率：19.10req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000499s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000237s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:29+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.067137s][吞吐率：14.89req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000404s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000790s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000264s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:30+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.045037s][吞吐率：22.20req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001066s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000646s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 17:19'  AND `p`.`end_time` >= '2019-01-22 17:19' [ RunTime:0.000466s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:30+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.064551s][吞吐率：15.49req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000411s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:30+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.072488s][吞吐率：13.80req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000269s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.047748s][吞吐率：20.94req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.004352s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000636s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000399s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.048670s][吞吐率：20.55req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000729s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000243s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.077137s][吞吐率：12.96req/s] [内存消耗：3,937.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000359s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030596s][吞吐率：32.68req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000331s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:33+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.040392s][吞吐率：24.76req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000499s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000337s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:33+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.057941s][吞吐率：17.26req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000336s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:34+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/pecialist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/teacher/pecialist?classify_id=29&page=1 [运行时间：0.042044s][吞吐率：23.78req/s] [内存消耗：4,237.13kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000902s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000478s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 111  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000252s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000279s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 112  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000250s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000248s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 113  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000248s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000238s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 114  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000242s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000297s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 115  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000237s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000239s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 116  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000248s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000255s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 214  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000235s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000240s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 215  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000247s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000232s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 216  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000233s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000281s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 217  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000237s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_details?id=115
[ log ] api.kzwchina.com/discover/teacher/teacher_details?id=115 [运行时间：0.035912s][吞吐率：27.85req/s] [内存消耗：3,949.06kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '115',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000930s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 115 LIMIT 1 [ RunTime:0.000408s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` <> 0 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` = 1 LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` = 2 LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` = 3 LIMIT 1 [ RunTime:0.000227s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` = 4 LIMIT 1 [ RunTime:0.000221s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` WHERE  `teacher_id` = 115  AND `answer` <> ''  AND `evaluate` = 5 LIMIT 1 [ RunTime:0.000226s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=115&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=115&page=1 [运行时间：0.030883s][吞吐率：32.38req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '115',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 115 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 115 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000289s ]

---------------------------------------------------------------
[ 2019-01-22T17:19:42+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/teacher_quiz?id=115&page=1
[ log ] api.kzwchina.com/discover/teacher/teacher_quiz?id=115&page=1 [运行时间：0.030659s][吞吐率：32.62req/s] [内存消耗：3,952.60kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '115',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->TeacherQuiz[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_quiz` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 115 ORDER BY a.created_at desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face`,`a`.`quiz`,`a`.`answer`,`a`.`created_at` FROM `tpn_user_quiz` `a` LEFT JOIN `tpn_user` `u` ON `a`.`uid`=`u`.`uid` WHERE  `teacher_id` = 115 ORDER BY a.created_at desc LIMIT 0,10 [ RunTime:0.000275s ]

---------------------------------------------------------------
[ 2019-01-22T17:20:21+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031595s][吞吐率：31.65req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000470s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000274s ]

---------------------------------------------------------------
[ 2019-01-22T17:20:25+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=27
[ log ] api.kzwchina.com/discover/article/details?id=27 [运行时间：0.043127s][吞吐率：23.19req/s] [内存消耗：4,143.93kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '27',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000848s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 27  AND `status` = 1 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 146  AND `type_id` = 27 LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 27 [ RunTime:0.007342s ]

---------------------------------------------------------------
[ 2019-01-22T17:20:26+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=27
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=27 [运行时间：0.031588s][吞吐率：31.66req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '27',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '27' ORDER BY id desc LIMIT 1 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '27' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000531s ]

---------------------------------------------------------------
[ 2019-01-22T17:20:26+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=27
[ log ] api.kzwchina.com/discover/article/details?id=27 [运行时间：0.040459s][吞吐率：24.72req/s] [内存消耗：4,038.77kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '27',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 27  AND `status` = 1 LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000623s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 27 LIMIT 1 [ RunTime:0.000253s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 27 [ RunTime:0.006116s ]

---------------------------------------------------------------
[ 2019-01-22T17:20:32+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/share_add?type=4&type_id=27
[ log ] api.kzwchina.com/common/user/share_add?type=4&type_id=27 [运行时间：0.040724s][吞吐率：24.56req/s] [内存消耗：4,094.83kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'type_id' => '27',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->ShareAdd[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_share` [ RunTime:0.000525s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_share` (`uid` , `type` , `type_id` , `created_at`) VALUES (146 , 4 , 27 , 1548148832) [ RunTime:0.004098s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_share` WHERE  `created_at` > 1546272000 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_norm` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_norm` WHERE  `uid` = 146 LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_norm` (`uid` , `d`) VALUES (146 , 1) [ RunTime:0.003263s ]
[ error ] [8]未定义数组索引: [/www/wwwroot/kouzhiwen/application/common/model/CommonModel.php:21]

---------------------------------------------------------------
[ 2019-01-22T17:20:46+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030000s][吞吐率：33.33req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000514s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000293s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:08+08:00 ] 172.31.69.247 111.196.103.122 GET /course/classcourse/index.html
[ log ] admin.kzwchina.com/course/classcourse/index.html [运行时间：0.080693s][吞吐率：12.39req/s] [内存消耗：4,267.80kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'classcourse',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Classcourse->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Classcourse.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/classcourse/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000754s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000354s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000713s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `identity` = '1,3' [ RunTime:0.002081s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `enterprise_id` = 0 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_course` `c` LEFT JOIN `tpn_class` `s` ON `s`.`id`=`c`.`class_id` WHERE  `s`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000397s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`type`,`c`.`teacher_id`,`c`.`photo`,`c`.`url`,`c`.`reading`,`c`.`start`,`c`.`status`,`c`.`updated_at`,`s`.`name` FROM `tpn_class_course` `c` LEFT JOIN `tpn_class` `s` ON `s`.`id`=`c`.`class_id` WHERE  `s`.`enterprise_id` = 0 ORDER BY c.id desc LIMIT 0,10 [ RunTime:0.000538s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:10+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index.html
[ log ] admin.kzwchina.com/course/course/index.html [运行时间：0.035954s][吞吐率：27.81req/s] [内存消耗：4,228.45kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000368s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000347s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 LIMIT 1 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000395s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000254s ]
[ error ] [8]未定义数组索引: type[/www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php:37]

---------------------------------------------------------------
[ 2019-01-22T17:25:11+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index/type/2.html
[ log ] admin.kzwchina.com/course/course/index/type/2.html [运行时间：0.034868s][吞吐率：28.68req/s] [内存消耗：4,158.27kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000347s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000333s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000608s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 0 LIMIT 1 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 0 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000270s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:12+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/add.html
[ log ] admin.kzwchina.com/course/course/add.html [运行时间：0.074089s][吞吐率：13.50req/s] [内存消耗：6,696.67kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index/type/2.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->add[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/add.html [ array (
  0 => 'checkVal',
  1 => 'enterprise_id',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000372s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000330s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `identity` LIKE '%3%'  AND `status` = 1 [ RunTime:0.002137s ]
[ error ] [8]未定义数组索引: teacher_id[/www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php:132]

---------------------------------------------------------------
[ 2019-01-22T17:25:13+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/type_list.html?type=1
[ log ] admin.kzwchina.com/course/course/type_list.html?type=1 [运行时间：0.029117s][吞吐率：34.34req/s] [内存消耗：3,891.37kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/course/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->typeList[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000358s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000324s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course_type` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course_type` WHERE  `enterprise_id` = 0  AND `type` = 1 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:19+08:00 ] 172.31.69.247 111.196.103.122 POST /root/upload/aliyunoss.html
[ log ] admin.kzwchina.com/root/upload/aliyunoss.html [运行时间：0.273669s][吞吐率：3.65req/s] [内存消耗：2,836.30kb] [文件加载：52]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'upload',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'origin' => 'http://admin.kzwchina.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://admin.kzwchina.com/course/course/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryIW0qRBLMvJaAY8ya',
  'content-length' => '29119',
)
[ info ] [ PARAM ] array (
  'id' => 'WU_FILE_0',
  'name' => 'timg.jpg',
  'type' => 'image/jpeg',
  'lastModifiedDate' => 'Mon Jan 21 2019 09:56:21 GMT+0800 (中国标准时间)',
  'size' => '28386',
)
[ info ] [ RUN ] app\admin\root\controller\Upload->AliyunOss[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Upload.php ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:25:35+08:00 ] 172.31.69.247 111.196.103.122 POST /course/course/add.html
[ log ] admin.kzwchina.com/course/course/add.html [运行时间：0.039428s][吞吐率：25.36req/s] [内存消耗：3,925.95kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/course/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '296',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'teacher_id' => '112',
  'title' => '国',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191029850599381.jpg',
  'start' => '',
  'url' => 'https://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20181212/cyb.mp4',
  'url2' => '',
  'describe' => '213654987',
  'price' => '10',
  'weight' => '100',
  'words' => '',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->add[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000703s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000355s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000353s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000605s ]
[ sql ] [ SQL ] INSERT INTO `tpn_course` (`type` , `classify_id` , `teacher_id` , `title` , `photo` , `start` , `url` , `describe` , `price` , `weight` , `words` , `created_at` , `enterprise_id` , `status`) VALUES (1 , 29 , 112 , '国' , 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191029850599381.jpg' , 0 , 'https://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20181212/cyb.mp4' , '213654987' , 10 , 100 , '' , 1548149135 , 0 , 1) [ RunTime:0.004333s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000309s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000505s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '添加视频国' , 1548149135) [ RunTime:0.002858s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:36+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index/type/2.html
[ log ] admin.kzwchina.com/course/course/index/type/2.html [运行时间：0.035641s][吞吐率：28.06req/s] [内存消耗：4,158.57kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index/type/2.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000361s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000333s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 0 LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 0 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000274s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:37+08:00 ] 172.31.69.247 111.196.103.122 GET /course/course/index/type/1.html
[ log ] admin.kzwchina.com/course/course/index/type/1.html [运行时间：0.036361s][吞吐率：27.50req/s] [内存消耗：4,169.19kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/course/index/type/2.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Course->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Course.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/course/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'type',
  4 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000507s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000366s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000340s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 LIMIT 1 [ RunTime:0.000393s ]
[ sql ] [ SQL ] SELECT `c`.*,`t`.`name` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0  AND `c`.`status` = 1 ORDER BY c.weight DESC,c.created_at desc LIMIT 0,10 [ RunTime:0.000462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000256s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:47+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032457s][吞吐率：30.81req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000872s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000735s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:50+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033597s][吞吐率：29.76req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000222s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:50+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030768s][吞吐率：32.50req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000386s ]

---------------------------------------------------------------
[ 2019-01-22T17:25:52+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038932s][吞吐率：25.69req/s] [内存消耗：4,045.15kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000680s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194857981067053' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149152 , 1548149152) [ RunTime:0.004478s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:25:56+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.044954s][吞吐率：22.24req/s] [内存消耗：4,045.15kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195248100939804' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149156 , 1548149156) [ RunTime:0.011165s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:26:00+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037135s][吞吐率：26.93req/s] [内存消耗：4,045.15kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195650535547218' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149160 , 1548149160) [ RunTime:0.004158s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:26:02+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031879s][吞吐率：31.37req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000393s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:05+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=167
[ log ] api.kzwchina.com/discover/course/course_details?id=167 [运行时间：0.046806s][吞吐率：21.36req/s] [内存消耗：4,147.23kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000444s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000466s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_record` WHERE  `uid` = 146  AND `type` = 6  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `look_num`=look_num+1  WHERE  `id` = 167 [ RunTime:0.003809s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_record` (`uid` , `type` , `type_id` , `created_at`) VALUES (146 , 6 , 167 , 1548149165) [ RunTime:0.003354s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `reading`=reading+1  WHERE  `id` = 167 [ RunTime:0.002074s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:05+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032549s][吞吐率：30.72req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000373s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000389s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:13+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=167
[ log ] api.kzwchina.com/discover/course/course_details?id=167 [运行时间：0.039208s][吞吐率：25.51req/s] [内存消耗：4,145.20kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000408s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000240s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_record` WHERE  `uid` = 146  AND `type` = 6  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `reading`=reading+1  WHERE  `id` = 167 [ RunTime:0.002602s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:13+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031355s][吞吐率：31.89req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000782s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000422s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:17+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033264s][吞吐率：30.06req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000388s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000236s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:17+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030015s][吞吐率：33.32req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000395s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:22+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=167
[ log ] api.kzwchina.com/discover/course/course_details?id=167 [运行时间：0.041157s][吞吐率：24.30req/s] [内存消耗：4,145.20kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000595s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000546s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_record` WHERE  `uid` = 146  AND `type` = 6  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `reading`=reading+1  WHERE  `id` = 167 [ RunTime:0.002860s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:22+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.035310s][吞吐率：28.32req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000416s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:26+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=2
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=2 [运行时间：0.031726s][吞吐率：31.52req/s] [内存消耗：3,935.75kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000377s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:32+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031199s][吞吐率：32.05req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:35+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.038402s][吞吐率：26.04req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:35+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.137023s][吞吐率：7.30req/s] [内存消耗：5,123.94kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002932s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:38+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_list?page=1
[ log ] api.kzwchina.com/common/user/notice_list?page=1 [运行时间：0.032936s][吞吐率：30.36req/s] [内存消耗：4,027.98kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ SQL ] SELECT `n`.`id`,`n`.`title`,`n`.`content`,`n`.`reading`,`n`.`type`,`n`.`type_id`,`n`.`created_at`,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_user_collect` WHERE TYPE =4 AND type_id=n.id) is_collect FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000502s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:39+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030328s][吞吐率：32.97req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000803s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000276s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:40+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030978s][吞吐率：32.28req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000850s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000311s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:41+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030225s][吞吐率：33.09req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000283s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:43+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031332s][吞吐率：31.92req/s] [内存消耗：3,907.48kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:43+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032566s][吞吐率：30.71req/s] [内存消耗：3,907.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:44+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.042745s][吞吐率：23.39req/s] [内存消耗：4,109.31kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195297491058502' , 17 , 6 , 20 , 146 , 0 , '国务院国资委改革局原副局长' , 4 , 2 , 1548149204 , 1548149204) [ RunTime:0.005008s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000511s ]
[ sql ] [ SQL ] INSERT INTO `tpn_user_notice` (`uid` , `title` , `content` , `reading` , `created_at`) VALUES (146 , '国务院国资委改革局原副局长报名通知' , '您报名【国务院国资委改革局原副局长】，期待您下次参与' , 0 , 1548149204) [ RunTime:0.003413s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:26:47+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030685s][吞吐率：32.59req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000291s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:48+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032380s][吞吐率：30.88req/s] [内存消耗：3,909.27kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000548s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000491s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:48+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031567s][吞吐率：31.68req/s] [内存消耗：3,909.69kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000505s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:50+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031474s][吞吐率：31.77req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000616s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000292s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:51+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.030669s][吞吐率：32.61req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000196s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:51+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030662s][吞吐率：32.61req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000917s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000315s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:52+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_list?page=1
[ log ] api.kzwchina.com/common/user/notice_list?page=1 [运行时间：0.033036s][吞吐率：30.27req/s] [内存消耗：4,028.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000501s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SELECT `n`.`id`,`n`.`title`,`n`.`content`,`n`.`reading`,`n`.`type`,`n`.`type_id`,`n`.`created_at`,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_user_collect` WHERE TYPE =4 AND type_id=n.id) is_collect FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000438s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:54+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031184s][吞吐率：32.07req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000261s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:56+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031912s][吞吐率：31.34req/s] [内存消耗：3,909.27kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000496s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:56+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031633s][吞吐率：31.61req/s] [内存消耗：3,909.69kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000453s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000498s ]

---------------------------------------------------------------
[ 2019-01-22T17:26:59+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030697s][吞吐率：32.58req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000297s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:00+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_list?page=1
[ log ] api.kzwchina.com/common/user/notice_list?page=1 [运行时间：0.032279s][吞吐率：30.98req/s] [内存消耗：4,028.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000468s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SELECT `n`.`id`,`n`.`title`,`n`.`content`,`n`.`reading`,`n`.`type`,`n`.`type_id`,`n`.`created_at`,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_user_collect` WHERE TYPE =4 AND type_id=n.id) is_collect FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 146 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000437s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:01+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_details?id=505
[ log ] api.kzwchina.com/common/user/notice_details?id=505 [运行时间：0.037416s][吞吐率：26.73req/s] [内存消耗：4,054.30kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '505',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_notice` WHERE  `id` = 505 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] UPDATE `tpn_user_notice`  SET `reading`=1  WHERE  `id` = 505 [ RunTime:0.005181s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:04+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030786s][吞吐率：32.48req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000897s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000279s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:06+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032299s][吞吐率：30.96req/s] [内存消耗：3,909.27kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000515s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:06+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031506s][吞吐率：31.74req/s] [内存消耗：3,909.69kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000484s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000488s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:09+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031374s][吞吐率：31.87req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000959s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000294s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:13+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.029812s][吞吐率：33.54req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000191s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:13+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.029982s][吞吐率：33.35req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000310s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:14+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032714s][吞吐率：30.57req/s] [内存消耗：3,909.27kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000490s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:14+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031521s][吞吐率：31.73req/s] [内存消耗：3,909.69kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 146  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000493s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:22+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030699s][吞吐率：32.57req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000269s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:25+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/teacher/pecialist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/teacher/pecialist?classify_id=29&page=1 [运行时间：0.041755s][吞吐率：23.95req/s] [内存消耗：4,237.13kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'teacher',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Teacher->pecialist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Teacher.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 1 [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`phone`,`photo`,`consult_num` FROM `tpn_teacher` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `identity` LIKE '%3%' LIMIT 0,10 [ RunTime:0.000485s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000333s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 111  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000243s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000256s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 112  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000252s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000262s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 113  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000240s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000240s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 114  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000248s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000243s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 115  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000235s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000241s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 116  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000244s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000239s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 214  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000247s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000247s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 215  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000235s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000280s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 216  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000245s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000242s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_teacher_article` WHERE  `teacher_id` = 217  AND `status` = 1 LIMIT 0,3 [ RunTime:0.000236s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:26+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030729s][吞吐率：32.54req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000274s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033341s][吞吐率：29.99req/s] [内存消耗：3,957.04kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149247 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149247 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149247 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149247 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000553s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:27:28+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/study_details?id=105
[ log ] api.kzwchina.com/common/study/study_details?id=105 [运行时间：0.034561s][吞吐率：28.93req/s] [内存消耗：4,124.40kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000650s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000352s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:30+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.181048s][吞吐率：5.52req/s] [内存消耗：4,314.74kb] [文件加载：74]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '105',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000480s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000350s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 105 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] INSERT INTO `tpn_class_user` (`class_id` , `uid` , `status` , `created_at` , `updated_at`) VALUES (105 , 146 , 1 , 1548149250 , 1548149250) [ RunTime:0.005356s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:27:31+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.050163s][吞吐率：19.94req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000409s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000459s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000245s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000222s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000216s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:31+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.074113s][吞吐率：13.49req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000450s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000262s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000229s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000222s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:33+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030349s][吞吐率：32.95req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000279s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:35+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.037617s][吞吐率：26.58req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000462s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000321s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:35+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.053156s][吞吐率：18.81req/s] [内存消耗：3,937.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000318s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000329s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:36+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033903s][吞吐率：29.50req/s] [内存消耗：3,957.04kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000634s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149256 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149256 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000301s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149256 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548149256 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000546s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:27:37+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.050954s][吞吐率：19.63req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000380s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000231s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000606s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000218s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000225s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:37+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.072242s][吞吐率：13.84req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000377s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000437s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000490s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000220s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000213s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:39+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.050817s][吞吐率：19.68req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000832s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000381s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000251s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000234s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000234s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000252s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:39+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.069110s][吞吐率：14.47req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000445s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000236s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000227s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000237s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000215s ]

---------------------------------------------------------------
[ 2019-01-22T17:27:41+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.029748s][吞吐率：33.62req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000272s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:38+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.038444s][吞吐率：26.01req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000313s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:38+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.054918s][吞吐率：18.21req/s] [内存消耗：3,937.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000371s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000326s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:39+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032498s][吞吐率：30.77req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000544s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000753s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:40+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032814s][吞吐率：30.47req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000512s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000738s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034008s][吞吐率：29.40req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000230s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:41+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030805s][吞吐率：32.46req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000500s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000387s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:43+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038353s][吞吐率：26.07req/s] [内存消耗：4,044.83kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195597525140691' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149383 , 1548149383) [ RunTime:0.004325s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:29:47+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031648s][吞吐率：31.60req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000405s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:48+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032788s][吞吐率：30.50req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000707s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:49+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.037231s][吞吐率：26.86req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000391s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000568s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000290s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:49+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.036576s][吞吐率：27.34req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000389s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000772s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000397s ]

---------------------------------------------------------------
[ 2019-01-22T17:29:53+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038513s][吞吐率：25.97req/s] [内存消耗：4,044.83kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194954501079609' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149393 , 1548149393) [ RunTime:0.004616s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:29:57+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032214s][吞吐率：31.04req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000418s ]

---------------------------------------------------------------
[ 2019-01-22T17:30:20+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034128s][吞吐率：29.30req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000446s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000222s ]

---------------------------------------------------------------
[ 2019-01-22T17:30:20+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030490s][吞吐率：32.80req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000348s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000722s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000399s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:46+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033294s][吞吐率：30.04req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000497s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000742s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:47+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034146s][吞吐率：29.29req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000234s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:47+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031389s][吞吐率：31.86req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000537s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000458s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:49+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.040551s][吞吐率：24.66req/s] [内存消耗：4,044.56kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000714s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195749551082319' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149689 , 1548149689) [ RunTime:0.006460s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:34:51+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.040241s][吞吐率：24.85req/s] [内存消耗：4,044.56kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000493s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199850100547306' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149691 , 1548149691) [ RunTime:0.005947s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:34:53+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038187s][吞吐率：26.19req/s] [内存消耗：4,044.56kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191004848943720' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149693 , 1548149693) [ RunTime:0.004054s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:34:54+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031852s][吞吐率：31.40req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000606s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:55+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030648s][吞吐率：32.63req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000267s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:58+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030171s][吞吐率：33.14req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000479s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000269s ]

---------------------------------------------------------------
[ 2019-01-22T17:34:59+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.042785s][吞吐率：23.37req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000239s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:00+08:00 ] 172.31.69.247 111.196.103.122 POST /common/study/datalist
[ log ] api.kzwchina.com/common/study/datalist [运行时间：0.035847s][吞吐率：27.90req/s] [内存消耗：4,110.45kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '23',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000509s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000619s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = '17'  AND `a`.`end` > 1548149700 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = '17'  AND `a`.`end` > 1548149700 ORDER BY id<>54,a.start desc LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = '17'  AND `a`.`end` > 1548149700 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = '17'  AND `a`.`end` > 1548149700 ORDER BY id<>54,a.start desc LIMIT 0,10 [ RunTime:0.000667s ]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:30]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:30]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:35:02+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030698s][吞吐率：32.58req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000277s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:29+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031181s][吞吐率：32.07req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000380s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031858s][吞吐率：31.39req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000778s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:32+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032301s][吞吐率：30.96req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000448s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000881s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000743s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:33+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033120s][吞吐率：30.19req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000810s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000442s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000229s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:33+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030399s][吞吐率：32.90req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000419s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000382s ]

---------------------------------------------------------------
[ 2019-01-22T17:35:35+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038911s][吞吐率：25.70req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000676s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195553559795111' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149735 , 1548149735) [ RunTime:0.005308s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:35:37+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037217s][吞吐率：26.87req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000789s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195749102125719' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548149737 , 1548149737) [ RunTime:0.004107s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:40:49+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114007s][吞吐率：8.77req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000472s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000909s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002959s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:51+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042271s][吞吐率：23.66req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000485s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001058s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000355s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:51+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.054883s][吞吐率：18.22req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000386s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000573s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000664s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:53+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.043206s][吞吐率：23.14req/s] [内存消耗：3,976.70kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000503s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001104s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000591s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 144 ORDER BY u.weight ASC [ RunTime:0.000569s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000488s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:53+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042831s][吞吐率：23.35req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000389s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:53+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.030607s][吞吐率：32.67req/s] [内存消耗：3,915.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000506s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000196s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:53+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.031012s][吞吐率：32.25req/s] [内存消耗：3,865.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '13',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000301s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000314s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:54+08:00 ] 172.31.69.247 223.104.3.2 POST /common/user/notice_list
[ log ] api.kzwchina.com/common/user/notice_list [运行时间：0.032072s][吞吐率：31.18req/s] [内存消耗：4,026.55kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 144 ORDER BY n.created_at desc LIMIT 1 [ RunTime:0.000250s ]
[ sql ] [ SQL ] SELECT `n`.`id`,`n`.`title`,`n`.`content`,`n`.`reading`,`n`.`type`,`n`.`type_id`,`n`.`created_at`,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_user_collect` WHERE TYPE =4 AND type_id=n.id) is_collect FROM `tpn_user_notice` `n` WHERE  `n`.`uid` = 144 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000423s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:55+08:00 ] 172.31.69.247 223.104.3.2 POST /common/user/notice_details
[ log ] api.kzwchina.com/common/user/notice_details [运行时间：0.037430s][吞吐率：26.72req/s] [内存消耗：4,053.14kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '504',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000809s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_notice` WHERE  `id` = 504 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] UPDATE `tpn_user_notice`  SET `reading`=1  WHERE  `id` = 504 [ RunTime:0.005822s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:57+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030854s][吞吐率：32.41req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000484s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000272s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:59+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.030668s][吞吐率：32.61req/s] [内存消耗：3,909.23kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000244s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000476s ]

---------------------------------------------------------------
[ 2019-01-22T17:40:59+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032345s][吞吐率：30.92req/s] [内存消耗：3,909.92kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'user-agent' => 'Mozilla/5.0 (Linux; Android 7.0; SM-G9350 Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/64.0.3282.137 Mobile Safari/537.36',
  'referer' => 'http://api.kzwchina.com/h5/',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,en-US;q=0.9',
  'cookie' => 'PHPSESSID=86i9fan7e53qjmddvb4l8n6s06',
  'x-requested-with' => 'com.zipingfang.kzhw',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000484s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000484s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:01+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.045087s][吞吐率：22.18req/s] [内存消耗：3,891.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '29',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000544s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001115s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000334s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:01+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.045874s][吞吐率：21.80req/s] [内存消耗：3,935.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000549s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001115s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000387s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:02+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/study/datalist
[ log ] api.kzwchina.com/discover/study/datalist [运行时间：0.034047s][吞吐率：29.37req/s] [内存消耗：3,955.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548150062 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548150062 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548150062 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548150062 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000590s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T17:41:05+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.043069s][吞吐率：23.22req/s] [内存消耗：4,397.35kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000872s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000582s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000573s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000550s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000254s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000231s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:06+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/paper_list?id=105&type=1&exam=1
[ log ] api.kzwchina.com/common/study/paper_list?id=105&type=1&exam=1 [运行时间：0.031914s][吞吐率：31.33req/s] [内存消耗：4,033.30kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'exam' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000462s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000912s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000620s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '105'  AND `p`.`start_time` <= '2019-01-22 17:41'  AND `p`.`end_time` >= '2019-01-22 17:41' [ RunTime:0.000409s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:08+08:00 ] 172.31.69.247 223.104.3.2 GET /common/study/paper_list?id=105&type=1&exam=1
[ log ] api.kzwchina.com/common/study/paper_list?id=105&type=1&exam=1 [运行时间：0.032560s][吞吐率：30.71req/s] [内存消耗：4,033.30kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'id' => '105',
  'type' => '1',
  'exam' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '105'  AND `p`.`start_time` <= '2019-01-22 17:41'  AND `p`.`end_time` >= '2019-01-22 17:41' [ RunTime:0.000401s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:10+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032855s][吞吐率：30.44req/s] [内存消耗：3,936.22kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000741s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:12+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.033458s][吞吐率：29.89req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000680s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000224s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:12+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030380s][吞吐率：32.92req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000371s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000728s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000398s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:14+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038387s][吞吐率：26.05req/s] [内存消耗：4,043.26kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000490s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199710157427109' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548150074 , 1548150074) [ RunTime:0.004476s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:41:15+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.111549s][吞吐率：8.96req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002864s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:24+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030849s][吞吐率：32.42req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000398s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:27+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038543s][吞吐率：25.94req/s] [内存消耗：4,043.26kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000505s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000497s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195598525779692' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548150087 , 1548150087) [ RunTime:0.004484s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:41:28+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112114s][吞吐率：8.92req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002898s ]

---------------------------------------------------------------
[ 2019-01-22T17:41:28+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032081s][吞吐率：31.17req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000499s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000432s ]

---------------------------------------------------------------
[ 2019-01-22T17:46:46+08:00 ] 172.31.69.247 111.196.103.122 GET /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.016537s][吞吐率：60.47req/s] [内存消耗：2,383.13kb] [文件加载：47]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.901.400 QQBrowser/9.0.2524.400',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8,en-us;q=0.6,en;q=0.5;q=0.4',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:46:51+08:00 ] 172.31.69.247 123.124.209.110 GET /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.017713s][吞吐率：56.46req/s] [内存消耗：2,383.13kb] [文件加载：47]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'user-agent' => 'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36 MicroMessenger/6.5.2.501 NetType/WIFI WindowsWechat QBCore/3.43.901.400 QQBrowser/9.0.2524.400',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.8,en-us;q=0.6,en;q=0.5;q=0.4',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:47:09+08:00 ] 172.31.69.247 111.196.103.122 GET /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.017251s][吞吐率：57.97req/s] [内存消耗：2,383.27kb] [文件加载：47]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:47:46+08:00 ] 172.31.69.247 101.227.139.178 GET /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.017520s][吞吐率：57.08req/s] [内存消耗：2,382.76kb] [文件加载：47]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/zh_CN',
  'accept' => '*/*',
  'accept-language' => 'zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4',
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:47:50+08:00 ] 172.31.69.247 61.129.6.227 GET /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.017475s][吞吐率：57.22req/s] [内存消耗：2,382.74kb] [文件加载：47]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 10_2_1 like Mac OS X) AppleWebKit/602.4.6 (KHTML, like Gecko) Mobile/14D27 MicroMessenger/6.5.5 NetType/WIFI Language/en',
  'accept' => '*/*',
  'accept-language' => 'zh-CN,zh;q=0.8,en-US;q=0.6,en;q=0.4',
  'host' => 'api.kzwchina.com',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T17:48:37+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031595s][吞吐率：31.65req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000402s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000397s ]

---------------------------------------------------------------
[ 2019-01-22T17:48:38+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039420s][吞吐率：25.37req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000488s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195457555502011' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548150518 , 1548150518) [ RunTime:0.005693s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T17:48:41+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031800s][吞吐率：31.45req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000922s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000737s ]

---------------------------------------------------------------
[ 2019-01-22T17:48:42+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033787s][吞吐率：29.60req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000448s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000225s ]

---------------------------------------------------------------
[ 2019-01-22T17:48:42+08:00 ] 172.31.69.247 111.196.103.122 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031224s][吞吐率：32.03req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000433s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000304s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000395s ]

---------------------------------------------------------------
[ 2019-01-22T17:48:43+08:00 ] 172.31.69.247 111.196.103.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037955s][吞吐率：26.35req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000401s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000671s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199898985259337' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548150523 , 1548150523) [ RunTime:0.004627s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T18:03:55+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/index.html
[ log ] admin.kzwchina.com/root/information/index.html [运行时间：0.035660s][吞吐率：28.04req/s] [内存消耗：4,421.66kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000519s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000786s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000369s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000311s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 0,10 [ RunTime:0.000463s ]

---------------------------------------------------------------
[ 2019-01-22T18:03:57+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/add.html
[ log ] admin.kzwchina.com/root/information/add.html [运行时间：0.031378s][吞吐率：31.87req/s] [内存消耗：3,949.55kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->add[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/add.html [ array (
  0 => 'checkVal',
  1 => 'enterprise_id',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000387s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000328s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000293s ]

---------------------------------------------------------------
[ 2019-01-22T18:04:06+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/add.html
[ log ] admin.kzwchina.com/root/information/add.html [运行时间：0.031874s][吞吐率：31.37req/s] [内存消耗：3,949.55kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->add[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/add.html [ array (
  0 => 'checkVal',
  1 => 'enterprise_id',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000770s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000366s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000318s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000289s ]

---------------------------------------------------------------
[ 2019-01-22T18:04:50+08:00 ] 172.31.69.247 111.196.103.122 POST /root/upload/aliyunoss.html
[ log ] admin.kzwchina.com/root/upload/aliyunoss.html [运行时间：0.332409s][吞吐率：3.01req/s] [内存消耗：2,836.43kb] [文件加载：52]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'upload',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'origin' => 'http://admin.kzwchina.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://admin.kzwchina.com/root/information/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundaryTHWJZZP1YvNESF6n',
  'content-length' => '35050',
)
[ info ] [ PARAM ] array (
  'id' => 'WU_FILE_0',
  'name' => '3c8b21515ace4b788099316313dc1c26.jpeg',
  'type' => 'image/jpeg',
  'lastModifiedDate' => 'Tue Jan 22 2019 18:02:52 GMT+0800 (中国标准时间)',
  'size' => '34259',
)
[ info ] [ RUN ] app\admin\root\controller\Upload->AliyunOss[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Upload.php ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T18:05:46+08:00 ] 172.31.69.247 111.196.103.122 POST /root/information/add.html
[ log ] admin.kzwchina.com/root/information/add.html [运行时间：0.063515s][吞吐率：15.74req/s] [内存消耗：4,325.95kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/root/information/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '139278',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'cover_img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg',
  'name' => '任正非说他在某种情况下，宁可关闭公司',
  'author' => '转载搜狐',
  'contents' => '<p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: center; word-break: break-word; font-size: 0.48rem !important;"><img src="http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg" title="1548151470374440.jpeg" alt="3c8b21515ace4b788099316313dc1c26.jpeg"/></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明</strong>，被各种报刊、杂志、电影纷纷宣传。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">大家都知道，在那个时代，不是党员连炊事班班长都当不了。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。</strong>当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。</strong>第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为公司和我个人也从来没有收到过任何这样的要求。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">《美联社》Joe McDonald：</strong>很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：那我把公司卖给你。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">《美联社》Joe McDonald：</strong>我倒是刚刚买了一个华为小产品。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果你买不起的话，我就要把这家公司关掉</strong>。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">作为孟晚舟的父亲，我是十分牵挂她的。</strong>在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。</strong>所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。</strong>因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为也会提起上诉吗？</strong>那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们跟美国政府没有沟通的管道，互相不理解。</strong>至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>大家都看到，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。</strong>我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们很简单的，为人类进入信息社会而奋斗。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">同时也告诉你们一个信息：<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举</strong>，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。</strong>公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们坚决反对员工任何违反法律的行为。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。</strong>华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">至于非盟的网络被攻破，和华为没有关系。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">客户有接受我们的，也有不接受我们的，不是现在才存在这个问题</strong>，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">围绕现在的争论点是5G</strong>，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>我不知道这件事情的来龙去脉。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。</strong>我们参加了360多种标准组织，贡献了54,000多件提案，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">在通讯领域我们的能力是世界最强的。</strong>所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。</strong>我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">世界上做5G的厂家就那么几家，做微波的厂家也不多。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。</strong>基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？</strong>面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我个人的政治信仰，和我们商业行为不一定有密切关系。</strong>所以我刚才讲的已经非常清晰，就是坚决不会做这个事。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">《CNBC》Arjun Kharpal：</strong>接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先我不清楚这些事件之间的相关性。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">在他们的孩童时代、青年时代，我们的连接不够亲密。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">第二个时期就是创业时代，</strong>为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">所以我的三个儿女和我都不亲。</strong>从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？</strong>另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>第一个问题，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">第二个问题，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果问我想通过媒体对美国说一句话，那就是“合作共赢”。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。</strong>在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">第三个问题，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。</strong>随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>首先，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？</strong>中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为卖的是一个裸设备，这个设备上没有意识形态。</strong>这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？</strong>第二个问题是，我听说很早之前，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的</strong>，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>第一，这些年我们科研性投入这么强大，做了这么多努力，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们与中兴是不一样的，不会发生中兴那样的事情。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规</strong>，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">假如真的发生了这种情况，对我们有影响，但不会很大。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">因为全世界的运营商都会继续信任我们。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。</strong>印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">大量员工在这些疾病和贫穷地区穿越</strong>，如果你们需要照片，可以让公共关系部提供。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。</strong>华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">第三，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>华为公司存在的唯一理由，就是为客户服务，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。</strong>如果权力不受约束，就会阻碍和破坏这个价值观。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。</strong>集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">董事会的选拔是“任人为贤”</strong>，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">监事会“任人为忠”</strong>，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。</strong>比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。</strong>而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：</strong>第一，孙亚芳的简历，公司网站上有公布。第二，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">任正非：我一贯支持开放政策，但是我没有决定权。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。</strong>几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">又比如，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。</strong>当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;">非常感谢大家花这么长时间来听我唠叨，<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我的讲话不尽科学，也不尽完善</strong>，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。</strong><strong style="margin: 0px; padding: 0px; font-size: 0.48rem !important;">我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。</strong>我衷心感谢大家今天的光临，谢谢。</p><p><br/></p>',
  'is_recommend' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->add[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000730s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000366s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000564s ]
[ sql ] [ SQL ] INSERT INTO `tpn_information` (`classify_id` , `cover_img` , `name` , `author` , `contents` , `is_recommend` , `add_time` , `enterprise_id`) VALUES (29 , 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg' , '任正非说他在某种情况下，宁可关闭公司' , '转载搜狐' , '<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: center; word-break: break-word; font-size: 0.48rem !important;\"><img src=\"http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg\" title=\"1548151470374440.jpeg\" alt=\"3c8b21515ace4b788099316313dc1c26.jpeg\"/></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明</strong>，被各种报刊、杂志、电影纷纷宣传。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">大家都知道，在那个时代，不是党员连炊事班班长都当不了。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。</strong>当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。</strong>第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为公司和我个人也从来没有收到过任何这样的要求。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">《美联社》Joe McDonald：</strong>很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：那我把公司卖给你。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">《美联社》Joe McDonald：</strong>我倒是刚刚买了一个华为小产品。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果你买不起的话，我就要把这家公司关掉</strong>。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">作为孟晚舟的父亲，我是十分牵挂她的。</strong>在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。</strong>所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。</strong>因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为也会提起上诉吗？</strong>那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们跟美国政府没有沟通的管道，互相不理解。</strong>至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>大家都看到，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。</strong>我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们很简单的，为人类进入信息社会而奋斗。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">同时也告诉你们一个信息：<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举</strong>，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。</strong>公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们坚决反对员工任何违反法律的行为。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。</strong>华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">至于非盟的网络被攻破，和华为没有关系。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">客户有接受我们的，也有不接受我们的，不是现在才存在这个问题</strong>，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">围绕现在的争论点是5G</strong>，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>我不知道这件事情的来龙去脉。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。</strong>我们参加了360多种标准组织，贡献了54,000多件提案，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">在通讯领域我们的能力是世界最强的。</strong>所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。</strong>我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">世界上做5G的厂家就那么几家，做微波的厂家也不多。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。</strong>基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？</strong>面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我个人的政治信仰，和我们商业行为不一定有密切关系。</strong>所以我刚才讲的已经非常清晰，就是坚决不会做这个事。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">《CNBC》Arjun Kharpal：</strong>接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先我不清楚这些事件之间的相关性。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">在他们的孩童时代、青年时代，我们的连接不够亲密。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">第二个时期就是创业时代，</strong>为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">所以我的三个儿女和我都不亲。</strong>从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？</strong>另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>第一个问题，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">第二个问题，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果问我想通过媒体对美国说一句话，那就是“合作共赢”。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。</strong>在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">第三个问题，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。</strong>随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>首先，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？</strong>中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为卖的是一个裸设备，这个设备上没有意识形态。</strong>这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？</strong>第二个问题是，我听说很早之前，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的</strong>，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>第一，这些年我们科研性投入这么强大，做了这么多努力，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们与中兴是不一样的，不会发生中兴那样的事情。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规</strong>，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">假如真的发生了这种情况，对我们有影响，但不会很大。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">因为全世界的运营商都会继续信任我们。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。</strong>印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">大量员工在这些疾病和贫穷地区穿越</strong>，如果你们需要照片，可以让公共关系部提供。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。</strong>华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">第三，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>华为公司存在的唯一理由，就是为客户服务，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。</strong>如果权力不受约束，就会阻碍和破坏这个价值观。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。</strong>集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">董事会的选拔是“任人为贤”</strong>，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">监事会“任人为忠”</strong>，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。</strong>比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。</strong>而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：</strong>第一，孙亚芳的简历，公司网站上有公布。第二，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">任正非：我一贯支持开放政策，但是我没有决定权。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。</strong>几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">又比如，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。</strong>当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\">非常感谢大家花这么长时间来听我唠叨，<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我的讲话不尽科学，也不尽完善</strong>，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。</strong><strong style=\"margin: 0px; padding: 0px; font-size: 0.48rem !important;\">我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。</strong>我衷心感谢大家今天的光临，谢谢。</p><p><br/></p>' , 0 , 1548151546 , 0) [ RunTime:0.012177s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000308s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000469s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '添加资讯任正非说他在某种情况下，宁可关闭公司' , 1548151546) [ RunTime:0.018032s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:46+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/index.html
[ log ] admin.kzwchina.com/root/information/index.html [运行时间：0.035463s][吞吐率：28.20req/s] [内存消耗：4,546.76kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000462s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000351s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 1 [ RunTime:0.000235s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 0,10 [ RunTime:0.000570s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:52+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031319s][吞吐率：31.93req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000853s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000265s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:53+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.038764s][吞吐率：25.80req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000323s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:54+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.053988s][吞吐率：18.52req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000738s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000331s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:58+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.041021s][吞吐率：24.38req/s] [内存消耗：4,143.99kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000943s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 146  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.004699s ]

---------------------------------------------------------------
[ 2019-01-22T18:05:58+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.038671s][吞吐率：25.86req/s] [内存消耗：4,038.71kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=p1tjf5kdvl76bj07fv2g4gloc5',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000542s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.004171s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:05+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113285s][吞吐率：8.83req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000491s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002941s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:06+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051627s][吞吐率：19.37req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000498s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000589s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000238s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:06+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.066305s][吞吐率：15.08req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000378s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000741s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000262s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.045514s][吞吐率：21.97req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001091s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000590s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 18:06'  AND `p`.`end_time` >= '2019-01-22 18:06' [ RunTime:0.000567s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.065685s][吞吐率：15.22req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000398s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000778s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000394s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.078251s][吞吐率：12.78req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000366s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000264s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.043556s][吞吐率：22.96req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000549s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001116s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000604s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000276s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.060905s][吞吐率：16.42req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000377s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000314s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.065929s][吞吐率：15.17req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000323s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000335s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:07+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.029917s][吞吐率：33.43req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000407s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000816s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000282s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000316s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:08+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.040640s][吞吐率：24.61req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000826s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000608s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000333s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:08+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.055893s][吞吐率：17.89req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000331s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000318s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:10+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.041763s][吞吐率：23.94req/s] [内存消耗：4,143.99kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000573s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000383s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 146  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000247s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.005443s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:10+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=28 [运行时间：0.031984s][吞吐率：31.27req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000408s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:10+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.036708s][吞吐率：27.24req/s] [内存消耗：4,038.71kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=vl1rmar2splu2s9g9lscg35vb2',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000723s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000476s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.004179s ]

---------------------------------------------------------------
[ 2019-01-22T18:06:18+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/edit/id/28.html
[ log ] admin.kzwchina.com/root/information/edit/id/28.html [运行时间：0.035168s][吞吐率：28.43req/s] [内存消耗：4,169.30kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'enterprise_id',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000366s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000491s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28 LIMIT 1 [ RunTime:0.000400s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:18+08:00 ] 172.31.69.247 111.196.103.122 POST /root/information/edit/id/28.html
[ log ] admin.kzwchina.com/root/information/edit/id/28.html [运行时间：0.050532s][吞吐率：19.79req/s] [内存消耗：4,304.94kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/root/information/edit/id/28.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '107553',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'cover_img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg',
  'name' => '任正非说他在某种情况下，宁可关闭公司',
  'author' => '转载搜狐',
  'contents' => '<p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: center; word-break: break-word; font-size: 0.48rem !important;"><img src="http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg" title="1548151470374440.jpeg" alt="3c8b21515ace4b788099316313dc1c26.jpeg"/></p><p>时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p><strong>1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p>任正非：在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p>当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p>当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p><strong>但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p><strong>2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p>任正非：我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明，被各种报刊、杂志、电影纷纷宣传。由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</p><p>大家都知道，在那个时代，不是党员连炊事班班长都当不了。我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p>我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p><strong>我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p><strong>3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p>任正非：首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。华为公司和我个人也从来没有收到过任何这样的要求。</p><p>《美联社》Joe McDonald：很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong>如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p><strong>任正非：那我把公司卖给你。</strong></p><p><strong>《美联社》Joe McDonald</strong>：我倒是刚刚买了一个华为小产品。</p><p>任正非：如果你买不起的话，我就要把这家公司关掉。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</p><p><strong>4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p>任正非：孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。作为孟晚舟的父亲，我是十分牵挂她的。在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p><strong>5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p><strong>任正非：我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</strong></p><p><strong>6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，华为也会提起上诉吗？那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p>任正非：首先，我们跟美国政府没有沟通的管道，互相不理解。至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p><strong>7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p><strong>任正非：大家都看到，资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。</strong>正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，我们很简单的，为人类进入信息社会而奋斗。</p><p>同时也告诉你们一个信息：我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p><strong>1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p>我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</p><p><strong>8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p>任正非：无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。我们坚决反对员工任何违反法律的行为。公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p>至于非盟的网络被攻破，和华为没有关系。</p><p><strong>9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p>任正非：这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p><strong>10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p>任正非：首先，客户有接受我们的，也有不接受我们的，不是现在才存在这个问题，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p>围绕现在的争论点是5G，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</p><p><strong>11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p>任正非：我不知道这件事情的来龙去脉。</p><p><strong>12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p>任正非：首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong>因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p>我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。我们参加了360多种标准组织，贡献了54,000多件提案，在通讯领域我们的能力是世界最强的。所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p>华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p>世界上做5G的厂家就那么几家，做微波的厂家也不多。能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</p><p><strong>13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p>任正非：我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于我个人的政治信仰，和我们商业行为不一定有密切关系。所以我刚才讲的已经非常清晰，就是坚决不会做这个事。今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</p><p>《CNBC》Arjun Kharpal：接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p>任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</p><p><strong>14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p>任正非：我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</p><p><strong>15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p>任正非：首先我不清楚这些事件之间的相关性。孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</p><p><strong>对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以在他们的孩童时代、青年时代，我们的连接不够亲密。第二个时期就是创业时代，为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，所以我的三个儿女和我都不亲。从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p><strong>在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p><strong>16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p>任正非：第一个问题，我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</p><p>第二个问题，如果问我想通过媒体对美国说一句话，那就是“合作共赢”。因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p>第三个问题，对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</p><p><strong>17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p>任正非：首先，华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p>第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。华为卖的是一个裸设备，这个设备上没有意识形态。这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p><strong>18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？第二个问题是，我听说很早之前，在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p>任正非：第一，这些年我们科研性投入这么强大，做了这么多努力，我们与中兴是不一样的，不会发生中兴那样的事情。华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。假如真的发生了这种情况，对我们有影响，但不会很大。因为全世界的运营商都会继续信任我们。</p><p>我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，大量员工在这些疾病和贫穷地区穿越，如果你们需要照片，可以让公共关系部提供。从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</p><p>第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p>第三，江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</p><p><strong>19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p>任正非：华为公司存在的唯一理由，就是为客户服务，权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。如果权力不受约束，就会阻碍和破坏这个价值观。我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</p><p>公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</p><p>我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。董事会的选拔是“任人为贤”，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。监事会“任人为忠”，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p>现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</p><p><strong>20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p>任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p><strong>21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p>任正非：第一，孙亚芳的简历，公司网站上有公布。第二，可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</p><p><strong>22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p>任正非：我一贯支持开放政策，但是我没有决定权。</p><p>我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</p><p>又比如，美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</p><p>非常感谢大家花这么长时间来听我唠叨，我的讲话不尽科学，也不尽完善，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong>今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。我衷心感谢大家今天的光临，谢谢。</strong></p><p style="margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;"><br/></p>',
  'is_recommend' => '0',
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000378s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000352s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000589s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `classify_id`=29,`cover_img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg',`name`='任正非说他在某种情况下，宁可关闭公司',`author`='转载搜狐',`contents`='<p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: center; word-break: break-word; font-size: 0.48rem !important;\"><img src=\"http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg\" title=\"1548151470374440.jpeg\" alt=\"3c8b21515ace4b788099316313dc1c26.jpeg\"/></p><p>时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p><strong>1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p>任正非：在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p>当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p>当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p><strong>但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p><strong>2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p>任正非：我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明，被各种报刊、杂志、电影纷纷宣传。由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</p><p>大家都知道，在那个时代，不是党员连炊事班班长都当不了。我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p>我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p><strong>我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p><strong>3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p>任正非：首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。华为公司和我个人也从来没有收到过任何这样的要求。</p><p>《美联社》Joe McDonald：很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong>如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p><strong>任正非：那我把公司卖给你。</strong></p><p><strong>《美联社》Joe McDonald</strong>：我倒是刚刚买了一个华为小产品。</p><p>任正非：如果你买不起的话，我就要把这家公司关掉。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</p><p><strong>4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p>任正非：孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。作为孟晚舟的父亲，我是十分牵挂她的。在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p><strong>5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p><strong>任正非：我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</strong></p><p><strong>6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，华为也会提起上诉吗？那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p>任正非：首先，我们跟美国政府没有沟通的管道，互相不理解。至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p><strong>7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p><strong>任正非：大家都看到，资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。</strong>正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，我们很简单的，为人类进入信息社会而奋斗。</p><p>同时也告诉你们一个信息：我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p><strong>1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p>我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</p><p><strong>8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p>任正非：无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。我们坚决反对员工任何违反法律的行为。公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p>至于非盟的网络被攻破，和华为没有关系。</p><p><strong>9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p>任正非：这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p><strong>10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p>任正非：首先，客户有接受我们的，也有不接受我们的，不是现在才存在这个问题，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p>围绕现在的争论点是5G，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</p><p><strong>11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p>任正非：我不知道这件事情的来龙去脉。</p><p><strong>12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p>任正非：首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong>因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p>我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。我们参加了360多种标准组织，贡献了54,000多件提案，在通讯领域我们的能力是世界最强的。所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p>华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p>世界上做5G的厂家就那么几家，做微波的厂家也不多。能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</p><p><strong>13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p>任正非：我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于我个人的政治信仰，和我们商业行为不一定有密切关系。所以我刚才讲的已经非常清晰，就是坚决不会做这个事。今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</p><p>《CNBC》Arjun Kharpal：接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p>任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</p><p><strong>14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p>任正非：我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</p><p><strong>15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p>任正非：首先我不清楚这些事件之间的相关性。孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</p><p><strong>对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以在他们的孩童时代、青年时代，我们的连接不够亲密。第二个时期就是创业时代，为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，所以我的三个儿女和我都不亲。从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p><strong>在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p><strong>16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p>任正非：第一个问题，我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</p><p>第二个问题，如果问我想通过媒体对美国说一句话，那就是“合作共赢”。因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p>第三个问题，对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</p><p><strong>17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p>任正非：首先，华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p>第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。华为卖的是一个裸设备，这个设备上没有意识形态。这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p><strong>18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？第二个问题是，我听说很早之前，在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p>任正非：第一，这些年我们科研性投入这么强大，做了这么多努力，我们与中兴是不一样的，不会发生中兴那样的事情。华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。假如真的发生了这种情况，对我们有影响，但不会很大。因为全世界的运营商都会继续信任我们。</p><p>我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，大量员工在这些疾病和贫穷地区穿越，如果你们需要照片，可以让公共关系部提供。从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</p><p>第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p>第三，江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</p><p><strong>19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p>任正非：华为公司存在的唯一理由，就是为客户服务，权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。如果权力不受约束，就会阻碍和破坏这个价值观。我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</p><p>公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</p><p>我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。董事会的选拔是“任人为贤”，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。监事会“任人为忠”，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p>现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</p><p><strong>20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p>任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p><strong>21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p>任正非：第一，孙亚芳的简历，公司网站上有公布。第二，可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</p><p><strong>22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p>任正非：我一贯支持开放政策，但是我没有决定权。</p><p>我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</p><p>又比如，美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</p><p>非常感谢大家花这么长时间来听我唠叨，我的讲话不尽科学，也不尽完善，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong>今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。我衷心感谢大家今天的光临，谢谢。</strong></p><p style=\"margin-top: 0px; margin-bottom: 0px; padding: 0px 0px 0.666667rem; line-height: 0.76rem; text-size-adjust: none; text-align: justify; word-break: break-word; font-size: 0.48rem !important;\"><br/></p>',`is_recommend`=0,`id`=28,`add_time`=1548152118,`enterprise_id`=0  WHERE  `id` = 28 [ RunTime:0.012865s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000483s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '添加资讯任正非说他在某种情况下，宁可关闭公司' , 1548152118) [ RunTime:0.003854s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:19+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/index.html
[ log ] admin.kzwchina.com/root/information/index.html [运行时间：0.034624s][吞吐率：28.88req/s] [内存消耗：4,496.93kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000355s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000302s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 1 [ RunTime:0.000238s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 0,10 [ RunTime:0.000508s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:25+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114163s][吞吐率：8.76req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002939s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:25+08:00 ] 172.31.69.247 111.196.103.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051847s][吞吐率：19.29req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000553s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000740s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000308s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000364s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000620s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000261s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:25+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.066367s][吞吐率：15.07req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000367s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000265s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.046287s][吞吐率：21.60req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000493s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001056s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000552s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000463s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.060049s][吞吐率：16.65req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000336s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000437s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 18:15'  AND `p`.`end_time` >= '2019-01-22 18:15' [ RunTime:0.000431s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.077357s][吞吐率：12.93req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000253s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.044781s][吞吐率：22.33req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001061s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000440s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.055894s][吞吐率：17.89req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000322s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000730s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000187s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.074930s][吞吐率：13.35req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000287s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000762s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000450s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000284s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030638s][吞吐率：32.64req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000768s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:28+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.041048s][吞吐率：24.36req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000433s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:28+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.057538s][吞吐率：17.38req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000322s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000646s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000323s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:30+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.044080s][吞吐率：22.69req/s] [内存消耗：4,144.04kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000540s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000365s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 146  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000248s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.007614s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=28 [运行时间：0.043653s][吞吐率：22.91req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000416s ]

---------------------------------------------------------------
[ 2019-01-22T18:15:31+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.054528s][吞吐率：18.34req/s] [内存消耗：4,038.87kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.008617s ]

---------------------------------------------------------------
[ 2019-01-22T18:16:03+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/edit/id/28.html
[ log ] admin.kzwchina.com/root/information/edit/id/28.html [运行时间：0.036072s][吞吐率：27.72req/s] [内存消耗：4,119.58kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'enterprise_id',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000365s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000384s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000618s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28 LIMIT 1 [ RunTime:0.000363s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:07+08:00 ] 172.31.69.247 111.196.103.122 POST /root/information/edit/id/28.html
[ log ] admin.kzwchina.com/root/information/edit/id/28.html [运行时间：0.046077s][吞吐率：21.70req/s] [内存消耗：4,302.86kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/root/information/edit/id/28.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '107090',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'cover_img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg',
  'name' => '任正非说他在某种情况下，宁可关闭公司',
  'author' => '转载搜狐',
  'contents' => '<p style="text-align:center"><img src="http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg" title="1548151470374440.jpeg" alt="3c8b21515ace4b788099316313dc1c26.jpeg"/></p><p>时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p><strong>1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p>任正非：在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p>当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p>当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p><strong>但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p><strong>2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p>任正非：我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明，被各种报刊、杂志、电影纷纷宣传。由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</p><p>大家都知道，在那个时代，不是党员连炊事班班长都当不了。我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p>我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p><strong>我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p><strong>3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p>任正非：首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。华为公司和我个人也从来没有收到过任何这样的要求。</p><p>《美联社》Joe McDonald：很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong>如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p><strong>任正非：那我把公司卖给你。</strong></p><p><strong>《美联社》Joe McDonald</strong>：我倒是刚刚买了一个华为小产品。</p><p>任正非：如果你买不起的话，我就要把这家公司关掉。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</p><p><strong>4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p>任正非：孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。作为孟晚舟的父亲，我是十分牵挂她的。在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p><strong>5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p><strong>任正非：我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</strong></p><p><strong>6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，华为也会提起上诉吗？那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p>任正非：首先，我们跟美国政府没有沟通的管道，互相不理解。至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p><strong>7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p><strong>任正非：大家都看到，资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。</strong>正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，我们很简单的，为人类进入信息社会而奋斗。</p><p>同时也告诉你们一个信息：我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p><strong>1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p>我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</p><p><strong>8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p>任正非：无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。我们坚决反对员工任何违反法律的行为。公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p>至于非盟的网络被攻破，和华为没有关系。</p><p><strong>9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p>任正非：这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p><strong>10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p>任正非：首先，客户有接受我们的，也有不接受我们的，不是现在才存在这个问题，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p>围绕现在的争论点是5G，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</p><p><strong>11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p>任正非：我不知道这件事情的来龙去脉。</p><p><strong>12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p>任正非：首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong>因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p>我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。我们参加了360多种标准组织，贡献了54,000多件提案，在通讯领域我们的能力是世界最强的。所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p>华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p>世界上做5G的厂家就那么几家，做微波的厂家也不多。能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</p><p><strong>13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p>任正非：我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于我个人的政治信仰，和我们商业行为不一定有密切关系。所以我刚才讲的已经非常清晰，就是坚决不会做这个事。今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</p><p>《CNBC》Arjun Kharpal：接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p>任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</p><p><strong>14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p>任正非：我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</p><p><strong>15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p>任正非：首先我不清楚这些事件之间的相关性。孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</p><p><strong>对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以在他们的孩童时代、青年时代，我们的连接不够亲密。第二个时期就是创业时代，为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，所以我的三个儿女和我都不亲。从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p><strong>在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p><strong>16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p>任正非：第一个问题，我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</p><p>第二个问题，如果问我想通过媒体对美国说一句话，那就是“合作共赢”。因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p>第三个问题，对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</p><p><strong>17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p>任正非：首先，华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p>第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。华为卖的是一个裸设备，这个设备上没有意识形态。这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p><strong>18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？第二个问题是，我听说很早之前，在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p>任正非：第一，这些年我们科研性投入这么强大，做了这么多努力，我们与中兴是不一样的，不会发生中兴那样的事情。华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。假如真的发生了这种情况，对我们有影响，但不会很大。因为全世界的运营商都会继续信任我们。</p><p>我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，大量员工在这些疾病和贫穷地区穿越，如果你们需要照片，可以让公共关系部提供。从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</p><p>第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p>第三，江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</p><p><strong>19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p>任正非：华为公司存在的唯一理由，就是为客户服务，权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。如果权力不受约束，就会阻碍和破坏这个价值观。我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</p><p>公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</p><p>我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。董事会的选拔是“任人为贤”，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。监事会“任人为忠”，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p>现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</p><p><strong>20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p>任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p><strong>21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p>任正非：第一，孙亚芳的简历，公司网站上有公布。第二，可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</p><p><strong>22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p>任正非：我一贯支持开放政策，但是我没有决定权。</p><p>我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</p><p>又比如，美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</p><p>非常感谢大家花这么长时间来听我唠叨，我的讲话不尽科学，也不尽完善，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong>今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。我衷心感谢大家今天的光临，谢谢。</strong></p>',
  'is_recommend' => '0',
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000767s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000384s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000328s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000581s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `classify_id`=29,`cover_img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20195050574946274.jpeg',`name`='任正非说他在某种情况下，宁可关闭公司',`author`='转载搜狐',`contents`='<p style=\"text-align:center\"><img src=\"http://admin.kzwchina.com/uploads/ueditor/20190122/1548151470374440.jpeg\" title=\"1548151470374440.jpeg\" alt=\"3c8b21515ace4b788099316313dc1c26.jpeg\"/></p><p>时隔多年，任正非在1月15日和1月17日分别接受了国际媒体和国内媒体的采访，按照任正非的话说，“见媒体是公共关系部逼的”。1月17日接受国内媒体的采访详见《昨天，任正非回答了媒体30个问题（全文实录）》。本文则是任正非15日接受国际媒体采访的纪要，也即速记，可以对比看一下国内和国际媒体关注视角的不同，原载于华为心声社区。</p><p><strong>1. 《Mobile World Live》 Joseph Waring ：</strong>您在军队的这段经历，怎样影响的您在华为的管理风格？现在华为在全球都面临着比较多的审查，华为与军方的这些联系，在怎样的程度上影响到华为的未来？</p><p>任正非：在我入伍的时候，当时中国正处于文化大革命的动乱时代，工业、农业的运作已经完全混乱，国家处在极度困难之中，中国人在吃饭、穿衣的问题上都面临很大的困难。曾经在1962年时候我们每个人每年能分到的棉布只有1/3公尺左右，这块布是用来补衣服的。所以，我年轻时没有穿过像样的没有补丁的衣服。</p><p>当时中央希望要让中国每个人每年都能穿上一套新衣服，就从法国德布尼斯·斯贝西姆公司引进了世界最先进的化工设备，建立一个大型的化纤厂，希望通过生产化纤来给每个人提供一套化纤衣服。这个化纤厂在辽阳太子河边上，条件非常艰苦，当时，中国完全混乱了，调不动地方工程队伍，地方的工程队伍都不肯到那个艰苦地方去，所以中央只能调军队去修建这个化纤厂。</p><p>当时部队的工程能力比较低，像我这样刚刚毕业的大学生就得到了使用。部队进入施工现场时，数十平方公里的现场，没有一间房屋，部队全部都睡在草地上，当时是七、八月份。后来工厂拨款建了大批的土坯房，漏风、漏水。那段时间我的体会：一是，接触了世界最先进的技术；二是，吃着世界上最大的苦。当时法国这个化纤厂，自动控制水平是非常高的，至少当时全中国还没有这么先进的工厂，这是我第一次知道了什么叫世界先进技术，还学会了吃苦。我们住在这种土坯房中，既不抗冻，也不防风，最低温度可以达到零下28度。当时中国处于极度困难时期，肉和油的供应极少，东北老百姓每个月供应的食用油是3两，相当于150克。没有任何新鲜蔬菜，这些蔬菜都是在秋天把白菜和萝卜用一个很大的混凝土池腌制起来，做成酸菜和酸萝卜，那么就吃半年的酸菜酸萝卜。主要食物是高粱，而且是很难吃的杂交高粱。我们一边学习最先进的技术，一边过着最原始的生活，这就是那段时间的经历，用一个词总结，就是“冰火两重天”。</p><p><strong>但那段时间，我过得很快乐。</strong>那时在其他地方读书太多是要受批判的，唯有在这个工厂还可以读一读书，因为完全搞不懂这些现代化设备。那时候我是连队的技术员，由于工作努力，后来晋升到一个20多人的小型建筑研究所当副所长，技术职级是副团级。我们那时的梦想，就是希望在改革开放大裁军之前，能够得到一个中校军衔再退伍，可惜没有实现。所以一直到现在，我都是一个没有获得军衔的退伍军人。</p><p><strong>2. 《金融时报》Yuan Yang：</strong>根据记录，您在1982年参加了中国共产党的党代会，你为何没有参加其他的党代会呢？华为和中国共产党的关系是怎样的？</p><p>任正非：我们在担负最先进的化纤厂的建设过程中，检验先进设备缺少一种仪器，这种仪器沈阳自动化研究所的一个技术员在国外看见过，告诉我是什么样子。我就用数学推导的方式把仪器的设计推导了出来，但是我对推导并没有把握，就去请教过东北大学的李诗久教授，来确定我的推导是否合理。得到他的肯定以后，我把这个仪器发明出来了。当时正好国家粉碎了“四人帮”，开始搞经济建设，国家在寻找好的案例证明科学技术是有用的，我的这个小发明就被夸大成了大发明，被各种报刊、杂志、电影纷纷宣传。由于广泛的宣传影响，我有幸被全国科学大会选中，参加了全国科学大会。</p><p>大家都知道，在那个时代，不是党员连炊事班班长都当不了。我参加全国科学大会，却不是党员，上级很奇怪，所以组织给了帮助，让我成为了党员。当时我不能加入共产党的原因，不是我个人工作表现不好，而是我的家庭原因，当时我父亲是作为“走资派”被关进牛棚的。大家都知道，一个革命的知识分子，他的历史远远比一个工农干部要复杂得多，共产党的严格审查致使他十年没有平反，所以我不能入党。</p><p>我1978年入党后，当时国家提倡干部要四化（年轻化、专业化、知识化、革命化），我又符合条件，就推荐我去参加十二大选举，我就被选上了。可惜那时候太年轻，对党在这个大时期的大改革什么也没听明白，这是十分遗憾，我那时是个单纯技术观点的“呆子”。</p><p><strong>我是永远地热爱祖国、拥护中国共产党的，但是我绝不会做伤害世界任何国家的事情。</strong></p><p><strong>3. 《美联社》Joe McDonald：</strong>我们知道过去两周或者最近一两个月以来您面临了很大的压力，所以今天很感谢您和我们交流。我的问题和安全相关，最近我们看到很多国家政府，包括美国、澳大利亚政府提出的安全的担忧，其实他们并不怀疑华为技术的可靠性，而是看起来担心华为，甚至是担心所有中国公司。因为毕竟在中国，如果共产党要求企业做一些事情，企业必须服从。所以我想知道对于华为的外国客户，您能给他们怎样的保证，华为能够保护他们的网络安全，保护他们信息的机密性？另外考虑到中国法律的环境，您的担保有怎样的限制？</p><p>任正非：首先，过去30年来，华为公司在170多个国家，为30多亿人提供服务，保持了良好的安全记录。其次，华为是一个独立的商业公司，我们在网络安全和隐私保护上是坚决站在客户这边的。我们决不会去危害任何国家，伤害任何人。第三，中国外交部也做过澄清，中国没有任何法律要求企业安装后门。华为公司和我个人也从来没有收到过任何这样的要求。</p><p>《美联社》Joe McDonald：很抱歉我不是想跟您在这个问题上去争论。但是美国政府也好，澳大利亚政府也好，他们会说您是卖网络设备给客户的，任何一个客户选厂商的时候，他必须是完全信任你，因为它是把整个国家电信网络基础设施运行最机密的数据放到你的手上了。<strong>如果说中国的国安部找到华为一定要求为他们做一些事情，华为能做什么？华为将做什么？来保证华为对您的客户或者所在国不是一个危险？</strong></p><p><strong>任正非：那我把公司卖给你。</strong></p><p><strong>《美联社》Joe McDonald</strong>：我倒是刚刚买了一个华为小产品。</p><p>任正非：如果你买不起的话，我就要把这家公司关掉。我们已经明确，我们只是以客户为中心，绝不做危害客户的任何事情。我认为苹果公司给我们做了榜样，我们就向苹果学习。当我们面临要侵犯客户利益的时候，宁可关闭公司，也不会被利益所驱使，而去做不应该做的事。</p><p><strong>4. 《华尔街日报》Dan Strumpf：</strong>我们知道您的女儿一个多月前在加拿大被扣押，想了解一下您对于整个事情的感受？第二个问题，您是不是觉得孟女士是因为是您的家庭成员之一才成为这个事情的目标？</p><p>任正非：孟晚舟的事情已经进入了司法程序，我在这里就不再做评述。作为孟晚舟的父亲，我是十分牵挂她的。在这个事件和这段时间里，我非常感谢尊敬的威廉姆·亨克（William Ehrcke）法官的公正，感谢约翰·吉布卡司利（John Gibb Carsley）检察官和凯利·斯卫福特（Kerri Swift）检察官。感谢加拿大阿诺特（Alouette）女子监狱的人性化管理，以及狱友对晚舟的善待。我也感谢中国政府维护孟晚舟作为中国公民的权益，为她提供了领事保护。我相信加拿大和美国的法律体系的公开、公平、公正，以及后续会给出公正的结论。所有事件的证据将来全部公开以后，我们再来对这个事情判断。</p><p><strong>5. 《彭博社》高原：</strong>您作为一个父亲，怎样看待女儿被这样对待？是不是因为孟晚舟是您的家人，所以美国和加拿大政府才会做这样的事情？您自己的想法是怎样的？</p><p><strong>任正非：我没有看到美国司法部和加拿大司法部沟通的邮件，如果他们把邮件全部公开的话，我才能猜测他们是不是因为我的女儿才这样。因此将来还是看法庭公开他们之间往来的沟通，我才知道是不是针对我女儿。</strong></p><p><strong>6. 《CNBC》Arjun Kharpal：</strong>刚才您回答美联社记者的问题，您提到苹果的例子，我记得当时是美国相关机构要求苹果提供用户数据，然后苹果告上了法院，您指的是这个吗？也就是说中国政府如果要求从华为的网络中抽取数据，华为也会提起上诉吗？那第二个问题，您有没有跟美国的相关政府机构进行一些沟通？有的话，主要是哪些方面、哪些内容？</p><p>任正非：首先，我们跟美国政府没有沟通的管道，互相不理解。至于将来，如果出现网络安全方面的事情，我已经讲得很清楚了，我们绝不会做侵害客户利益的事情。</p><p><strong>7. 《财富》Eamon Barrett：</strong>外国对于华为安全的担心，一方面是由于您的军方经历，另外一方面担忧来源于中国政府或多或少是以某种形式持有华为的。华为对外宣传完全是员工持股的公司，但是对外股权和结构上却是一个秘密，这方面的信息公开或者上市，是可以很大程度上缓解这种担忧的。华为的持股结构，为什么如此神秘？</p><p><strong>任正非：大家都看到，资本至上的公司成功的故事非常少，资本是比较贪婪的，如果它有利益就赶快拿走，就失去对理想的追求。</strong>正因为我们是一个私营企业，所以我们才会对理想有孜孜不倦的追求。我们从几百人开始就对准一个“城墙口”冲锋，几千人、几万人、十几万人还是对准同一个“城墙口”冲锋。对着这个“城墙口”，我们每年研发经费的投入已经达到150~200亿美元，未来五年总研发经费会超过1000亿美元。资本公司是看好一个漂亮的财务报表，我们看好的是未来的产业结构，因此我们的决策体系是不一样的，我们很简单的，为人类进入信息社会而奋斗。</p><p>同时也告诉你们一个信息：我们公司有96768名持股员工，前几天也就是1月12日，在170个国家、416个投票点完成了新一届持股员工代表的选举，这个选举过程历时一年，先是对治理章程的宣传，让员工明白公司的治理架构是什么；然后分层分级地推选候选人，每层候选人都要自我宣讲，争取持股员工认同他，他不是被选上，只是被提名。这些提名再被汇总到更上一层组织，再更广泛争取民意，完成一定的收敛。这个收敛以后的名单再会由各级高层组织审议和协商，听取民意和调查，然后再次收敛，最后向选举委员会汇报，汇报之后再返回去，收敛到两百多人，然后放到信息平台上，公开征求意见，再进行投票。确定候选人名单。</p><p><strong>1月12日，我们完成了全球的投票，这几天信使们正背着这些选票往回飞，持股员工代表大会就是公司的最高权力机构。</strong>公司所有权的归属是96768名持股员工，这些人要么是华为在职员工，要么是曾经在华为工作多年后的退休员工，没有一个非华为员工持有一美分股票，没有一个外部机构持有一美分股票，政府任何部门没有一美分股票。公司专门有一个保存股权数据的库房，欢迎记者们去参观、抽查。</p><p>我创业的时候并没有钱。我从军队转业，我们夫妻二人一共拿到3000元左右人民币的复员费。当时深圳要求公司注册资本最低是两万元人民币，我通过集资的方式获得21000元的资金，注册了这家公司。今天，我个人在华为持有股票占总股数为1.14%，我知道乔布斯的持股比例是0.58%，说明我的股权数量继续下降应该是合理的，向乔布斯学习。</p><p><strong>8. 《金融时报》Yuan Yang：</strong>去年非盟中心的通信被攻破了，华为为非盟大楼提供了相关设备，请问华为对此如何回应？如果有任何中国人或者外国人在中国违法犯罪，在华为手机里留下了一些线索，请问华为是否会配合中国司法机关来解决这个问题？再例如，不管是中国人还是外国人，在海外犯法了，华为应该怎么做？</p><p>任正非：无论是华为的中国籍员工或非中国籍员工，只要违反当地法律，我们都会配合司法机构调查。我们坚决反对员工任何违反法律的行为。公司内部有非常庞大的内外合规管理系统，用来预防这些事件，违反后，有纪律部门来处置。华为公司未来的规模可能还会更大，云时代的网络社会更复杂，如果我们不用纪律来约束自己的行为，可能我们会不堪重负。</p><p>至于非盟的网络被攻破，和华为没有关系。</p><p><strong>9. 《财富》Eamon Barrett：</strong>跟着刚才您提到的纪律措施这个问题，上周华为波兰子公司一名员工涉嫌间谍罪被拘捕，我们现在知道华为已经开除了这名员工，而且是并没有等待任何的证据或者法庭审判的情况下就已经开除。联想到孟女士的例子，在12月份的时候被扣押，从华为所有的努力来看，似乎是假设孟女士是无辜的，那为什么在两个案子上的处理不同？为什么在波兰的案子上直接被开除，而在加拿大的案子上分厘必争？</p><p>任正非：这两个案件都涉及正在进行的法律程序，除了公司已正式声明的内容之外，我无法发表更多的意见。</p><p><strong>10. 《彭博社》高原：</strong>回到华为公司业务层面，我想知道最近某些国家考虑到网络安全而停用华为的设备，对华为本身的业务有哪些影响？华为未来会有哪些动作，或者您自己觉得华为应该怎样做，在未来的欧洲及美国等一些发达国家、五眼国家这些地方更好地进行正常业务？</p><p>任正非：首先，客户有接受我们的，也有不接受我们的，不是现在才存在这个问题，过去也有这个问题。如果不接受我们，只是少数议员和官员的意见，他们不代表政府规定，我们要积极去沟通。如果上升到政府规定，那我们就不在这个国家进行销售。</p><p>围绕现在的争论点是5G，4G以下大家还没有争论。没有争论的地区的产品，我们还要继续销售。有少数国家决定不再购买我们的产品，我们就把愿意购买我们设备的国家做好，用优秀的网络说明我们是值得信任的，这也是一个技术上的和平竞赛，我认为这是公平的。</p><p><strong>11. 《美联社》Joe McDonald：</strong>我们知道前期中国政府出于国家安全方面的原因，逮捕了两名加拿大人。昨天我们看到新闻报道，中国法院针对加拿大一位涉嫌毒品走私的人，判处了死刑，现在有一些中国以外的人暗示被捕的两个人本质上就是中国政府抓的两个人质，是回应加拿大政府对您的女儿孟女士的扣押，包括死刑的判决可能也受到这件事的影响，所以他们似乎在暗示不管是公司也好，还是您个人也好，都是中国政府通过抓几个人质或是通过政治影响毒品走私的案子在帮助华为，对此您有什么样的感想？</p><p>任正非：我不知道这件事情的来龙去脉。</p><p><strong>12. 《华尔街日报》Dan Strumpf：</strong>我们看到华为5G未来发展受到一些新的限制措施，下一步有可能受限制的范围更广。上周波兰的官员也表示，北约国家应该针对华为发布统一立场，所以考虑到这些可能受到的限制措施，华为将有很大一部分市场可能进不去。不管是从商业的角度，还是从声誉的角度，这对华为意味着什么？华为未来如何应对？</p><p>任正非：首先，波兰的提议是否能起到作用，我不知道。因为波兰这个国家力量很小，（不确定）能否有这么大的推动。德国、法国可能影响要大一些。波兰的企业能不能起到作用，我现在还不知道。即使波兰能实现它的想法，对我们公司也并不重要。<strong>因为华为不是上市公司，我们不需要一个漂亮的财务报表。当这些国家不买我们的产品的时候，我们就适当收缩，只要能养活自己的员工，我们就有未来。</strong></p><p>我们每年研发投入150亿到200亿美金，投入强度在世界排名前五。我们已经获得授权专利87,805件，其中在美国的核心技术专利是11,152件。我们参加了360多种标准组织，贡献了54,000多件提案，在通讯领域我们的能力是世界最强的。所以我相信，不选择华为的国家和选择了华为的国家在将来会有对比的，我们不能限制他们的选择。</p><p>华为在5G上做了很多努力，现在已签订了30多个5G合同，发货25000个基站，2570项5G专利。我们只要把产品做好，总会有人想买的；产品不好，再怎么宣传，别人都不会买。我们唯一能做的就是简化内部管理，让内部集中精力把产品做好，把服务做好，这才是我们真正应对这个变化世界的永不改变的方法。</p><p>世界上做5G的厂家就那么几家，做微波的厂家也不多。能够把5G基站和最先进的微波技术结合起来，世界上只有华为一家能做到。基站不需要光纤就可以用微波超宽带回传，这是一种非常经济、非常科学的方式。它特别适合地广人稀的农村，不要认为农村就是穷的地方，美国大量的别墅区就是很分散的高档农村，没有光纤的话，它怎么看8K电视？如果不靠华为，它需要非常高的成本才能实现，到时不是这些国家禁止华为的5G，而是求华为把这种5G卖给它。当然，华为是以客户为中心，有可能还是会卖的。</p><p><strong>13. 《CNBC》Arjun Kharpal：</strong>您之前提到，如果中国政府要求您提供网络里面的数据，或者在设备里面安装后门，您会明确的拒绝，不会去服从这样的要求。但我们知道您也是一个共产党员，你怎么才能够拒绝政府或者党对您提出的要求，以什么样的方式去跟这样的要求进行斗争？面向您的客户，你通过什么样的保证让他们放心，说“出现这样的事情，我不会去服从”？</p><p>任正非：我们公司是一家商业公司，商业公司的价值观是以客户为中心，所以我必须遵守商业规则。至于我个人的政治信仰，和我们商业行为不一定有密切关系。所以我刚才讲的已经非常清晰，就是坚决不会做这个事。今天的采访通过报纸登出去以后，未来20~30年，也许我还活着的时候，大家会记得用这句话来验证我的行为。</p><p>《CNBC》Arjun Kharpal：接着问一个问题，之前我们提到苹果的例子，他们不服从政府的要求，甚至把政府告到法庭。中国有没有这样的法律制度给华为这样一种可能？</p><p>任正非：我不执行政府的要求，应该是政府来告我，而不是我去告政府。政府告不告我，我就不知道了。</p><p><strong>14. 《Mobile World live》Joseph Waring：</strong>我们现在看到，中美之间似乎不仅仅只是贸易战，甚至有人说看到了新冷战的苗头。想问一下，其实过去我们看无线通讯技术的阵营主要是两派，一个是GSM，一个是CDMA，您能不能预测一下未来有没有可能出现两种技术阵营：一个是中国主导的技术阵营，加上美国主导的技术阵营，比如手机平台上，我们有安卓的平台，也有iOS平台。</p><p>任正非：我们这个世界曾经在铁路的建设上走过窄轨、标准轨和宽轨共存的时代，这给世界的运输行业增添了非常多的麻烦。在通讯领域也有多标准的时代，给网络建设增加了非常多的成本，3G、4G都是这个问题。为了使通讯网络能够统一起来，我们共同在5G上达成了一个标准，这就是为迎接人类社会走向一个智能社会打下了基础。如果人为地把它分为两个世界，我认为对世界智能社会的进步是有害的。技术科学家的理想和政治家的智慧会决定人类社会的未来。我个人是坚决支持世界建立统一标准的。</p><p><strong>15. 《华尔街日报》Josh Chin：</strong>有加拿大人在中国被扣押，包括被判处死刑，您刚刚提到这和华为无关，但在外界有些人看来就是觉得有关系。您觉得这个事件是有助于孟女士被释放还是有负面影响？另外请问，您和孟女士之间个人的关系怎么样？这个关系投射到华为的工作环境之下是什么样的情况？</p><p>任正非：首先我不清楚这些事件之间的相关性。孟晚舟事件，我们是通过法律手段来捍卫我们的权利。</p><p><strong>对于我们父女之间的关系，既亲密也不亲密。</strong>说不亲密的原因，是在女儿很小的时候我就当兵去了，每年有11个月不和孩子在一起，剩下探亲的1个月，我在家的时候他们去上学，放学吃了饭他们要做作业，所以在他们的孩童时代、青年时代，我们的连接不够亲密。第二个时期就是创业时代，为了生存而奋斗。我基本每天16个小时在办公室，无法顾及这个家，所以我的三个儿女和我都不亲。从父亲这个角度来说，我觉得是亏欠他们的。我曾经和他们谈过话，我问“是爸爸小时候天天和你们在一起玩捉猫猫好，还是像今天创造一个平台给你们提供机会好？”他们说“还是创造平台好”，所以他们就谅解了小时候我没有抽时间陪他们捉猫猫。</p><p><strong>在工作上，我们是一个流程化的公司，更谈不上家庭关系。而且我也不直接管辖孟晚舟的工作，所以我们的交流也不多。将来我退休以后，尽可能去弥补关系。</strong></p><p><strong>16. 《彭博社》高原：</strong>接着刚才问，您现在有退休的打算么？另外两个关于美国方面的问题，您之前说没有很好的管道跟美国政府沟通，那现在这么多外媒坐在这里，您如果想有一些给美国政府说的话，您最想传达的信息是什么？另外，之前特朗普发了Twitter说，如果干预孟晚舟的事情对中美的贸易战谈判有利，他会去做这件事情，您怎么看待特朗普这个人？</p><p>任正非：第一个问题，我的退休就看谷歌什么时候发明出新药使人长生不老，我在等这个药呢。</p><p>第二个问题，如果问我想通过媒体对美国说一句话，那就是“合作共赢”。因为越来越高科技的世界，越来越不可能由一个国家、一个公司完整地完成一件事情。在工业时代，一个国家可以独立做一台完整的纺织机、一辆完整的火车、一艘完整的轮船。而信息社会相互的依存非常高，才能推动人类社会更快的进步。人类信息社会未来的膨胀是无限巨大的，所以任何一个市场机会都不可能由一家公司独立完成，需要有千万个公司共同承担。</p><p>第三个问题，对于特朗普总统说“要把孟晚舟的事件管起来”，那我只能等等看，我现在不能作出判断。对特朗普总统的个人看法，我还是认为他是一个伟大的总统，敢于把税收大幅度降下来，这是有利于美国产业发展的。随着人工智能大规模在工业和管理中的使用，过去工会问题、福利问题、罢工问题……都会随之而解。减税是有利于投资，相当于挖了一片洼地，有利于水流进去。但是只有善待所有国家，善待所有公司，大家才会积极投资，投资产生效益，才能弥补税收的减少。如果动不动就吓唬一些国家，吓唬一些公司，动不动就抓人，谁敢到美国去投资，税收创造的优越环境就不能发挥出作用。</p><p><strong>17. 《金融时报》Yuan Yang：</strong>很多人认为，目前美国对华为5G的怀疑不仅是因为技术性问题，还有政治性问题，华为已经成为中美冷战的代表，您怎么看待这个问题？</p><p>任正非：首先，华为没有这么伟大，中美两个大板块之间的冲突，怎么会让华为这颗小芝麻夹在中间，我们能起什么作用呢？中美贸易冲突，至今对我们并没有产生多大影响，我们预计2019年还会增长，但增长幅度估计不会超过20%。</p><p>第二，现在西方有些人认为华为设备运作有阴谋，这种意识形态就像工业革命时期砸坏纺织机一样，认为先进的纺织机破坏了世界。华为卖的是一个裸设备，这个设备上没有意识形态。这个设备是由运营商来掌控的，不是华为。所以，我们不要回到工业革命砸毁纺织机的时代。</p><p><strong>18. 《财富》Eamon Barrett：</strong>有两个问题，之前您提到整个电信行业的相互依存度是非常高的，我们也看到去年中兴由于美国的出口制裁基本上是停业了相当长一段时间，如果美国也针对华为实施出口管制的话，会不会让华为的生意无法运转？第二个问题是，我听说很早之前，在华为生产交换机的时候，您与江泽民见过一次面，提到电信交换机与国家安全息息相关的，想跟您确认一下是否有过这样一次会面，电信行业是否真的与国家安全息息相关？</p><p>任正非：第一，这些年我们科研性投入这么强大，做了这么多努力，我们与中兴是不一样的，不会发生中兴那样的事情。华为公司的政策和基本商业准则是遵守业务所在国所有适用的法律法规，包括联合国、美国、欧盟适用的出口管制的法律法规，我们一直致力于建设完善合规体系。假如真的发生了这种情况，对我们有影响，但不会很大。因为全世界的运营商都会继续信任我们。</p><p>我举几个例子，在日本海啸引发福岛核电站泄漏时，与难民逆向前进的是华为员工，他们冒着生命危险在两周内恢复了680个基站，为抢险救灾做出了贡献；孟晚舟也是这个时候从香港奔赴日本，整架飞机上只有两个乘客。我们不是见到灾难就逃跑，而是为了人类安全，迎着灾难向前进。印尼海啸，我们有47个员工，在13小时内就把海啸灾区668个基站恢复了，支持了抢险救灾。在智利9.1级大地震的时候，我们有3个员工在地震中心区失去联络，公司准备派抢险队去抢救这些员工，问我的意见，我认为，地震还在，如果派队伍进去，会蒙受更大的灾难，我们只有耐心等待他们的信息。当这些失联的员工第一个电话打给他的主管，主管就说了哪个地区的微波站坏了，他们三个人继续背着背包去抢修这个微波站。他们的事迹，我们后来用真人拍了小电影。事后我去看望过这个员工，刚好智利首富送了我一箱非常好的葡萄酒，我就赠送给他了。大家知道非洲不仅有战争，而且是疾病频发的地区，我们有很多员工都得过疟疾，大量员工在这些疾病和贫穷地区穿越，如果你们需要照片，可以让公共关系部提供。从这些事情也可以解释，我们不是上市公司，不是为了财务报表，我们是为了实现人类理想而努力奋斗。不管条件多艰苦，我们都在努力。</p><p>第二，我个人也到过尼泊尔珠峰5200米的地方，去看附近村庄的基站。我说过“我若贪生怕死，何来让你们英勇冲锋？”如果我们是一个资本至上的公司，我们不会有这个行为。华为过去30年，为世界偏远和贫困地区的进步做出了努力，甚至有些人献出了生命，我们不要忘记他们，不要忘记华为为人类社会做出了贡献，更不要用猜疑来诠释事实。</p><p>第三，江总书记视察过我们公司，当时公司规模还很小，水泥地板都还没有干，江总书记没有做过具体指示，但鼓舞我们努力。记者所说的那些话我没有听说过。</p><p><strong>19. 《华尔街日报》Josh Chin：</strong>两个问题，您现在脑子里想的未来作为公司CEO的接班人是谁？第二，在华为文化的打造上，您发挥了什么样的角色？华为的文化是以进攻性、高要求著称，大家也经常概括成狼性的文化，在文化塑造上您做了哪些事情？为什么文化如此重要？</p><p>任正非：华为公司存在的唯一理由，就是为客户服务，权力是为了推动共同价值观的动力和润滑剂，谁来接班，谁就有权力去推动价值观，起到动力和润滑剂的作用。如果权力不受约束，就会阻碍和破坏这个价值观。我们的治理章程是力图实现分权、共进、制衡，使权力闭合循环，以及在循环中科学更替。</p><p>公司的命运不能系于个人。否则个人遇到安危，公司就不运行了？面向未来不确定的生存与发展环境，我们唯有坚持集体领导，才能不断战胜困难，取得持续的胜利。集体领导机制的生命力与延续性，是通过有序的换班机制来保障的。所以，今年我们已经完成了170个国家、96768名持股员工的选举，这要形成新一届的权力机构。通过制度交接班，才能确保公司“以客户为中心、为客户创造价值”的共同价值得到切实的守护与长久的传承。</p><p>我们分成了几层治理机构，每层治理机构责任聚焦明确，又分权制衡，避免权力过于集中或者因不受约束而被滥用。比如，建立核心精英群体，是由退出董事会、监事会的高层领袖组成，维护公司长远利益，掌握治理领袖的选拔，这个设计吸取了欧洲著名管理学家马利克的观点，也吸收了欧洲和世界各国重要百年公司的治理经验。董事会的选拔是“任人为贤”，资历不重要，他们的责任是多种粮食，改变土壤肥力，带领公司前进。监事会“任人为忠”，对董事和高管的勤勉履责予以监督。所以，权力在闭合中循环，在循环中科学更替。</p><p>现在轮值董事长有3位，每个人当值6个月，在当值期间是最高领袖，最高领袖是置于法下，这个“法”就是治理章程；也置于集体民主中的。比如，当值轮值董事长可以提议，3位轮值董事长商议以后，是否能将提议上常务董事会讨论；7个人组成的常务董事会通过表决，也只能形成提案，交给董事会表决；董事会多数表决通过，才能成为文件。董事长代表了持股员工代表大会，对常务董事会进行规则管理，常务董事会和董事会的运行必须遵循治理章程的规则。监事会是对董事行为进行监督。所以，谁是接班人，不知道，在循环更替中自然会产生，而不是我制定的，因为我不是沙特国王。</p><p><strong>20. 《CNBC》Arjun Kharpal：</strong>想知道您对2019年的业务展望，我们看到华为的一些竞争对手，包括像爱立信，他们的日子很难过，这会不会帮助华为进一步去发展业务的多元化？2019年收入的目标现在有没有数字了？</p><p>任正非：2019年，我们可能会碰到国际环境的很多挫折，所以刚才我说我们的增长不会超过20%，估计在1250亿美金左右。我们也不会乘人之危去抢占爱立信、诺基亚它们的市场。而且现在整个环境对它们是有利的，因为有些国家限制我们不能进去，没有限制它们，它们的机会就比我们更多一些。</p><p><strong>21. 《金融时报》Yuan Yang：</strong>第一，关于孙亚芳女士，您可以解释一下她在国家安全部、华为的两个关系吗？第二，华为和解放军的商业关系，有多少收入来自军方或者和军方有关的机构？第三，华为和军方或者军方相关机构在研发方面有无合作？</p><p>任正非：第一，孙亚芳的简历，公司网站上有公布。第二，可能有少量民用产品进入，数量我就不太清楚，因为不是作为主要客户。第三，我们和军队的研发机构没有合作。</p><p><strong>22. 《华尔街日报》Josh Chin：</strong>您之前提到特朗普总统，还提到了美国的投资环境，想听听您的观点。中美之间的贸易战，一部分是说美国公司在中国市场的市场准入或者公平竞争的机会不够，比如说华为现在也进入了云这样一个领域，其实这个领域对于美国企业限制还是非常多的。那您是不是觉得，中国应该进一步地向美国市场开放，然后来缓解目前的贸易的这个状况？如果是的话，对于中国的科技企业会有怎样的影响？</p><p>任正非：我一贯支持开放政策，但是我没有决定权。</p><p>我可以讲个故事给你们听。2003年，思科与我们有一场旷世纪的官司，当年华为还是“毛毛虫”。我们遭遇了这么巨大的泰山压顶的官司，那时候我的精神压力极大，主要是没经验。但是，我从来不会去煽动民族情绪和民粹主义来抵制思科，从而解决我们的官司问题。几年以后，钱伯斯与我在机场会谈，他非常清晰知道我们对思科的态度。因为我们知道，中国这个国家唯有开放、唯有改革才能有希望，不能为了华为一家公司，中国不开放。</p><p>又比如，美国突然不采购华为手机这种大事件出现时，中国有些民众提出要抵制苹果手机。我们的态度是不能为了我们一家公司牺牲了国家利益，牺牲了国家的开放改革政策。当我们近期在西方受到很严厉的挫折，我们还是支持我们国家继续走向更加开放。因此，我认为，中国只有更加开放，更加改革，才会形成一个更加繁荣的中国。</p><p>非常感谢大家花这么长时间来听我唠叨，我的讲话不尽科学，也不尽完善，通过一个断面，我们之间有了简单的了解。相信我们将来还会有机会再见面，我们可以对一些少量问题深入交流。<strong>今天的题目是非常广泛的，广泛是有利于我回答，我就怕你们对一个问题盘根究底问到底。我们今天认识了，将来有机会坐在一起喝咖啡，有时候也可以说一些随便的话，但是不要把随便话都当成新闻话，那么我们会更多推心置腹。我衷心感谢大家今天的光临，谢谢。</strong></p>',`is_recommend`=0,`id`=28,`add_time`=1548152227,`enterprise_id`=0  WHERE  `id` = 28 [ RunTime:0.007993s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000476s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '添加资讯任正非说他在某种情况下，宁可关闭公司' , 1548152227) [ RunTime:0.004447s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:08+08:00 ] 172.31.69.247 111.196.103.122 GET /root/information/index.html
[ log ] admin.kzwchina.com/root/information/index.html [运行时间：0.035949s][吞吐率：27.82req/s] [内存消耗：4,496.20kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'information',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3664.3 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/information/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=20eo22rbf9r6kcvbfuhokakkh1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Information->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Information.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/information/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000373s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT `id`,`name` FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000646s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 1 [ RunTime:0.000229s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `enterprise_id` = 0 LIMIT 0,10 [ RunTime:0.000529s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:12+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=28 [运行时间：0.031897s][吞吐率：31.35req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000910s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000330s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000415s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:13+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=28 [运行时间：0.031833s][吞吐率：31.41req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000466s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000462s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:14+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031829s][吞吐率：31.42req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000931s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000286s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:15+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.037995s][吞吐率：26.32req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000331s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:15+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.053661s][吞吐率：18.64req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000653s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000276s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000315s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:17+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.042687s][吞吐率：23.43req/s] [内存消耗：4,144.02kb] [文件加载：67]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000396s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 146  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000254s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.005881s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:17+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/article/details?id=28
[ log ] api.kzwchina.com/discover/article/details?id=28 [运行时间：0.038167s][吞吐率：26.20req/s] [内存消耗：4,038.74kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 12_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/16C101',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '28',
)
[ info ] [ RUN ] app\api\discover\controller\Article->details[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000418s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000717s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 28  AND `status` = 1 LIMIT 1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `type` = 3  AND `uid` = 0  AND `type_id` = 28 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] UPDATE `tpn_information`  SET `pv`=pv+1  WHERE  `id` = 28 [ RunTime:0.005709s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:18+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=1&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=1&type=4&type_id=28 [运行时间：0.031433s][吞吐率：31.81req/s] [内存消耗：3,939.24kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000828s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000444s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:27+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=2&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=2&type=4&type_id=28 [运行时间：0.031970s][吞吐率：31.28req/s] [内存消耗：3,939.26kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '2',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000464s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 10,10 [ RunTime:0.000398s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:29+08:00 ] 172.31.69.247 111.196.103.122 GET /discover/comment/datalist?page=3&type=4&type_id=28
[ log ] api.kzwchina.com/discover/comment/datalist?page=3&type=4&type_id=28 [运行时间：0.032296s][吞吐率：30.96req/s] [内存消耗：3,939.26kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '3',
  'type' => '4',
  'type_id' => '28',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 1 [ RunTime:0.000364s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '4'  AND `a`.`type_id` = '28' ORDER BY id desc LIMIT 20,10 [ RunTime:0.000426s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:37+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031196s][吞吐率：32.06req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000571s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:39+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.038453s][吞吐率：26.01req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000294s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:39+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.136209s][吞吐率：7.34req/s] [内存消耗：5,123.94kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000382s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000495s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002923s ]

---------------------------------------------------------------
[ 2019-01-22T18:17:40+08:00 ] 172.31.69.247 111.196.103.122 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030674s][吞吐率：32.60req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=9pppni22mu6blhqiokhbv9bmr4',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000280s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:34+08:00 ] 172.31.69.247 123.120.123.122 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112499s][吞吐率：8.89req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000905s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002945s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:34+08:00 ] 172.31.69.247 114.244.185.88 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.052425s][吞吐率：19.07req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000353s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000583s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000592s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000254s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:34+08:00 ] 172.31.69.247 221.219.217.130 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.063539s][吞吐率：15.74req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000347s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000243s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 114.244.185.88 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.043332s][吞吐率：23.08req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001075s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000334s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 123.122.145.166 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.051994s][吞吐率：19.23req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000384s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000464s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000394s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 221.219.219.19 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.077869s][吞吐率：12.84req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000310s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 19:48'  AND `p`.`end_time` >= '2019-01-22 19:48' [ RunTime:0.000374s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 123.117.15.49 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.050183s][吞吐率：19.93req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001101s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000652s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000356s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000357s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 221.218.140.44 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.040985s][吞吐率：24.40req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000337s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000284s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:35+08:00 ] 172.31.69.247 221.219.217.130 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.072279s][吞吐率：13.84req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000302s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000196s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:36+08:00 ] 172.31.69.247 114.244.185.88 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031244s][吞吐率：32.01req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000387s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000823s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000579s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000321s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000312s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:37+08:00 ] 172.31.69.247 123.117.15.49 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.040022s][吞吐率：24.99req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000607s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000330s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:37+08:00 ] 172.31.69.247 123.122.145.166 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.053960s][吞吐率：18.53req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000310s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000652s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000461s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000297s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:38+08:00 ] 172.31.69.247 123.120.123.122 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032946s][吞吐率：30.35req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000282s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000685s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:39+08:00 ] 172.31.69.247 114.249.182.230 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034395s][吞吐率：29.07req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000600s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000708s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000224s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:40+08:00 ] 172.31.69.247 123.117.15.49 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031693s][吞吐率：31.55req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000416s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:42+08:00 ] 172.31.69.247 123.120.123.122 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038063s][吞吐率：26.27req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000610s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199751101422484' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548157722 , 1548157722) [ RunTime:0.004009s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T19:48:44+08:00 ] 172.31.69.247 114.249.182.230 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038586s][吞吐率：25.92req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199999519848120' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548157724 , 1548157724) [ RunTime:0.004970s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T19:48:46+08:00 ] 172.31.69.247 221.218.138.184 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037764s][吞吐率：26.48req/s] [内存消耗：4,044.38kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=99mqokgoqprasvesosp93clsg0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191019951156387' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548157726 , 1548157726) [ RunTime:0.003825s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T19:48:47+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114369s][吞吐率：8.74req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002946s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:48+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.053559s][吞吐率：18.67req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000447s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001100s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000393s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000626s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000388s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000752s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000639s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:48+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.043688s][吞吐率：22.89req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000370s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000259s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:53+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.044434s][吞吐率：22.51req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000363s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000312s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:53+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.048390s][吞吐率：20.67req/s] [内存消耗：3,976.70kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001067s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 144 ORDER BY u.weight ASC [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.002729s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000388s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:53+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.030472s][吞吐率：32.82req/s] [内存消耗：3,915.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000208s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:54+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.031325s][吞吐率：31.92req/s] [内存消耗：3,865.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '13',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000390s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000805s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000301s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:55+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.042189s][吞吐率：23.70req/s] [内存消耗：3,891.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '29',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001088s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000591s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000391s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:55+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.043487s][吞吐率：23.00req/s] [内存消耗：3,935.89kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000320s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000312s ]

---------------------------------------------------------------
[ 2019-01-22T19:48:57+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.031655s][吞吐率：31.59req/s] [内存消耗：3,936.22kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000721s ]

---------------------------------------------------------------
[ 2019-01-22T19:49:14+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.039764s][吞吐率：25.15req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001135s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000562s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000757s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000417s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000605s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000321s ]

---------------------------------------------------------------
[ 2019-01-22T19:49:14+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.038687s][吞吐率：25.85req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000470s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000807s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000406s ]

---------------------------------------------------------------
[ 2019-01-22T19:49:17+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038309s][吞吐率：26.10req/s] [内存消耗：4,043.26kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000396s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000812s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191005254987437' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548157757 , 1548157757) [ RunTime:0.004453s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T19:49:17+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112360s][吞吐率：8.90req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002944s ]

---------------------------------------------------------------
[ 2019-01-22T19:54:10+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032223s][吞吐率：31.03req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000510s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000884s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000632s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000473s ]

---------------------------------------------------------------
[ 2019-01-22T20:06:37+08:00 ] 172.31.69.247 221.218.140.44 GET /root/index/index.html
[ log ] admin.kzwchina.com/root/index/index.html [运行时间：0.017863s][吞吐率：55.98req/s] [内存消耗：2,407.73kb] [文件加载：48]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/login/login.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=ib95r8c9g0nn8qdkp3i15uv6g1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T20:06:38+08:00 ] 172.31.69.247 114.249.182.230 GET /root/index/index.html
[ log ] admin.kzwchina.com/root/index/index.html [运行时间：0.018004s][吞吐率：55.54req/s] [内存消耗：2,407.73kb] [文件加载：48]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'index',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/login/login.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=ib95r8c9g0nn8qdkp3i15uv6g1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T20:06:38+08:00 ] 172.31.69.247 221.219.217.130 GET /root/login/login.html
[ log ] admin.kzwchina.com/root/login/login.html [运行时间：0.018010s][吞吐率：55.53req/s] [内存消耗：2,305.81kb] [文件加载：49]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=ib95r8c9g0nn8qdkp3i15uv6g1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\root\controller\Login->login[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Login.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/login/login.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T20:06:38+08:00 ] 172.31.69.247 221.218.140.44 GET /root/login/login.html
[ log ] admin.kzwchina.com/root/login/login.html [运行时间：0.017207s][吞吐率：58.12req/s] [内存消耗：2,305.81kb] [文件加载：49]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/index/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=ib95r8c9g0nn8qdkp3i15uv6g1',
)
[ info ] [ PARAM ] array (
)
[ info ] [ RUN ] app\admin\root\controller\Login->login[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Login.php ]
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/login/login.html [ array (
) ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T20:57:23+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112483s][吞吐率：8.89req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000456s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002929s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:24+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.043700s][吞吐率：22.88req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000300s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000648s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000368s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:24+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.056638s][吞吐率：17.66req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001032s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000379s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000357s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000496s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000588s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000248s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:27+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.042678s][吞吐率：23.43req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000736s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000289s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:28+08:00 ] 172.31.69.247 223.104.3.2 GET /common/home/index?enterprise_id=13
[ log ] api.kzwchina.com/common/home/index?enterprise_id=13 [运行时间：0.054992s][吞吐率：18.18req/s] [内存消耗：4,388.54kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000375s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000358s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000355s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000613s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000252s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:28+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.043785s][吞吐率：22.84req/s] [内存消耗：3,945.84kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000697s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000345s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:28+08:00 ] 172.31.69.247 223.104.3.2 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.046822s][吞吐率：21.36req/s] [内存消耗：3,976.70kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001551s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 144 ORDER BY u.weight ASC [ RunTime:0.000484s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000459s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:28+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.031010s][吞吐率：32.25req/s] [内存消耗：3,915.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '0',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000813s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000532s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000196s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:29+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/article_list
[ log ] api.kzwchina.com/discover/introduce/article_list [运行时间：0.031833s][吞吐率：31.41req/s] [内存消耗：3,865.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '13',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000569s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000546s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000325s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000326s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:31+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/introduce/find_banner
[ log ] api.kzwchina.com/discover/introduce/find_banner [运行时间：0.043820s][吞吐率：22.82req/s] [内存消耗：3,891.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '21',
)
[ info ] [ PARAM ] array (
  'type' => '4',
  'classify_id' => '29',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000326s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:31+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/article/datalist
[ log ] api.kzwchina.com/discover/article/datalist [运行时间：0.044749s][吞吐率：22.35req/s] [内存消耗：3,935.89kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000448s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001033s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000399s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:32+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032499s][吞吐率：30.77req/s] [内存消耗：3,936.22kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000703s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:39+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.032482s][吞吐率：30.79req/s] [内存消耗：3,936.22kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '44',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000698s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:41+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/course/course_details
[ log ] api.kzwchina.com/discover/course/course_details [运行时间：0.034387s][吞吐率：29.08req/s] [内存消耗：3,974.70kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '6',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000702s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000233s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:41+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030500s][吞吐率：32.79req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000386s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000463s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000392s ]

---------------------------------------------------------------
[ 2019-01-22T20:57:44+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.031539s][吞吐率：31.71req/s] [内存消耗：3,927.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000503s ]
[ error ] [2]Illegal string offset 'OS'[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T20:57:47+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.031293s][吞吐率：31.96req/s] [内存消耗：3,927.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000548s ]
[ error ] [2]Illegal string offset 'OS'[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T20:57:49+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.031623s][吞吐率：31.62req/s] [内存消耗：3,927.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000522s ]
[ error ] [2]Illegal string offset 'OS'[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:00:06+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031871s][吞吐率：31.38req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000480s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000626s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000451s ]

---------------------------------------------------------------
[ 2019-01-22T21:00:09+08:00 ] 172.31.69.247 223.104.3.2 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038288s][吞吐率：26.12req/s] [内存消耗：4,043.59kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'id' => '168',
  'type' => '2',
  'enterprise_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195799575431614' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548162009 , 1548162009) [ RunTime:0.004221s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:00:10+08:00 ] 172.31.69.247 223.104.3.2 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114261s][吞吐率：8.75req/s] [内存消耗：5,123.21kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000414s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002936s ]

---------------------------------------------------------------
[ 2019-01-22T21:00:11+08:00 ] 172.31.69.247 223.104.3.2 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032480s][吞吐率：30.79req/s] [内存消耗：3,937.38kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '25',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000337s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000409s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:05+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113471s][吞吐率：8.81req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002886s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:05+08:00 ] 172.31.69.247 61.148.243.57 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051698s][吞吐率：19.34req/s] [内存消耗：4,388.45kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000476s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000496s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000488s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000642s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000621s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000251s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:05+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.065952s][吞吐率：15.16req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000366s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000742s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000283s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:09+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/course_type?enterprise_id=13&type=1
[ log ] api.kzwchina.com/discover/course/course_type?enterprise_id=13&type=1 [运行时间：0.031530s][吞吐率：31.72req/s] [内存消耗：3,912.61kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseType[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course_type` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course_type` WHERE  `enterprise_id` = 13  AND `type` = 1 [ RunTime:0.000251s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:09+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.040108s][吞吐率：24.93req/s] [内存消耗：4,000.47kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '33',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'type' => '1',
  'type_id' => '0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001076s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000372s ]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]

---------------------------------------------------------------
[ 2019-01-22T21:42:09+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/course/datalist
[ log ] api.kzwchina.com/discover/course/datalist [运行时间：0.044747s][吞吐率：22.35req/s] [内存消耗：4,000.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '34',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'type' => '1',
  'type_id' => '31',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000356s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000671s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000419s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1'  AND `a`.`type_id` = '31' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000227s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = '13'  AND `a`.`type` = '1'  AND `a`.`type_id` = '31' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000358s ]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Course.php:31]
[ error ] [8]未定义数组索引: classify_id[/www/wwwroot/kouzhiwen/application/common/model/Course.php:34]

---------------------------------------------------------------
[ 2019-01-22T21:42:11+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031083s][吞吐率：32.17req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000478s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000876s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000258s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.047673s][吞吐率：20.98req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000433s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001073s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000559s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000463s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.041405s][吞吐率：24.15req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000291s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.067433s][吞吐率：14.83req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000351s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 21:42'  AND `p`.`end_time` >= '2019-01-22 21:42' [ RunTime:0.000381s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.045057s][吞吐率：22.19req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001082s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000359s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000380s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.049284s][吞吐率：20.29req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000377s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000735s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000194s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.078280s][吞吐率：12.77req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000331s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000431s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000308s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:12+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.029500s][吞吐率：33.90req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000495s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000278s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000305s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:13+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.044367s][吞吐率：22.54req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001053s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000386s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:13+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.054672s][吞吐率：18.29req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000353s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000596s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000364s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:13+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.084014s][吞吐率：11.90req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000359s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000333s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:13+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.086067s][吞吐率：11.62req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000359s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000428s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000333s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:15+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032005s][吞吐率：31.25req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000819s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000673s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000707s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:17+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034279s][吞吐率：29.17req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000466s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000446s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000227s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:18+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031478s][吞吐率：31.77req/s] [内存消耗：3,938.35kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000424s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000806s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000538s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000414s ]

---------------------------------------------------------------
[ 2019-01-22T21:42:20+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.040067s][吞吐率：24.96req/s] [内存消耗：4,044.83kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199998555231005' , 0 , 2 , 168 , 81 , 10 , '国' , 1 , 1 , 1548164540 , 1548164540) [ RunTime:0.007345s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:42:23+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037501s][吞吐率：26.67req/s] [内存消耗：4,044.83kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=m8svvq5h2ct6ird95fp6b86hb0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191021001038447' , 0 , 2 , 168 , 81 , 10 , '国' , 1 , 1 , 1548164543 , 1548164543) [ RunTime:0.004096s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:44:41+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112593s][吞吐率：8.88req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000904s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002904s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:48+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.039868s][吞吐率：25.08req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000538s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000280s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:48+08:00 ] 172.31.69.247 61.148.243.57 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.066649s][吞吐率：15.00req/s] [内存消耗：4,388.45kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000762s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000498s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000671s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000514s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000493s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000595s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000255s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.046485s][吞吐率：21.51req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000495s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001077s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 21:44'  AND `p`.`end_time` >= '2019-01-22 21:44' [ RunTime:0.000463s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.045111s][吞吐率：22.17req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000717s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000446s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000263s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.078485s][吞吐率：12.74req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000383s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000394s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.045694s][吞吐率：21.88req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001085s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000407s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.062449s][吞吐率：16.01req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000201s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.079149s][吞吐率：12.63req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000339s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000319s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:53+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031285s][吞吐率：31.96req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000307s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:54+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.043779s][吞吐率：22.84req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000464s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001057s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000554s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000377s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:54+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.046707s][吞吐率：21.41req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000360s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000615s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000306s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:54+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.091602s][吞吐率：10.92req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000329s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000668s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000316s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:54+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.088116s][吞吐率：11.35req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000310s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000429s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000281s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:55+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031671s][吞吐率：31.57req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000811s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000715s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:57+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033456s][吞吐率：29.89req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000446s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000236s ]

---------------------------------------------------------------
[ 2019-01-22T21:44:58+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032547s][吞吐率：30.72req/s] [内存消耗：3,938.35kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000485s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000416s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:11+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114535s][吞吐率：8.73req/s] [内存消耗：5,124.12kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=c42kirf32ealptjedue34qf264',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000918s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000533s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002934s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:23+08:00 ] 172.31.69.247 122.70.234.186 POST /common/login/login
[ log ] api.kzwchina.com/common/login/login [运行时间：0.039470s][吞吐率：25.34req/s] [内存消耗：4,022.25kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'login',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'os' => 'iOS',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'version' => '1.0',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '50',
)
[ info ] [ PARAM ] array (
  'login_type' => 'phone',
  'password' => '123456',
  'phone' => '18733006695',
)
[ info ] [ RUN ] app\api\common\controller\Login->login[ /www/wwwroot/kouzhiwen/application/api/common/controller/Login.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000448s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `phone` = '18733006695'  AND `status` = 1 LIMIT 1 [ RunTime:0.000568s ]
[ sql ] [ SQL ] UPDATE `tpn_user`  SET `logintoken`='2fe5aafa1f025f638865319df8751dbd',`deviceToken`=NULL  WHERE  `uid` = 144 [ RunTime:0.006758s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000335s ]
[ error ] [8]未定义数组索引: deviceToken[/www/wwwroot/kouzhiwen/application/common/model/User.php:108]

---------------------------------------------------------------
[ 2019-01-22T21:45:23+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113595s][吞吐率：8.80req/s] [内存消耗：5,123.85kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002930s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:24+08:00 ] 172.31.69.247 122.70.234.186 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.050766s][吞吐率：19.70req/s] [内存消耗：4,388.73kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000507s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000279s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000292s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 144  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000611s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000583s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000261s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:24+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.065215s][吞吐率：15.33req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000374s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000268s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:26+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.040678s][吞吐率：24.58req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000528s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001067s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000580s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000604s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000341s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:26+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.050622s][吞吐率：19.75req/s] [内存消耗：3,976.94kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000567s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 144 ORDER BY u.weight ASC [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000396s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:26+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.072576s][吞吐率：13.78req/s] [内存消耗：4,033.59kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000371s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000469s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=144 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 21:45'  AND `p`.`end_time` >= '2019-01-22 21:45' [ RunTime:0.000466s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:27+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.046092s][吞吐率：21.70req/s] [内存消耗：3,937.56kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000525s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001091s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000566s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000635s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000377s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000396s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:27+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.062209s][吞吐率：16.07req/s] [内存消耗：3,893.22kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000380s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000287s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:27+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.064108s][吞吐率：15.60req/s] [内存消耗：3,916.00kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000350s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000676s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000199s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:28+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031086s][吞吐率：32.17req/s] [内存消耗：3,867.52kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000298s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000307s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:43+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/banner
[ log ] api.kzwchina.com/discover/introduce/banner [运行时间：0.039163s][吞吐率：25.53req/s] [内存消耗：3,892.25kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->banner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 3  AND `enterprise_id` = 0 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000329s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:43+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/article_list?page=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1 [运行时间：0.053447s][吞吐率：18.71req/s] [内存消耗：3,883.81kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000372s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000746s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000288s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` IN (2,3,4)  AND `status` = 1 LIMIT 1 [ RunTime:0.000278s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` IN (2,3,4)  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000342s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:48+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030885s][吞吐率：32.38req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000880s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:50+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.040252s][吞吐率：24.84req/s] [内存消耗：4,049.38kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000802s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000290s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:50+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.055474s][吞吐率：18.03req/s] [内存消耗：3,938.20kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000339s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000430s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000277s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000324s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:53+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032469s][吞吐率：30.80req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000896s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000698s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:54+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033666s][吞吐率：29.70req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000386s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000483s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000450s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000224s ]

---------------------------------------------------------------
[ 2019-01-22T21:45:57+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031132s][吞吐率：32.12req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000322s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000408s ]

---------------------------------------------------------------
[ 2019-01-22T21:46:01+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039853s][吞吐率：25.09req/s] [内存消耗：4,044.41kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195798501051533' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548164761 , 1548164761) [ RunTime:0.005748s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:46:05+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038800s][吞吐率：25.77req/s] [内存消耗：4,044.41kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000480s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000834s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000670s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000487s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191005310092186' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548164765 , 1548164765) [ RunTime:0.004999s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:46:36+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039225s][吞吐率：25.49req/s] [内存消耗：4,044.41kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000492s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000540s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000684s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20199954101562341' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548164796 , 1548164796) [ RunTime:0.005275s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:46:56+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032215s][吞吐率：31.04req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000863s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000585s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000388s ]

---------------------------------------------------------------
[ 2019-01-22T21:47:03+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=2
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=2 [运行时间：0.031945s][吞吐率：31.30req/s] [内存消耗：3,935.64kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000701s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '2'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000394s ]

---------------------------------------------------------------
[ 2019-01-22T21:47:11+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030122s][吞吐率：33.20req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000469s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000264s ]

---------------------------------------------------------------
[ 2019-01-22T21:47:15+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.035544s][吞吐率：28.13req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000526s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000888s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164835 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164835 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164835 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164835 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000554s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:47:27+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034094s][吞吐率：29.33req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000889s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000634s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164847 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164847 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164847 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164847 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000551s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:48:04+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034297s][吞吐率：29.16req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000629s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164884 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164884 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164884 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164884 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000684s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:48:44+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034851s][吞吐率：28.69req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000944s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000637s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164924 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164924 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000309s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164924 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164924 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000618s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:49:18+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/addn.html
[ log ] teacher.kzwchina.com/course/study/addn.html [运行时间：0.031214s][吞吐率：32.04req/s] [内存消耗：3,832.67kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://teacher.kzwchina.com/course/study/addn.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->addn[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/teacher/course/view/study/addn.html [ array (
  0 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000726s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000334s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000320s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `teacher_id` = 350 [ RunTime:0.000408s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T21:49:25+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.050562s][吞吐率：19.78req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000369s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000304s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000611s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000235s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000216s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:25+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.075113s][吞吐率：13.31req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000384s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000650s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000554s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000281s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000249s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000260s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000230s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000215s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:27+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.030849s][吞吐率：32.42req/s] [内存消耗：4,032.44kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000571s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000285s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:28+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.033594s][吞吐率：29.77req/s] [内存消耗：4,046.90kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000676s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000359s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:35+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/editn/id/47.html
[ log ] teacher.kzwchina.com/course/study/editn/id/47.html [运行时间：0.034655s][吞吐率：28.86req/s] [内存消耗：4,293.36kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://teacher.kzwchina.com/course/study/editn/id/47.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->editn[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/teacher/course/view/study/editn.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000318s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000305s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `teacher_id` = 350 [ RunTime:0.000352s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T21:49:41+08:00 ] 172.31.69.247 122.70.234.186 POST /course/study/editn/id/47.html
[ log ] teacher.kzwchina.com/course/study/editn/id/47.html [运行时间：0.035322s][吞吐率：28.31req/s] [内存消耗：4,264.84kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://teacher.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://teacher.kzwchina.com/course/study/editn/id/47.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '303',
)
[ info ] [ PARAM ] array (
  'class_id' => '105',
  'id' => '47',
  'title' => '国务院国资委改革局原副局长',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191005354132565.jpg',
  'describe' => 'wqewqe',
  'price' => '0.01',
  'content' => '<p>qewwqeqw</p>',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->editn[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000787s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000326s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000304s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000520s ]
[ sql ] [ SQL ] UPDATE `tpn_class_notice`  SET `class_id`=105,`id`=47,`title`='国务院国资委改革局原副局长',`photo`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191005354132565.jpg',`describe`='wqewqe',`price`=0.01,`content`='<p>qewwqeqw</p>',`created_at`=1548164981  WHERE  `id` = 47 [ RunTime:0.002766s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T21:49:42+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/class_notice/id/350.html
[ log ] teacher.kzwchina.com/course/study/class_notice/id/350.html [运行时间：0.034494s][吞吐率：28.99req/s] [内存消耗：4,365.95kb] [文件加载：68]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'teacher'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'teacher',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'teacher.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://teacher.kzwchina.com/course/study/class_notice/id/350.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=64jvhb94dd3knu6btqn569jee6',
)
[ info ] [ PARAM ] array (
  'id' => '350',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\teacher\course\controller\Study->classNotice[ /www/wwwroot/kouzhiwen/application/teacher/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/teacher/course/view/study/class_notice.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000737s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (0) [ RunTime:0.000312s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_notice` `n` LEFT JOIN `tpn_class` `c` ON `c`.`id`=`n`.`class_id` WHERE  `n`.`teacher_id` = 350 LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SELECT `n`.*,c.name as class_name FROM `tpn_class_notice` `n` LEFT JOIN `tpn_class` `c` ON `c`.`id`=`n`.`class_id` WHERE  `n`.`teacher_id` = 350 ORDER BY n.created_at desc LIMIT 0,10 [ RunTime:0.000327s ]
[ error ] [8]未定义数组下标: 0[/www/wwwroot/kouzhiwen/thinkphp/library/think/Collection.php:309]

---------------------------------------------------------------
[ 2019-01-22T21:49:43+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.031724s][吞吐率：31.52req/s] [内存消耗：4,032.44kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000564s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000276s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:45+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.036428s][吞吐率：27.45req/s] [内存消耗：4,168.97kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000381s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000500s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:46+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.032989s][吞吐率：30.31req/s] [内存消耗：4,063.00kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000508s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000406s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = null  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000508s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:50+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.036240s][吞吐率：27.59req/s] [内存消耗：4,168.97kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000436s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000865s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:52+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.036723s][吞吐率：27.23req/s] [内存消耗：4,168.97kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000298s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000362s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000489s ]

---------------------------------------------------------------
[ 2019-01-22T21:49:57+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033765s][吞吐率：29.62req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164997 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000544s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164997 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164997 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548164997 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000557s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:50:06+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.051260s][吞吐率：19.51req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000440s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000242s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000271s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000239s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000212s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:06+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.073364s][吞吐率：13.63req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000384s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000334s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000470s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000241s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000233s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000497s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000501s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000239s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000215s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:09+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.030999s][吞吐率：32.26req/s] [内存消耗：4,032.44kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000412s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000815s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000292s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:14+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033617s][吞吐率：29.75req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000628s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165014 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165014 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165014 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000454s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165014 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000560s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:50:16+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030695s][吞吐率：32.58req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000438s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:28+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032268s][吞吐率：30.99req/s] [内存消耗：3,907.22kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000852s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000482s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:28+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031440s][吞吐率：31.81req/s] [内存消耗：3,907.75kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000432s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000883s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000246s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000480s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:36+08:00 ] 172.31.69.247 122.70.234.186 GET /root/advertisements/index.html
[ log ] admin.kzwchina.com/root/advertisements/index.html [运行时间：0.032245s][吞吐率：31.01req/s] [内存消耗：4,044.77kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000717s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000350s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000365s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_advertisements` LIMIT 1 [ RunTime:0.000220s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` LIMIT 0,10 [ RunTime:0.000201s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:38+08:00 ] 172.31.69.247 122.70.234.186 GET /root/advertisements/edit/id/20.html
[ log ] admin.kzwchina.com/root/advertisements/edit/id/20.html [运行时间：0.031010s][吞吐率：32.25req/s] [内存消耗：3,925.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/edit.html [ array (
  0 => 'data',
  1 => 'id',
  2 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000724s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000367s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000281s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:44+08:00 ] 172.31.69.247 122.70.234.186 POST /root/advertisements/edit/id/20.html
[ log ] admin.kzwchina.com/root/advertisements/edit/id/20.html [运行时间：0.040669s][吞吐率：24.59req/s] [内存消耗：3,969.19kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/edit/id/20.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '273',
)
[ info ] [ PARAM ] array (
  'title' => '国务院国资委改革局原副局长',
  'content' => '<p>123456789</p>',
  'img' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191025649159619.jpg',
  'price' => '0.01',
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->edit[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000433s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000359s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000474s ]
[ sql ] [ SQL ] UPDATE `tpn_advertisements`  SET `title`='国务院国资委改革局原副局长',`content`='<p>123456789</p>',`img`='http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20191025649159619.jpg',`price`=0.01,`id`=20,`updated_at`=1548165044  WHERE  `id` = 20 [ RunTime:0.005110s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000298s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000518s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '修改广告国务院国资委改革局原副局长' , 1548165044) [ RunTime:0.003983s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:45+08:00 ] 172.31.69.247 122.70.234.186 GET /root/advertisements/index.html
[ log ] admin.kzwchina.com/root/advertisements/index.html [运行时间：0.032584s][吞吐率：30.69req/s] [内存消耗：4,044.80kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'advertisements',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'cache-control' => 'max-age=0',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/root/advertisements/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\root\controller\Advertisements->index[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Advertisements.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/root/view/advertisements/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000422s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000721s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000402s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000355s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000580s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_advertisements` LIMIT 1 [ RunTime:0.000224s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` LIMIT 0,10 [ RunTime:0.000211s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:51+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031237s][吞吐率：32.01req/s] [内存消耗：3,907.22kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:51+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.029465s][吞吐率：33.94req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000382s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:51+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031100s][吞吐率：32.15req/s] [内存消耗：3,907.75kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000781s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000264s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000517s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:52+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031174s][吞吐率：32.08req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000932s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000506s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:54+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.031520s][吞吐率：31.73req/s] [内存消耗：3,916.00kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000573s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000982s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000228s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:54+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.032655s][吞吐率：30.62req/s] [内存消耗：3,867.52kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000515s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000318s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000309s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:55+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032385s][吞吐率：30.88req/s] [内存消耗：3,907.22kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000469s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:55+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032286s][吞吐率：30.97req/s] [内存消耗：3,907.75kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000488s ]

---------------------------------------------------------------
[ 2019-01-22T21:50:57+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037945s][吞吐率：26.35req/s] [内存消耗：4,065.00kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'connection' => 'keep-alive',
  'accept' => '*/*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '13',
  'id' => '20',
  'type' => '6',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000444s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000495s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000228s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194956574821851' , 13 , 6 , 20 , 144 , 0.01 , '国务院国资委改革局原副局长' , 1 , 1 , 1548165057 , 1548165057) [ RunTime:0.004173s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:51:10+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031106s][吞吐率：32.15req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000547s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000286s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:12+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.031546s][吞吐率：31.70req/s] [内存消耗：3,907.22kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000440s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000518s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000465s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:12+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/advertisements_details?id=20
[ log ] api.kzwchina.com/discover/article/advertisements_details?id=20 [运行时间：0.032011s][吞吐率：31.24req/s] [内存消耗：3,907.75kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/plain, */*',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-language' => 'zh-cn',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '20',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->AdvertisementsDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000387s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` WHERE  `id` = 20 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 6  AND `type_id` = 20  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000488s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:30+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031386s][吞吐率：31.86req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000271s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:32+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034060s][吞吐率：29.36req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165092 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000557s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165092 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165092 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165092 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000560s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:51:34+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=2
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=2 [运行时间：0.033921s][吞吐率：29.48req/s] [内存消耗：3,955.84kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000653s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165094 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000558s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165094 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165094 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165094 ORDER BY id<>105,a.start desc LIMIT 10,10 [ RunTime:0.000408s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:51:36+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.052192s][吞吐率：19.16req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000531s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000480s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000239s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000300s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000221s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000230s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:36+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.074796s][吞吐率：13.37req/s] [内存消耗：4,397.43kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000392s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000779s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000460s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 144 LIMIT 1 [ RunTime:0.000376s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000468s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 144  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000252s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000237s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000309s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000263s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000505s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000238s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000234s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:37+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_list?id=105
[ log ] api.kzwchina.com/common/study/notice_list?id=105 [运行时间：0.032457s][吞吐率：30.81req/s] [内存消耗：4,032.44kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000448s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000594s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `class_id` = 105 ORDER BY created_at desc [ RunTime:0.000276s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:49+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.114301s][吞吐率：8.75req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002941s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:49+08:00 ] 172.31.69.247 61.148.243.57 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.052457s][吞吐率：19.06req/s] [内存消耗：4,388.77kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '13',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000942s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000504s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000336s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000603s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000599s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000264s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:49+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.061635s][吞吐率：16.22req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000375s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000248s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:51+08:00 ] 172.31.69.247 61.148.243.57 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.040862s][吞吐率：24.47req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001055s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 21:51'  AND `p`.`end_time` >= '2019-01-22 21:51' [ RunTime:0.000545s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:51+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.053634s][吞吐率：18.64req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000427s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000467s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000471s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000390s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:51+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.057484s][吞吐率：17.40req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000397s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000266s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.046009s][吞吐率：21.73req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000473s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001098s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000567s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000363s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000374s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.064563s][吞吐率：15.49req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000380s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000462s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000551s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000296s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.072727s][吞吐率：13.75req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000374s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000763s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000538s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000220s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:52+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031445s][吞吐率：31.80req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000916s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000532s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000332s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000340s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:53+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.064527s][吞吐率：15.50req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000490s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000356s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:53+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.049594s][吞吐率：20.16req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000400s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000751s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000288s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:53+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.077102s][吞吐率：12.97req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000351s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000759s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000274s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:54+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.109636s][吞吐率：9.12req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000334s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000456s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000301s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:55+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031424s][吞吐率：31.82req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000893s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000601s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000714s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:57+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034559s][吞吐率：28.94req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000467s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000349s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000481s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000446s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000237s ]

---------------------------------------------------------------
[ 2019-01-22T21:51:57+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031715s][吞吐率：31.53req/s] [内存消耗：3,939.15kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'type' => '1',
  'type_id' => '168',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000316s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000424s ]

---------------------------------------------------------------
[ 2019-01-22T21:52:01+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.043251s][吞吐率：23.12req/s] [内存消耗：4,045.13kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=31m4l386r1fa5enldc85pi4ki6',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000877s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000319s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000487s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194949521064426' , 0 , 2 , 168 , 81 , 10 , '国' , 1 , 1 , 1548165121 , 1548165121) [ RunTime:0.009130s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:52:02+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.040529s][吞吐率：24.67req/s] [内存消耗：4,168.97kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000477s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000926s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000542s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000373s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000546s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = 144  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000502s ]

---------------------------------------------------------------
[ 2019-01-22T21:52:02+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/notice_details?id=47
[ log ] api.kzwchina.com/common/study/notice_details?id=47 [运行时间：0.034072s][吞吐率：29.35req/s] [内存消耗：4,063.00kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => 'application/json, text/plain, */*',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'user-agent' => 'Mozilla/5.0 (iPhone; CPU iPhone OS 11_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15F79',
  'accept-language' => 'zh-cn',
  'referer' => 'http://api.kzwchina.com/h5/index.html',
  'accept-encoding' => 'gzip, deflate',
)
[ info ] [ PARAM ] array (
  'id' => '47',
)
[ info ] [ RUN ] app\api\common\controller\Study->NoticeDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_notice` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_notice` WHERE  `id` = 47 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000765s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000383s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT `u`.`nickname`,`u`.`face` FROM `tpn_order` `o` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`o`.`uid` WHERE  `o`.`type_id` = '47'  AND `o`.`type` = 3  AND `o`.`pay_status` = 2 ORDER BY o.created_at desc [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 3  AND `type_id` = 47  AND `uid` = null  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000512s ]

---------------------------------------------------------------
[ 2019-01-22T21:54:44+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=2
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=2 [运行时间：0.033717s][吞吐率：29.66req/s] [内存消耗：3,955.84kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000499s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165284 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165284 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165284 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000451s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165284 ORDER BY id<>105,a.start desc LIMIT 10,10 [ RunTime:0.000414s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T21:54:46+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030582s][吞吐率：32.70req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000278s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:09+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113669s][吞吐率：8.80req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002944s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:10+08:00 ] 172.31.69.247 61.148.243.57 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.052507s][吞吐率：19.05req/s] [内存消耗：4,388.77kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '13',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000461s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000608s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000296s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000585s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000248s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:10+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.063958s][吞吐率：15.64req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000357s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000240s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.043996s][吞吐率：22.73req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000946s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 21:57'  AND `p`.`end_time` >= '2019-01-22 21:57' [ RunTime:0.000517s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.071502s][吞吐率：13.99req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000320s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000675s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000434s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000509s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000484s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000376s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.071501s][吞吐率：13.99req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000312s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000271s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.043630s][吞吐率：22.92req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000900s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000625s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000357s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.071323s][吞吐率：14.02req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000362s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000458s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000305s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:15+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.077579s][吞吐率：12.89req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000758s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000190s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:16+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031881s][吞吐率：31.37req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000948s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000296s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000314s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:17+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.044792s][吞吐率：22.33req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001059s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000570s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000609s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000360s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:17+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.073841s][吞吐率：13.54req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000370s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000744s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000311s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000325s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:17+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.057759s][吞吐率：17.31req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000327s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000664s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000405s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000267s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:17+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.095025s][吞吐率：10.52req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000412s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000261s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000298s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:18+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033320s][吞吐率：30.01req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000913s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000287s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000720s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:19+08:00 ] 172.31.69.247 61.148.243.57 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034191s][吞吐率：29.25req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000416s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000704s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000216s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:20+08:00 ] 172.31.69.247 61.148.243.57 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032116s][吞吐率：31.14req/s] [内存消耗：3,939.15kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'type' => '1',
  'type_id' => '168',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000842s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000595s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000423s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:27+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.034282s][吞吐率：29.17req/s] [内存消耗：4,081.62kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000547s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000324s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T21:57:33+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033416s][吞吐率：29.93req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000497s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000739s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:34+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033864s][吞吐率：29.53req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000427s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000240s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:34+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031727s][吞吐率：31.52req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000408s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:45+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=167
[ log ] api.kzwchina.com/discover/course/course_details?id=167 [运行时间：0.038431s][吞吐率：26.02req/s] [内存消耗：4,145.24kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ CACHE ] INIT File
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000437s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000674s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 167 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 167  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000439s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000226s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_record` [ RunTime:0.000484s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_record` WHERE  `uid` = 144  AND `type` = 6  AND `type_id` = 167 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] UPDATE `tpn_course`  SET `reading`=reading+1  WHERE  `id` = 167 [ RunTime:0.002402s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:45+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031052s][吞吐率：32.20req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '167',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000773s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000573s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '167' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000403s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:51+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.033212s][吞吐率：30.11req/s] [内存消耗：4,081.62kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000450s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000864s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000705s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000344s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T21:57:53+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.036026s][吞吐率：27.76req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000486s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001567s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000556s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000762s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000399s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000567s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000299s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:53+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.034651s][吞吐率：28.86req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000337s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000482s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000404s ]

---------------------------------------------------------------
[ 2019-01-22T21:57:56+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.036885s][吞吐率：27.11req/s] [内存消耗：4,044.41kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000696s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195257535595462' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548165476 , 1548165476) [ RunTime:0.003465s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T21:59:49+08:00 ] 172.31.69.247 61.148.243.57 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.032470s][吞吐率：30.80req/s] [内存消耗：4,081.62kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000322s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T22:01:02+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.033092s][吞吐率：30.22req/s] [内存消耗：4,081.62kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000687s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000335s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T22:01:39+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.033941s][吞吐率：29.46req/s] [内存消耗：4,081.62kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=r9970ps2kh6pvv9v2v0keflpa0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000875s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000686s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000314s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T22:02:04+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.031954s][吞吐率：31.29req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000488s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000693s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000726s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:05+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032673s][吞吐率：30.61req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000445s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000899s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000285s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000698s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:06+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033826s][吞吐率：29.56req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000306s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000447s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000230s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:06+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031796s][吞吐率：31.45req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000421s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000555s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000395s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:12+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.051975s][吞吐率：19.24req/s] [内存消耗：4,044.35kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000856s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000734s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000509s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195255974941231' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548165732 , 1548165732) [ RunTime:0.017936s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:02:22+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030846s][吞吐率：32.42req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000256s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:24+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033699s][吞吐率：29.67req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000825s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000643s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165744 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000560s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165744 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165744 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165744 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000561s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:02:33+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033468s][吞吐率：29.88req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000487s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000870s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000564s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165753 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000602s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165753 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000331s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165753 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000479s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165753 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000576s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:02:36+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034432s][吞吐率：29.04req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000878s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000612s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165756 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165756 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165756 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000463s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165756 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000655s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:02:44+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.113654s][吞吐率：8.80req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000572s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000822s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000529s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002951s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:45+08:00 ] 172.31.69.247 221.217.52.136 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051140s][吞吐率：19.55req/s] [内存消耗：4,388.77kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '13',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000492s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000698s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000600s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000502s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000326s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000664s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000593s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000247s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:45+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.064817s][吞吐率：15.43req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000362s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000510s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000268s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:48+08:00 ] 172.31.69.247 221.217.52.136 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.045943s][吞吐率：21.77req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000502s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001147s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000577s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 22:02'  AND `p`.`end_time` >= '2019-01-22 22:02' [ RunTime:0.000536s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:48+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.060498s][吞吐率：16.53req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000347s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000438s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000575s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000439s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000371s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:48+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.080199s][吞吐率：12.47req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000338s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000424s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000253s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:49+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.047675s][吞吐率：20.98req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001110s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000563s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000384s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000617s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000387s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:49+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.064884s][吞吐率：15.41req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000519s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000792s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000360s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:49+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.071490s][吞吐率：13.99req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000345s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000753s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000445s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000531s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000193s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:49+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031676s][吞吐率：31.57req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000316s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000503s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:50+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.063184s][吞吐率：15.83req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000817s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000572s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000352s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:50+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.078025s][吞吐率：12.82req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000335s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000649s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000474s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000296s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:50+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.082342s][吞吐率：12.14req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000287s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000662s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000423s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000268s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:50+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.105250s][吞吐率：9.50req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000281s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000420s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000265s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000303s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:52+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033003s][吞吐率：30.30req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000694s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000728s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:54+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034135s][吞吐率：29.30req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000503s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000862s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000703s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000530s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000460s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000239s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:55+08:00 ] 172.31.69.247 221.217.52.136 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032095s][吞吐率：31.16req/s] [内存消耗：3,939.15kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'type' => '1',
  'type_id' => '168',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000471s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000598s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000399s ]

---------------------------------------------------------------
[ 2019-01-22T22:02:57+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.033582s][吞吐率：29.78req/s] [内存消耗：4,081.92kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000707s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000347s ]
[ error ] [8]未定义变量: res[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]
[ error ] [1]Cannot access empty property[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:367]

---------------------------------------------------------------
[ 2019-01-22T22:03:43+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034694s][吞吐率：28.82req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000501s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000669s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165823 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165823 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165823 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000432s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548165823 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000545s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:04:00+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.031718s][吞吐率：31.53req/s] [内存消耗：3,977.02kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000839s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000521s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000716s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000365s ]

---------------------------------------------------------------
[ 2019-01-22T22:04:52+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/index.html
[ log ] admin.kzwchina.com/course/study/index.html [运行时间：0.035883s][吞吐率：27.87req/s] [内存消耗：4,160.36kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/study/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000442s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000506s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000656s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000342s ]
[ sql ] [ SQL ] SELECT `c`.*,t.name as teachername FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 ORDER BY c.created_at desc LIMIT 0,10 [ RunTime:0.000430s ]

---------------------------------------------------------------
[ 2019-01-22T22:06:54+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034618s][吞吐率：28.89req/s] [内存消耗：3,957.01kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000845s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166014 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166014 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000275s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166014 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000443s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166014 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000560s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:07:01+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.030936s][吞吐率：32.32req/s] [内存消耗：3,977.38kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000413s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000332s ]

---------------------------------------------------------------
[ 2019-01-22T22:07:05+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/add.html
[ log ] admin.kzwchina.com/course/study/add.html [运行时间：0.035224s][吞吐率：28.39req/s] [内存消耗：4,114.69kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/study/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->add[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/add.html [ array (
  0 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000474s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000791s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000373s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000775s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `enterprise_id` = 0  AND `identity` LIKE '%2%' [ RunTime:0.000967s ]

---------------------------------------------------------------
[ 2019-01-22T22:07:10+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.030572s][吞吐率：32.71req/s] [内存消耗：3,977.38kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000335s ]

---------------------------------------------------------------
[ 2019-01-22T22:07:12+08:00 ] 172.31.69.247 122.70.234.186 POST /root/upload/aliyunoss.html
[ log ] admin.kzwchina.com/root/upload/aliyunoss.html [运行时间：0.341413s][吞吐率：2.93req/s] [内存消耗：2,836.44kb] [文件加载：52]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'root',
    2 => 'upload',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'origin' => 'http://admin.kzwchina.com',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => '*/*',
  'referer' => 'http://admin.kzwchina.com/course/study/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'multipart/form-data; boundary=----WebKitFormBoundary7OjwZjZEzUANl8pR',
  'content-length' => '77819',
)
[ info ] [ PARAM ] array (
  'id' => 'WU_FILE_0',
  'name' => '3f4640a58828cf5cac22591264e8b4e.jpg',
  'type' => 'image/jpeg',
  'lastModifiedDate' => 'Wed Jan 02 2019 11:31:40 GMT+0800 (中国标准时间)',
  'size' => '77032',
)
[ info ] [ RUN ] app\admin\root\controller\Upload->AliyunOss[ /www/wwwroot/kouzhiwen/application/admin/root/controller/Upload.php ]
[ info ] [ LOG ] INIT File

---------------------------------------------------------------
[ 2019-01-22T22:07:27+08:00 ] 172.31.69.247 122.70.234.186 POST /course/study/add.html
[ log ] admin.kzwchina.com/course/study/add.html [运行时间：0.175270s][吞吐率：5.71req/s] [内存消耗：5,102.68kb] [文件加载：74]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'accept' => 'application/json, text/javascript, */*; q=0.01',
  'origin' => 'http://admin.kzwchina.com',
  'x-requested-with' => 'XMLHttpRequest',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'referer' => 'http://admin.kzwchina.com/course/study/add.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
  'content-length' => '270',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'name' => '123',
  'photo' => 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194854100409250.jpg',
  'number' => '50',
  'start' => '2018-11-29',
  'end' => '2019-02-09',
  'price' => '0.01',
  'teacher_id' => '350',
  'describe' => '<p>委屈恶趣味</p>',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->add[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ CACHE ] INIT File
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000410s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000749s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000363s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000317s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000601s ]
[ sql ] [ SQL ] INSERT INTO `tpn_class` (`classify_id` , `name` , `photo` , `number` , `start` , `end` , `price` , `teacher_id` , `describe` , `type` , `created_at` , `enterprise_id`) VALUES (29 , '123' , 'http://kouzhiwen.oss-cn-qingdao.aliyuncs.com/video/20190122/20194854100409250.jpg' , 50 , 1543420800 , 1549641600 , 0.01 , 350 , '<p>委屈恶趣味</p>' , 1 , 1548166047 , 0) [ RunTime:0.003217s ]
[ sql ] [ SQL ] UPDATE `tpn_class`  SET `img_url`='/uploads/qrcode/20190122/106.png'  WHERE  `id` = 106 [ RunTime:0.002671s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_log` [ RunTime:0.000600s ]
[ sql ] [ SQL ] INSERT INTO `tpn_log` (`enterprise_id` , `name` , `content` , `updated_at`) VALUES (0 , 'admin' , '添加班级123' , 1548166047) [ RunTime:0.002269s ]

---------------------------------------------------------------
[ 2019-01-22T22:07:28+08:00 ] 172.31.69.247 122.70.234.186 GET /course/study/index.html
[ log ] admin.kzwchina.com/course/study/index.html [运行时间：0.036375s][吞吐率：27.49req/s] [内存消耗：4,165.20kb] [文件加载：66]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'admin'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'admin',
    1 => 'course',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'admin.kzwchina.com',
  'connection' => 'keep-alive',
  'upgrade-insecure-requests' => '1',
  'user-agent' => 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36',
  'accept' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
  'referer' => 'http://admin.kzwchina.com/course/study/index.html',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-CN,zh;q=0.9',
  'cookie' => 'PHPSESSID=krdeb3qdt5uts2e0n7len74u83',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\admin\course\controller\Study->index[ /www/wwwroot/kouzhiwen/application/admin/course/controller/Study.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ VIEW ] /www/wwwroot/kouzhiwen/public/../application/admin/course/view/study/index.html [ array (
  0 => 'data',
  1 => 'page',
  2 => 'keywords',
  3 => 'checkVal',
) ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_access_group` [ RunTime:0.000732s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_access_group` WHERE  `id` IN (1) [ RunTime:0.000391s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000508s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0 [ RunTime:0.000295s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000599s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 LIMIT 1 [ RunTime:0.000366s ]
[ sql ] [ SQL ] SELECT `c`.*,t.name as teachername FROM `tpn_class` `c` LEFT JOIN `tpn_teacher` `t` ON `t`.`id`=`c`.`teacher_id` WHERE  `c`.`enterprise_id` = 0 ORDER BY c.created_at desc LIMIT 0,10 [ RunTime:0.000438s ]

---------------------------------------------------------------
[ 2019-01-22T22:09:07+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.028506s][吞吐率：35.08req/s] [内存消耗：3,881.57kb] [文件加载：57]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'connection' => 'keep-alive',
  'user-agent' => 'Android',
  'logintoken' => '04293f4a56d84b3a71dd1cfb494ba9f9',
  'host' => 'api.kzwchina.com',
  'accept-encoding' => 'gzip',
  'content-type' => 'application/x-www-form-urlencoded; charset=UTF-8',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000446s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000857s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '04293f4a56d84b3a71dd1cfb494ba9f9' LIMIT 1 [ RunTime:0.000523s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:27+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030888s][吞吐率：32.37req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000846s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:33+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032525s][吞吐率：30.75req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000882s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000766s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:34+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033107s][吞吐率：30.21req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000424s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000238s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:34+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031563s][吞吐率：31.68req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000868s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000577s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000414s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:37+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037702s][吞吐率：26.52req/s] [内存消耗：4,044.39kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000847s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000539s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000328s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195349979781142' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548166357 , 1548166357) [ RunTime:0.004798s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:12:39+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038263s][吞吐率：26.14req/s] [内存消耗：4,044.39kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000519s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000699s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000341s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000473s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195549989770105' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548166359 , 1548166359) [ RunTime:0.004780s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:12:45+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.040448s][吞吐率：24.72req/s] [内存消耗：4,044.39kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000844s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000700s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000335s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000519s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000493s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191009850909957' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548166365 , 1548166365) [ RunTime:0.006669s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:12:48+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031058s][吞吐率：32.20req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000457s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000866s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000293s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:52+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=2
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=2 [运行时间：0.032016s][吞吐率：31.23req/s] [内存消耗：3,935.19kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000546s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000601s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 10,10 [ RunTime:0.000343s ]

---------------------------------------------------------------
[ 2019-01-22T22:12:54+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034990s][吞吐率：28.58req/s] [内存消耗：3,957.63kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000518s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000854s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000639s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166374 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166374 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000299s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166374 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548166374 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000655s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:13:42+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.031096s][吞吐率：32.16req/s] [内存消耗：3,976.71kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000838s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000535s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000690s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000320s ]

---------------------------------------------------------------
[ 2019-01-22T22:13:55+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039491s][吞吐率：25.32req/s] [内存消耗：4,107.55kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000462s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000947s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000648s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000499s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 144 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000516s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195151102552476' , 0 , 1 , 106 , 144 , 0.01 , '123' , 1 , 1 , 1548166435 , 1548166435) [ RunTime:0.004344s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:13:57+08:00 ] 172.31.69.247 122.70.234.186 GET /common/study/study_details?id=106
[ log ] api.kzwchina.com/common/study/study_details?id=106 [运行时间：0.035861s][吞吐率：27.89req/s] [内存消耗：4,124.16kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '106',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000483s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 144 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000651s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000351s ]

---------------------------------------------------------------
[ 2019-01-22T22:13:59+08:00 ] 172.31.69.247 221.217.52.136 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.030202s][吞吐率：33.11req/s] [内存消耗：3,976.71kb] [文件加载：61]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=mtbgsk8cm8e0oniu6hvljrdej1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '48',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000678s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000313s ]

---------------------------------------------------------------
[ 2019-01-22T22:15:16+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039413s][吞吐率：25.37req/s] [内存消耗：4,107.55kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000415s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000837s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000710s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 144 LIMIT 1 [ RunTime:0.000339s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000516s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195253514891895' , 0 , 1 , 106 , 144 , 0.01 , '123' , 1 , 1 , 1548166516 , 1548166516) [ RunTime:0.004083s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:23:33+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112332s][吞吐率：8.90req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000818s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002948s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:33+08:00 ] 172.31.69.247 221.217.52.136 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051305s][吞吐率：19.49req/s] [内存消耗：4,388.77kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '13',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000403s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000801s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000719s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000338s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000524s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000597s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000274s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000489s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000623s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000655s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000607s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000492s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000249s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:33+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.065116s][吞吐率：15.36req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000326s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000665s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000455s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000540s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000265s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.041758s][吞吐率：23.95req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000393s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000814s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000496s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000483s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000407s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.052195s][吞吐率：19.16req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000314s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000691s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000537s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000269s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.030120s][吞吐率：33.20req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000344s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000718s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000421s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000574s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 22:23'  AND `p`.`end_time` >= '2019-01-22 22:23' [ RunTime:0.000364s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.046154s][吞吐率：21.67req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000463s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001058s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000608s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000390s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000404s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.052487s][吞吐率：19.05req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000348s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000680s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000186s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:35+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.078375s][吞吐率：12.76req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000647s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000548s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000322s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:36+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.030815s][吞吐率：32.45req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000332s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000720s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000478s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000291s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000299s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:36+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=31&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=31&type=4 [运行时间：0.043481s][吞吐率：23.00req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001103s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000611s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 31 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000361s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:36+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.068535s][吞吐率：14.59req/s] [内存消耗：3,893.52kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000383s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000934s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000638s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000405s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:36+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=31&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=31&enterprise_id=0&page=1 [运行时间：0.073323s][吞吐率：13.64req/s] [内存消耗：3,935.63kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '31',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000354s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000766s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000565s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000297s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 31  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000311s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:36+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.075491s][吞吐率：13.25req/s] [内存消耗：3,938.02kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000319s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000677s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000422s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000581s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000311s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:38+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.033088s][吞吐率：30.22req/s] [内存消耗：3,938.09kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000454s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000743s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000320s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000727s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:38+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033654s][吞吐率：29.71req/s] [内存消耗：3,976.23kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000332s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 81  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000484s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000455s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 81  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000236s ]

---------------------------------------------------------------
[ 2019-01-22T22:23:39+08:00 ] 172.31.69.247 221.217.52.136 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032331s][吞吐率：30.93req/s] [内存消耗：3,939.15kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=hrsnn7hg1ffcv24em5158re3q4',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '37',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'type' => '1',
  'type_id' => '168',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000468s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000955s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000510s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000584s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000323s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='81') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000401s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:04+08:00 ] 172.31.69.247 114.244.185.88 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112610s][吞吐率：8.88req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000430s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000873s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000572s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002969s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:04+08:00 ] 172.31.69.247 123.120.123.122 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051908s][吞吐率：19.26req/s] [内存消耗：4,388.67kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '16',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '17',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000455s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000824s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000531s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000660s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000569s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000317s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000595s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000663s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000579s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000497s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000249s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:04+08:00 ] 172.31.69.247 221.219.219.19 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.066293s][吞吐率：15.08req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000341s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000470s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000525s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000257s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:05+08:00 ] 172.31.69.247 114.249.182.230 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.050857s][吞吐率：19.66req/s] [内存消耗：3,976.95kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000492s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.005892s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000587s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000588s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 146 ORDER BY u.weight ASC [ RunTime:0.000574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (29,30,31,32,33,34,35,36,37,38,42,44,45,47) [ RunTime:0.000507s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:05+08:00 ] 172.31.69.247 123.120.123.122 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.054464s][吞吐率：18.36req/s] [内存消耗：4,033.57kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000368s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000679s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000448s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000593s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=146 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 22:24'  AND `p`.`end_time` >= '2019-01-22 22:24' [ RunTime:0.000446s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:05+08:00 ] 172.31.69.247 221.219.219.19 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.079984s][吞吐率：12.50req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000374s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000733s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000273s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:06+08:00 ] 172.31.69.247 221.218.140.44 GET /discover/article/datalist?classify_id=29&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=29&enterprise_id=0&page=1 [运行时间：0.049702s][吞吐率：20.12req/s] [内存消耗：3,937.84kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.005666s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001096s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000300s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 29  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000351s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:06+08:00 ] 172.31.69.247 124.64.114.112 GET /discover/introduce/find_banner?classify_id=29&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=29&type=4 [运行时间：0.064215s][吞吐率：15.57req/s] [内存消耗：3,893.34kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000360s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000563s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 29 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000336s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:06+08:00 ] 172.31.69.247 124.64.114.112 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.074398s][吞吐率：13.44req/s] [内存消耗：3,916.10kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000361s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000711s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000493s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000543s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000191s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:06+08:00 ] 172.31.69.247 114.244.177.114 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031651s][吞吐率：31.59req/s] [内存消耗：3,867.91kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000490s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000554s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000283s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000269s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000318s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:07+08:00 ] 172.31.69.247 123.122.145.220 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.040358s][吞吐率：24.78req/s] [内存消耗：3,938.48kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000399s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000851s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000587s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000341s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:07+08:00 ] 172.31.69.247 114.249.182.230 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.053740s][吞吐率：18.61req/s] [内存消耗：4,049.53kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000360s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000713s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000536s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000553s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000295s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:08+08:00 ] 172.31.69.247 221.219.219.19 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.034169s][吞吐率：29.27req/s] [内存消耗：3,957.73kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000411s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000859s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000622s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167048 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000566s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167048 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167048 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000475s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167048 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000734s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:24:10+08:00 ] 172.31.69.247 124.64.114.112 GET /common/study/study_details?id=106
[ log ] api.kzwchina.com/common/study/study_details?id=106 [运行时间：0.036053s][吞吐率：27.74req/s] [内存消耗：4,124.40kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '106',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000582s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000259s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000683s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000381s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:14+08:00 ] 172.31.69.247 123.122.145.220 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.041071s][吞吐率：24.35req/s] [内存消耗：4,107.49kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000499s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000545s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000666s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000294s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000516s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000347s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000260s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000510s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191019955571209' , 0 , 1 , 106 , 146 , 0.01 , '123' , 1 , 1 , 1548167054 , 1548167054) [ RunTime:0.006551s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:24:18+08:00 ] 172.31.69.247 221.219.219.19 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.050880s][吞吐率：19.65req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000886s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000541s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000394s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000590s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000273s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000465s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000234s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000312s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000556s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000266s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000223s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000232s ]

---------------------------------------------------------------
[ 2019-01-22T22:24:18+08:00 ] 172.31.69.247 221.218.140.44 GET /common/study/class_course_list?id=105
[ log ] api.kzwchina.com/common/study/class_course_list?id=105 [运行时间：0.069603s][吞吐率：14.37req/s] [内存消耗：4,397.57kb] [文件加载：69]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '105',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->ClassCourseList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000369s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000747s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000486s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000521s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 105  AND `uid` = 146 LIMIT 1 [ RunTime:0.000361s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000567s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 105 LIMIT 1 [ RunTime:0.000267s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_sign` [ RunTime:0.000517s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_sign` WHERE  `class_id` = 105  AND `uid` = 146  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000289s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_sign` WHERE  `class_id` = 105  AND `date` = '2019-01-22' LIMIT 1 [ RunTime:0.000243s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_course` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`status`,`c`.`type` FROM `tpn_class_course` `c` WHERE  `c`.`class_id` = '105' ORDER BY `c`.`start` [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher_article` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img` FROM `tpn_teacher_article` WHERE  `class_id` = 105  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000272s ]
[ sql ] [ SQL ] SELECT `u`.`uid`,`u`.`face`,(select SUM(blue+purple+green+orange+red) from `tpn_user_ranking` `r` where `date`='2019' and `r`.`uid`=`c`.`uid`) ranking_num FROM `tpn_class_user` `c` LEFT JOIN `tpn_user` `u` ON `u`.`uid`=`c`.`uid` WHERE  `c`.`class_id` = '105' ORDER BY ranking_num desc LIMIT 0,10 [ RunTime:0.000503s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_ranking` [ RunTime:0.000515s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 144 ORDER BY date desc [ RunTime:0.000235s ]
[ sql ] [ SQL ] SELECT `blue`,`purple`,`green`,`orange`,`red` FROM `tpn_user_ranking` WHERE  `uid` = 146 ORDER BY date desc [ RunTime:0.000231s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:06+08:00 ] 172.31.69.247 123.122.145.166 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.032083s][吞吐率：31.17req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000563s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000924s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000566s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000534s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000293s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:08+08:00 ] 172.31.69.247 221.218.138.184 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032659s][吞吐率：30.62req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000874s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000697s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000740s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:09+08:00 ] 172.31.69.247 124.64.114.112 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032804s][吞吐率：30.48req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000510s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000525s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000280s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000733s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:10+08:00 ] 172.31.69.247 124.64.114.112 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033488s][吞吐率：29.86req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000435s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000861s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000513s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000491s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000441s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000229s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:11+08:00 ] 172.31.69.247 124.64.114.112 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.032830s][吞吐率：30.46req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000490s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000919s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000551s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000615s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000408s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:13+08:00 ] 172.31.69.247 114.249.182.230 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.037820s][吞吐率：26.44req/s] [内存消耗：4,044.34kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000459s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000871s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000524s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000685s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000343s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000505s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000477s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20194953549945365' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548167473 , 1548167473) [ RunTime:0.003793s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:15+08:00 ] 172.31.69.247 124.64.114.112 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038507s][吞吐率：25.97req/s] [内存消耗：4,044.34kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000434s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000841s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000528s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000352s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000520s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000471s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195199511098834' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548167475 , 1548167475) [ RunTime:0.004136s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:18+08:00 ] 172.31.69.247 123.122.145.166 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032990s][吞吐率：30.31req/s] [内存消耗：3,937.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000482s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000892s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000543s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000706s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000318s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000782s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:19+08:00 ] 172.31.69.247 123.122.145.220 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.034673s][吞吐率：28.84req/s] [内存消耗：3,976.05kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000426s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000867s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000534s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000717s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000333s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000459s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 146  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000234s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:19+08:00 ] 172.31.69.247 123.122.145.220 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.030885s][吞吐率：32.38req/s] [内存消耗：3,938.18kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000441s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000764s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000514s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='146') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000410s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:21+08:00 ] 172.31.69.247 221.218.138.184 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038842s][吞吐率：25.75req/s] [内存消耗：4,044.34kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000518s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000903s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000574s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000750s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000340s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000570s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 146  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000513s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195750100916850' , 0 , 2 , 168 , 146 , 10 , '国' , 1 , 1 , 1548167481 , 1548167481) [ RunTime:0.003918s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:22+08:00 ] 172.31.69.247 124.64.114.112 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031231s][吞吐率：32.02req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000425s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000831s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000526s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000579s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000268s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:24+08:00 ] 172.31.69.247 221.219.219.19 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.033618s][吞吐率：29.75req/s] [内存消耗：3,957.73kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000442s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000835s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000517s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000606s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167484 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167484 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000314s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167484 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000485s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167484 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000694s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:31:26+08:00 ] 172.31.69.247 124.64.114.112 GET /common/study/study_details?id=106
[ log ] api.kzwchina.com/common/study/study_details?id=106 [运行时间：0.036097s][吞吐率：27.70req/s] [内存消耗：4,124.40kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '106',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->StudyDetails[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000494s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000860s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000530s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000692s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000302s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000507s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000270s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000351s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000667s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_teacher` WHERE  `id` = 350 LIMIT 1 [ RunTime:0.000372s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:30+08:00 ] 172.31.69.247 114.249.182.230 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038199s][吞吐率：26.18req/s] [内存消耗：4,107.49kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000417s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000855s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000523s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000303s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000487s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000354s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000256s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000515s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195057481059659' , 0 , 1 , 106 , 146 , 0.01 , '123' , 1 , 1 , 1548167490 , 1548167490) [ RunTime:0.004077s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:32+08:00 ] 172.31.69.247 114.244.185.88 GET /discover/study/datalist?classify_id=29&page=1
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=1 [运行时间：0.035647s][吞吐率：28.05req/s] [内存消耗：3,957.73kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000452s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000821s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000527s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000650s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167492 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000576s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167492 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000290s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167492 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000449s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=146) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167492 ORDER BY id<>105,a.start desc LIMIT 0,10 [ RunTime:0.000662s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:31:33+08:00 ] 172.31.69.247 114.244.177.114 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038273s][吞吐率：26.13req/s] [内存消耗：4,107.49kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000460s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000887s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000645s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000284s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000512s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000344s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000257s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000514s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195398101594897' , 0 , 1 , 106 , 146 , 0.01 , '123' , 1 , 1 , 1548167493 , 1548167493) [ RunTime:0.004025s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:36+08:00 ] 172.31.69.247 221.218.140.44 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.040797s][吞吐率：24.51req/s] [内存消耗：4,107.49kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '106',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000443s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000921s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000550s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000630s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 106 LIMIT 1 [ RunTime:0.000313s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000494s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `class_id` = 106  AND `uid` = 146 LIMIT 1 [ RunTime:0.000348s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class_user` WHERE  `class_id` = 106 LIMIT 1 [ RunTime:0.000258s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000515s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195651102145584' , 0 , 1 , 106 , 146 , 0.01 , '123' , 1 , 1 , 1548167496 , 1548167496) [ RunTime:0.005547s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:31:37+08:00 ] 172.31.69.247 123.122.145.220 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.029803s][吞吐率：33.55req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000428s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000869s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000539s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000281s ]

---------------------------------------------------------------
[ 2019-01-22T22:31:39+08:00 ] 172.31.69.247 114.244.185.88 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031445s][吞吐率：31.80req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=5ubahftrlsuqatvq9mm78g7sb1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000423s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000879s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000522s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000552s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000281s ]

---------------------------------------------------------------
[ 2019-01-22T22:38:51+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/study/datalist?classify_id=29&page=2
[ log ] api.kzwchina.com/discover/study/datalist?classify_id=29&page=2 [运行时间：0.033791s][吞吐率：29.59req/s] [内存消耗：3,955.84kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'page' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Study->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000452s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000907s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000511s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000636s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167931 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167931 ORDER BY id<>105,a.start desc LIMIT 1 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SELECT `a`.`id`,count(`u`.`uid`) as count FROM `tpn_class` `a` LEFT JOIN `tpn_class_user` `u` ON `a`.`id`=`u`.`class_id` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167931 GROUP BY u.class_id ORDER BY count desc LIMIT 1 [ RunTime:0.000464s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`enterprise_id`,`a`.`name`,`a`.`photo`,`a`.`start`,`a`.`end`,`a`.`price`,(select count(*) from tpn_class_user where `class_id`=a.id) apply_num,(select if(count(*)>0,1,0) from tpn_class_user where `class_id`=a.id and `uid`=144) is_apply FROM `tpn_class` `a` WHERE  `a`.`enterprise_id` = 0  AND `a`.`classify_id` = '29'  AND `a`.`end` > 1548167931 ORDER BY id<>105,a.start desc LIMIT 10,10 [ RunTime:0.000468s ]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]
[ error ] [8]未定义数组索引: class_type_id[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:34]
[ error ] [8]未定义数组索引: power[/www/wwwroot/kouzhiwen/application/common/model/Studys.php:42]

---------------------------------------------------------------
[ 2019-01-22T22:39:04+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.030178s][吞吐率：33.14req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000429s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000829s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000536s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000555s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000277s ]

---------------------------------------------------------------
[ 2019-01-22T22:39:05+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1
[ log ] api.kzwchina.com/discover/course/datalist?classify_id=29&enterprise_id=0&page=1&type=1 [运行时间：0.032427s][吞吐率：30.84req/s] [内存消耗：3,937.80kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '29',
  'enterprise_id' => '0',
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000458s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000935s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000501s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000688s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 1 [ RunTime:0.000293s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`photo`,`a`.`title`,`a`.`price`,`a`.`look_num`,`a`.`reading`,(select if(count(*)>0,1,0) from `tpn_order` where `type`=2 and `type_id`=a.id and `pay_status`=2) is_buy FROM `tpn_course` `a` WHERE  `a`.`status` = 1  AND `a`.`enterprise_id` = 0  AND `a`.`type` = '1'  AND `a`.`power` = 0  AND `a`.`classify_id` = '29' ORDER BY weight desc,a.id desc LIMIT 0,10 [ RunTime:0.000688s ]

---------------------------------------------------------------
[ 2019-01-22T22:39:07+08:00 ] 172.31.69.247 122.70.234.186 GET /discover/course/course_details?id=168
[ log ] api.kzwchina.com/discover/course/course_details?id=168 [运行时间：0.033265s][吞吐率：30.06req/s] [内存消耗：3,976.06kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'course',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Course->CourseDetails[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Course.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000465s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000858s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000529s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000712s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000327s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000494s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_collect` [ RunTime:0.000456s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user_collect` WHERE  `uid` = 144  AND `type` = 1  AND `type_id` = 168 LIMIT 1 [ RunTime:0.000222s ]

---------------------------------------------------------------
[ 2019-01-22T22:39:07+08:00 ] 172.31.69.247 122.70.234.186 POST /discover/comment/datalist
[ log ] api.kzwchina.com/discover/comment/datalist [运行时间：0.031153s][吞吐率：32.10req/s] [内存消耗：3,938.08kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'comment',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '18',
)
[ info ] [ PARAM ] array (
  'type' => '1',
  'type_id' => '168',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Comment->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Comment.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000475s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000840s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000516s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_comment` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SELECT `a`.`id`,`a`.`type`,`a`.`type_id`,`a`.`contents`,`a`.`add_time`,`a`.`like_num`,`a`.`comment_num`,`u`.`nickname`,`u`.`face`,(select if(count(*)>0,1,0) from `tpn_comment_like` where `comment_id`=a.id and `uid`='144') is_like FROM `tpn_comment` `a` INNER JOIN `tpn_user` `u` ON `u`.`uid`=`a`.`uid` WHERE  `a`.`pid` = 0  AND `a`.`status` = 1  AND `a`.`type` = '1'  AND `a`.`type_id` = '168' ORDER BY id desc LIMIT 0,10 [ RunTime:0.000416s ]

---------------------------------------------------------------
[ 2019-01-22T22:39:10+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.039363s][吞吐率：25.40req/s] [内存消耗：4,044.39kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000827s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000512s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000689s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000507s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20191015610229822' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548167950 , 1548167950) [ RunTime:0.005549s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:39:37+08:00 ] 172.31.69.247 122.70.234.186 POST /common/order/order
[ log ] api.kzwchina.com/common/order/order [运行时间：0.038149s][吞吐率：26.21req/s] [内存消耗：4,044.39kb] [文件加载：64]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'order',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '29',
)
[ info ] [ PARAM ] array (
  'enterprise_id' => '0',
  'id' => '168',
  'type' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Order->Order[ /www/wwwroot/kouzhiwen/application/api/common/controller/Order.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000439s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000890s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000537s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_course` WHERE  `id` = 168 LIMIT 1 [ RunTime:0.000346s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_order` [ RunTime:0.000528s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_order` WHERE  `type` = 2  AND `uid` = 144  AND `type_id` = 168  AND `pay_status` = 2 LIMIT 1 [ RunTime:0.000502s ]
[ sql ] [ SQL ] INSERT INTO `tpn_order` (`order_number` , `enterprise_id` , `type` , `type_id` , `uid` , `price` , `name` , `pay_type` , `pay_status` , `created_at` , `updated_at`) VALUES ('20195754559760695' , 0 , 2 , 168 , 144 , 10 , '国' , 1 , 1 , 1548167977 , 1548167977) [ RunTime:0.005030s ]
[ error ] [8]未定义数组索引: OS[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:43]
[ error ] [8]未定义数组索引: version[/www/wwwroot/kouzhiwen/application/api/common/controller/Order.php:44]

---------------------------------------------------------------
[ 2019-01-22T22:40:29+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.110975s][吞吐率：9.01req/s] [内存消耗：5,123.91kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000849s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000592s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002942s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:29+08:00 ] 172.31.69.247 221.217.52.136 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.051113s][吞吐率：19.56req/s] [内存消耗：4,388.77kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '13',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000449s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000894s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000515s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000672s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 13 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 20  AND `status` = 1 LIMIT 1 [ RunTime:0.000310s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000586s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 13  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000291s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000614s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 43 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000482s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 81  AND `class_id` = 43 LIMIT 1 [ RunTime:0.000325s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000616s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '13'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000329s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000659s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 13  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000620s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000504s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 13 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000260s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:29+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.065462s][吞吐率：15.28req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000351s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000793s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000433s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000523s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000254s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:32+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/classify
[ log ] api.kzwchina.com/discover/article/classify [运行时间：0.046422s][吞吐率：21.54req/s] [内存消耗：3,975.78kb] [文件加载：63]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->classify[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000452s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001078s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000548s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify_user` [ RunTime:0.000589s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`name` FROM `tpn_classify_user` `u` INNER JOIN `tpn_classify` `c` ON `c`.`id`=`u`.`classify_id` WHERE  `u`.`uid` = 81 ORDER BY u.weight ASC [ RunTime:0.000565s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_classify` [ RunTime:0.000559s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_classify` WHERE  `enterprise_id` = 0  AND `id` NOT IN (30,29,31,33,34,36,35,37,32,38) [ RunTime:0.000464s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:32+08:00 ] 172.31.69.247 221.217.52.136 GET /common/study/paper_list?id=1&type=1&exam=2
[ log ] api.kzwchina.com/common/study/paper_list?id=1&type=1&exam=2 [运行时间：0.058846s][吞吐率：16.99req/s] [内存消耗：4,033.74kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'study',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'id' => '1',
  'type' => '1',
  'exam' => '2',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Study->PaperList[ /www/wwwroot/kouzhiwen/application/api/common/controller/Study.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000407s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000731s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000444s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_paper` [ RunTime:0.000568s ]
[ sql ] [ SQL ] SELECT `p`.`id`,`p`.`title`,`p`.`photo`,(SELECT COUNT(*) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81) num,(SELECT IF(COUNT(*)>0,1,0) FROM `tpn_paper_user` WHERE paper_id=p.id AND `uid`=81 AND `status`=1) is_paper FROM `tpn_paper` `p` WHERE  `p`.`type` = '1'  AND `p`.`class_id` = '1'  AND `p`.`start_time` <= '2019-01-22 22:40'  AND `p`.`end_time` >= '2019-01-22 22:40' [ RunTime:0.000381s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:32+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.078219s][吞吐率：12.78req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000380s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000661s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000453s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000526s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000268s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:33+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/datalist?classify_id=30&enterprise_id=0&page=1
[ log ] api.kzwchina.com/discover/article/datalist?classify_id=30&enterprise_id=0&page=1 [运行时间：0.045054s][吞吐率：22.20req/s] [内存消耗：3,938.65kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'enterprise_id' => '0',
  'page' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->datalist[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000528s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.001090s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000596s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000654s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 1 [ RunTime:0.000387s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`cover_img`,`author`,`add_time`,`comment_num`,`pv`,`is_recommend` FROM `tpn_information` WHERE  `status` = 1  AND `enterprise_id` = 0  AND `classify_id` = 30  AND `power` = 0 ORDER BY comment_num desc,is_recommend desc,id desc LIMIT 0,10 [ RunTime:0.000413s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:33+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/article/advertisements
[ log ] api.kzwchina.com/discover/article/advertisements [运行时间：0.061629s][吞吐率：16.23req/s] [内存消耗：3,916.27kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'article',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Article->advertisements[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Article.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000406s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000682s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000447s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_advertisements` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_advertisements` [ RunTime:0.000187s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:33+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/find_banner?classify_id=30&type=4
[ log ] api.kzwchina.com/discover/introduce/find_banner?classify_id=30&type=4 [运行时间：0.076526s][吞吐率：13.07req/s] [内存消耗：4,049.70kb] [文件加载：65]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'classify_id' => '30',
  'type' => '4',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->FindBanner[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000402s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000709s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000457s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000535s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `status` = 1  AND `type` = 4  AND `classify_id` = 30 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000286s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000549s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_information` WHERE  `id` = 24 LIMIT 1 [ RunTime:0.000313s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:33+08:00 ] 172.31.69.247 221.217.52.136 GET /discover/introduce/article_list?page=1&type=1
[ log ] api.kzwchina.com/discover/introduce/article_list?page=1&type=1 [运行时间：0.031188s][吞吐率：32.06req/s] [内存消耗：3,868.30kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'discover',
    2 => 'introduce',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
  'page' => '1',
  'type' => '1',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\discover\controller\Introduce->articleList[ /www/wwwroot/kouzhiwen/application/api/discover/controller/Introduce.php ]
[ info ] [ DB ] INIT mysql
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000451s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000820s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000500s ]
[ sql ] [ DB ] CONNECT:[ UseTime:0.000285s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_introduce` [ RunTime:0.000633s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 LIMIT 1 [ RunTime:0.000283s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_introduce` WHERE  `type` = 1  AND `status` = 1 ORDER BY id desc LIMIT 0,10 [ RunTime:0.000312s ]

---------------------------------------------------------------
[ 2019-01-22T22:40:35+08:00 ] 172.31.69.247 221.217.52.136 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031080s][吞吐率：32.18req/s] [内存消耗：3,946.41kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=7dbbk9b4rjlt79qi1j4geelvq5',
  'logintoken' => '47d974f29666bba0471360d15809c440',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000431s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000833s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '47d974f29666bba0471360d15809c440' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000562s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 81  AND `reading` = 0 LIMIT 1 [ RunTime:0.000274s ]

---------------------------------------------------------------
[ 2019-01-22T22:42:21+08:00 ] 172.31.69.247 122.70.234.186 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.031293s][吞吐率：31.96req/s] [内存消耗：3,946.35kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lama3o0kl64a0qmjj70v3l9pj0',
  'logintoken' => '2fe5aafa1f025f638865319df8751dbd',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 11.4; Scale/2.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000481s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000843s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '2fe5aafa1f025f638865319df8751dbd' LIMIT 1 [ RunTime:0.000518s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000561s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 144  AND `reading` = 0 LIMIT 1 [ RunTime:0.000261s ]

---------------------------------------------------------------
[ 2019-01-22T22:43:22+08:00 ] 172.31.69.247 221.218.138.184 GET /common/user/my_info
[ log ] api.kzwchina.com/common/user/my_info [运行时间：0.112716s][吞吐率：8.87req/s] [内存消耗：5,123.69kb] [文件加载：62]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->myInfo[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000509s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000891s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000533s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_regions` [ RunTime:0.000522s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_regions` [ RunTime:0.002938s ]

---------------------------------------------------------------
[ 2019-01-22T22:43:22+08:00 ] 172.31.69.247 221.218.140.44 GET /common/user/notice_count
[ log ] api.kzwchina.com/common/user/notice_count [运行时间：0.039540s][吞吐率：25.29req/s] [内存消耗：3,946.24kb] [文件加载：60]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'user',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'cookie' => 'PHPSESSID=lhms2ga1efddi2e8c9nku94b65',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'accept-language' => 'zh-Hans-CN;q=1',
  'accept-encoding' => 'gzip, deflate',
  'connection' => 'keep-alive',
)
[ info ] [ PARAM ] array (
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\User->NoticeCount[ /www/wwwroot/kouzhiwen/application/api/common/controller/User.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000420s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000836s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000520s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user_notice` [ RunTime:0.000541s ]
[ sql ] [ SQL ] SELECT COUNT(*) AS tp_count FROM `tpn_user_notice` WHERE  `uid` = 146  AND `reading` = 0 LIMIT 1 [ RunTime:0.000262s ]

---------------------------------------------------------------
[ 2019-01-22T22:43:22+08:00 ] 172.31.69.247 114.249.182.230 POST /common/home/index
[ log ] api.kzwchina.com/common/home/index [运行时间：0.065657s][吞吐率：15.23req/s] [内存消耗：4,388.98kb] [文件加载：70]
[ info ] [ LANG ] /www/wwwroot/kouzhiwen/thinkphp/lang/zh-cn.php
[ info ] [ BIND ] 'api'
[ info ] [ ROUTE ] array (
  'type' => 'module',
  'module' => 
  array (
    0 => 'api',
    1 => 'common',
    2 => 'home',
  ),
)
[ info ] [ HEADER ] array (
  'host' => 'api.kzwchina.com',
  'accept' => '*/*',
  'version' => '1.0',
  'os' => 'iOS',
  'accept-encoding' => 'gzip, deflate',
  'accept-language' => 'zh-Hans-CN;q=1',
  'logintoken' => '7ddbaa9ffcea05d64578722ae517b27b',
  'user-agent' => 'kouzhiwen/1.0 (iPhone; iOS 12.1.2; Scale/3.00)',
  'connection' => 'keep-alive',
  'cookie' => 'PHPSESSID=lhms2ga1efddi2e8c9nku94b65',
  'content-type' => 'application/x-www-form-urlencoded',
  'content-length' => '35',
)
[ info ] [ PARAM ] array (
  'OS' => 'iOS',
  'enterprise_id' => '17',
  'version' => '1.0',
)
[ info ] [ SESSION ] INIT array (
  'id' => '',
  'var_session_id' => '',
  'prefix' => 'think',
  'type' => '',
  'auto_start' => true,
)
[ info ] [ DB ] INIT mysql
[ info ] [ RUN ] app\api\common\controller\Home->index[ /www/wwwroot/kouzhiwen/application/api/common/controller/Home.php ]
[ info ] [ LOG ] INIT File
[ sql ] [ DB ] CONNECT:[ UseTime:0.000367s ] mysql:dbname=kouzhiwen;host=127.0.0.1;port=3306;charset=utf8
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_user` [ RunTime:0.000681s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_user` WHERE  `logintoken` = '7ddbaa9ffcea05d64578722ae517b27b' LIMIT 1 [ RunTime:0.000472s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_enterprise` [ RunTime:0.000658s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_enterprise` WHERE  `id` = 17 LIMIT 1 [ RunTime:0.000324s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_banner` [ RunTime:0.000511s ]
[ sql ] [ SQL ] SELECT `pid`,`mold`,`type`,`img_url` FROM `tpn_banner` WHERE  `enterprise_id` = 17  AND `type` = 1  AND `status` = 1 ORDER BY add_time desc LIMIT 0,4 [ RunTime:0.000288s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class` [ RunTime:0.000578s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 55 LIMIT 1 [ RunTime:0.000307s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_class_user` [ RunTime:0.000498s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 55 LIMIT 1 [ RunTime:0.000315s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class` WHERE  `id` = 54 LIMIT 1 [ RunTime:0.000255s ]
[ sql ] [ SQL ] SELECT * FROM `tpn_class_user` WHERE  `uid` = 146  AND `class_id` = 54 LIMIT 1 [ RunTime:0.000321s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_course` [ RunTime:0.000620s ]
[ sql ] [ SQL ] SELECT `c`.`id`,`c`.`title`,`c`.`photo`,`c`.`reading`,`c`.`look_num`,`t`.`name`,`c`.`price` FROM `tpn_course` `c` LEFT JOIN `tpn_teacher` `t` ON `c`.`teacher_id`=`t`.`id` WHERE  `c`.`enterprise_id` = '17'  AND `c`.`type` = 3  AND `c`.`scene` = 1 ORDER BY c.is_recommend desc,c.created_at desc LIMIT 0,4 [ RunTime:0.000305s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_teacher` [ RunTime:0.000657s ]
[ sql ] [ SQL ] SELECT `id`,`name`,`title`,`photo` FROM `tpn_teacher` WHERE  `enterprise_id` = 17  AND `status` = 1  AND `is_xszd` = 0  AND `identity` LIKE '%3%' ORDER BY is_recommend desc,updated_at desc LIMIT 0,4 [ RunTime:0.000573s ]
[ sql ] [ SQL ] SHOW COLUMNS FROM `tpn_information` [ RunTime:0.000500s ]
[ sql ] [ SQL ] SELECT `id`,`cover_img`,`name`,`add_time`,`comment_num`,`pv` FROM `tpn_information` WHERE  `enterprise_id` = 17 ORDER BY `is_recommend`  desc,`add_time`  desc LIMIT 0,2 [ RunTime:0.000262s ]

---------------------------------------------------------------
